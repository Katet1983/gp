var mapti={};(function($){mapti={loadingOverlay:function(action){var $overlay=$('#mapti-loading-overlay');if(action===undefined){var action='show';}
if($overlay.length==0){$('body').append('<div id="mapti-loading-overlay" style="display:none"></div>');$overlay=$('#mapti-loading-overlay');}
switch(action){case 'show':$overlay.show();break;case 'hide':$overlay.hide();break;}},initGameFilters:function(){var $form=$('#mapti-games-filter-form');$form.on('change','select',function(e){e.preventDefault();var $this=$(this);if('game_cat'==$this.attr('name')){var val=$this.val();mapti.loadingOverlay('show');if(typeof(mapti_i18n.gameCats[val])=='undefined'){window.location.href=mapti_i18n.gamesURL;}else{window.location.href=mapti_i18n.gameCats[val];}
return;}
else{mapti.updateGameList();}});},updateGameList:function(){var $form=$('#mapti-games-filter-form');var data=$form.serialize();var url=mapti_i18n.ajaxurl+'?action=mapti_update_game_list';mapti.loadingOverlay('show');$.post(url,data).done(function(resp){$('.mapti_navigation').remove();mapti.loadingOverlay('hide');$('#mapti-games').replaceWith(resp);$("html, body").animate({scrollTop:$('#mapti_games_top').offset().top-150},1000);$(document).trigger("scroll");});},}}(jQuery));jQuery(document).ready(function(){mapti.initGameFilters();});