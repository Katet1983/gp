!function(e){"use strict";var s={},i=function(){return Ms.__string_rec(this,"")};function t(t,e){function s(){}s.prototype=t;var i=new s;for(var n in e)i[n]=e[n];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}var g=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};(s.EReg=g).__name__=["EReg"],g.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw new Ls("EReg::matched")},split:function(t){var e="#__delim__#";return t.replace(this.r,e).split(e)},__class__:g};var $=function(){};(s.HxOverrides=$).__name__=["HxOverrides"],$.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),s=new Date;return s.setTime(0),s.setUTCHours(e[0]),s.setUTCMinutes(e[1]),s.setUTCSeconds(e[2]),s;case 10:var i=t.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var n=t.split(" "),r=n[0].split("-"),a=n[1].split(":");return new Date(r[0],r[1]-1,r[2],a[0],a[1],a[2]);default:throw new Ls("Invalid date format : "+t)}},$.cca=function(t,e){var s=t.charCodeAt(e);if(s==s)return s},$.substr=function(t,e,s){if(null==s)s=t.length;else if(s<0){if(0!=e)return"";s=t.length+s}return t.substr(e,s)},$.remove=function(t,e){var s=t.indexOf(e);return-1!=s&&(t.splice(s,1),!0)},$.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var f=function(){};(s.Lambda=f).__name__=["Lambda"],f.has=function(t,e){for(var s=ii(t)();s.hasNext();){if(s.next()==e)return!0}return!1},f.exists=function(t,e){for(var s=ii(t)();s.hasNext();){if(e(s.next()))return!0}return!1};var tt=function(){this.length=0};(s.List=tt).__name__=["List"],tt.prototype={add:function(t){var e=new n(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(t){var e=new n(t,this.h);this.h=e,null==this.q&&(this.q=e),this.length++},remove:function(t){for(var e=null,s=this.h;null!=s;){if(s.item==t)return null==e?this.h=s.next:e.next=s.next,this.q==s&&(this.q=e),this.length--,!0;s=(e=s).next}return!1},iterator:function(){return new r(this.h)},__class__:tt};var n=function(t,e){this.item=t,this.next=e};(s["_List.ListNode"]=n).__name__=["_List","ListNode"],n.prototype={__class__:n};var r=function(t){this.head=t};(s["_List.ListIterator"]=r).__name__=["_List","ListIterator"],r.prototype={hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t},__class__:r},Math.__name__=["Math"];var V=function(){};(s.Reflect=V).__name__=["Reflect"],V.field=function(t,e){try{return t[e]}catch(t){return null}},V.getProperty=function(t,e){var s;return null==t?null:!!t.__properties__&&(s=t.__properties__["get_"+e])?t[s]():t[e]},V.setProperty=function(t,e,s){var i;!!t.__properties__&&(i=t.__properties__["set_"+e])?t[i](s):t[e]=s},V.fields=function(t){var e=[];if(null!=t){var s=Object.prototype.hasOwnProperty;for(var i in t)"__id__"!=i&&"hx__closures__"!=i&&s.call(t,i)&&e.push(i)}return e},V.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},V.compareMethods=function(t,e){return t==e||!(!V.isFunction(t)||!V.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},V.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};var z=function(){};(s.Std=z).__name__=["Std"],z.string=function(t){return Ms.__string_rec(t,"")},z.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=$.cca(t,1)&&88!=$.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},z.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};var U=function(){this.b=""};(s.StringBuf=U).__name__=["StringBuf"],U.prototype={__class__:U};var E=function(){};(s.StringTools=E).__name__=["StringTools"],E.htmlEscape=function(t,e){return t=t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),e?t.split('"').join("&quot;").split("'").join("&#039;"):t},E.isSpace=function(t,e){var s=$.cca(t,e);return 8<s&&s<14||32==s},E.ltrim=function(t){for(var e=t.length,s=0;s<e&&E.isSpace(t,s);)++s;return 0<s?$.substr(t,s,e-s):t},E.rtrim=function(t){for(var e=t.length,s=0;s<e&&E.isSpace(t,e-s-1);)++s;return 0<s?$.substr(t,0,e-s):t},E.trim=function(t){return E.ltrim(E.rtrim(t))},E.replace=function(t,e,s){return t.split(e).join(s)},E.hex=function(t,e){for(var s="";s="0123456789ABCDEF".charAt(15&t)+s,0<(t>>>=4););if(null!=e)for(;s.length<e;)s="0"+s;return s};var a=s.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};a.TNull=["TNull",0],a.TNull.toString=i,(a.TNull.__enum__=a).TInt=["TInt",1],a.TInt.toString=i,(a.TInt.__enum__=a).TFloat=["TFloat",2],a.TFloat.toString=i,(a.TFloat.__enum__=a).TBool=["TBool",3],a.TBool.toString=i,(a.TBool.__enum__=a).TObject=["TObject",4],a.TObject.toString=i,(a.TObject.__enum__=a).TFunction=["TFunction",5],a.TFunction.toString=i,(a.TFunction.__enum__=a).TClass=function(t){var e=["TClass",6,t];return e.__enum__=a,e.toString=i,e},a.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=a,e.toString=i,e},a.TUnknown=["TUnknown",8],a.TUnknown.toString=i,a.TUnknown.__enum__=a;var et=function(){};(s.Type=et).__name__=["Type"],et.getEnum=function(t){return null==t?null:t.__enum__},et.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},et.getEnumName=function(t){return t.__ename__.join(".")},et.resolveClass=function(t){var e=s[t];return null!=e&&e.__name__?e:null},et.resolveEnum=function(t){var e=s[t];return null!=e&&e.__ename__?e:null},et.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},et.createEnum=function(t,e,s){var i=V.field(t,e);if(null==i)throw new Ls("No such constructor "+e);if(V.isFunction(i)){if(null==s)throw new Ls("Constructor "+e+" need parameters");return i.apply(t,s)}if(null!=s&&0!=s.length)throw new Ls("Constructor "+e+" does not need parameters");return i},et.createEnumIndex=function(t,e,s){var i=t.__constructs__[e];if(null==i)throw new Ls(e+" is not a valid enum constructor index");return et.createEnum(t,i,s)},et.typeof=function(t){switch(typeof t){case"boolean":return a.TBool;case"function":return t.__name__||t.__ename__?a.TObject:a.TFunction;case"number":return Math.ceil(t)==t%2147483648?a.TInt:a.TFloat;case"object":if(null==t)return a.TNull;var e=t.__enum__;if(null!=e)return a.TEnum(e);var s=Ms.getClass(t);return null!=s?a.TClass(s):a.TObject;case"string":return a.TClass(String);case"undefined":return a.TNull;default:return a.TUnknown}},et.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var s=2,i=t.length;s<i;){var n=s++;if(!et.enumEq(t[n],e[n]))return!1}var r=t.__enum__;if(r!=e.__enum__||null==r)return!1}catch(t){return!1}return!0};var P=function(t){this.nodeType=t,this.children=[],this.attributeMap=new Ns};(s.Xml=P).__name__=["Xml"],P.parse=function(t){return Us.parse(t)},P.createElement=function(t){var e=new P(P.Element);if(e.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},P.createPCData=function(t){var e=new P(P.PCData);if(e.nodeType==P.Document||e.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},P.createCData=function(t){var e=new P(P.CData);if(e.nodeType==P.Document||e.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},P.createComment=function(t){var e=new P(P.Comment);if(e.nodeType==P.Document||e.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},P.createDocType=function(t){var e=new P(P.DocType);if(e.nodeType==P.Document||e.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},P.createProcessingInstruction=function(t){var e=new P(P.ProcessingInstruction);if(e.nodeType==P.Document||e.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},P.createDocument=function(){return new P(P.Document)},P.prototype={get:function(t){if(this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=di[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+this.nodeType);var s=this.attributeMap;null!=di[t]?s.setReserved(t,e):s.h[t]=e},exists:function(t){if(this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=di[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},attributes:function(){if(this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},elements:function(){if(this.nodeType!=P.Document&&this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=[],e=0,s=this.children;e<s.length;){var i=s[e];++e,i.nodeType==P.Element&&t.push(i)}return $.iter(t)},firstElement:function(){if(this.nodeType!=P.Document&&this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=0,e=this.children;t<e.length;){var s=e[t];if(++t,s.nodeType==P.Element)return s}return null},addChild:function(t){if(this.nodeType!=P.Document&&this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=P.Document&&this.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+this.nodeType);return!!$.remove(this.children,t)&&!(t.parent=null)},__class__:P};var _=function(){};(s["awe6.interfaces.IPauseable"]=_).__name__=["awe6","interfaces","IPauseable"],_.prototype={__class__:_};var o=function(){};(s["awe6.interfaces.IDisposable"]=o).__name__=["awe6","interfaces","IDisposable"],o.prototype={__class__:o};var h=function(){};(s["awe6.interfaces.IUpdateable"]=h).__name__=["awe6","interfaces","IUpdateable"],h.prototype={__class__:h};var l=function(){};(s["awe6.interfaces.IProcess"]=l).__name__=["awe6","interfaces","IProcess"],l.__interfaces__=[_,o,h];var c=function(t){this._kernel=t,this._tools=this._kernel.tools,this._isEntity=Ms.__instanceof(this,y),this._init()};(s["awe6.core.Process"]=c).__name__=["awe6","core","Process"],c.__interfaces__=[l],c.prototype={_init:function(){this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this.isDisposed=!1,this._age=0,this._updates=0},dispose:function(){this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())},_disposer:function(){},getAge:function(t){return null==t&&(t=!0),t?this._age:this._updates},update:function(t){null==t&&(t=0),this.isActive&&!this.isDisposed&&(this._age+=t,this._updates++,this._updater(t))},_updater:function(t){null==t&&(t=0)},set_isActive:function(t){return this.isDisposed?this.isActive=!1:(t!=this.isActive&&(this._isIsActiveSetterBypassed?this.isActive=t:t?this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ee.RESUME,this,!0,!0,!0)):this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ee.PAUSE,this,!0,!0,!0))),this._isIsActiveSetterBypassed=!1,this.isActive)},pause:function(){this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ee.PAUSE,this,!0,!0,!0))},_pauser:function(){},resume:function(){this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ee.RESUME,this,!0,!0,!0))},_resumer:function(){},__class__:c,__properties__:{set_isActive:"set_isActive"}};var u=function(){};(s["awe6.interfaces.IAgendaManager"]=u).__name__=["awe6","interfaces","IAgendaManager"],u.prototype={__class__:u};var d=function(){};(s["awe6.interfaces.IEntityCollection"]=d).__name__=["awe6","interfaces","IEntityCollection"],d.__interfaces__=[u],d.prototype={__class__:d};var p=function(){};(s["awe6.interfaces.IViewable"]=p).__name__=["awe6","interfaces","IViewable"],p.prototype={__class__:p,__properties__:{get_view:"get_view"}};var y=function(){};(s["awe6.interfaces.IEntity"]=y).__name__=["awe6","interfaces","IEntity"],y.__interfaces__=[d,p,l],y.prototype={__class__:y,__properties__:{get_parent:"get_parent"}};var v=function(t,e,s){null==this.get_view()&&(this.view=new Vt(t,s,0,this)),this.set_id(null==e?t.tools.createGuid():e),c.call(this,t)};(s["awe6.core.Entity"]=v).__name__=["awe6","core","Entity"],v.__interfaces__=[y],v.__super__=c,v.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this.agenda=Qt.ALWAYS,this._entityAgendaPairs=new Rs,this._isAgendaDirty=!0,this._cachedEntities=[]},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t),this._isAgendaDirty&&(this._cachedEntities=this._getEntities(this.get_agenda()),et.enumEq(this.get_agenda(),Qt.ALWAYS)||(this._cachedEntities=this._cachedEntities.concat(this._getEntities(Qt.ALWAYS))),this._isAgendaDirty=!1);for(var e=0,s=this._cachedEntities;e<s.length;){var i=s[e];++e,i.update(t)}},_disposer:function(){this.remove(),this._kernel.messenger.removeSubscribers(this),this._kernel.messenger.removeSubscribers(null,null,null,this,null);var t=this._getEntities();t.reverse();for(var e=0;e<t.length;){var s=t[e];++e,s.dispose()}for(var i=this._entityAgendaPairs.iterator();i.hasNext();){var n=i.next();this._entityAgendaPairs.remove(n)}this.get_view().dispose(),c.prototype._disposer.call(this)},addEntity:function(t,e,s,i){if(null==i&&(i=0),null==s&&(s=!1),this.isDisposed||null==t)return null;null==e&&(e=Qt.ALWAYS);for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();if(r.entity==t&&et.enumEq(r.agenda,e))return t}(this._isAgendaDirty=!0,t.get_parent()!=this)&&(t.remove(s),Ms.__instanceof(t,v)&&t._setParent(this));var a=new A(t,e),_=this._entityAgendaPairs;return _.head=new As(a,_.head),s&&(et.enumEq(e,this.get_agenda())||e==Qt.ALWAYS?this.get_view().addChild(t.get_view(),i):(t.get_view().set_priority(i),a.isAddedToView=!0)),t},removeEntity:function(t,e,s){if(null==s&&(s=!1),!this.isDisposed&&null!=t){for(var i=!1,n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();r.entity!=t||null!=e&&!et.enumEq(r.agenda,e)||(this._entityAgendaPairs.remove(r),i=!0)}if(i){if(this._isAgendaDirty=!0,Ms.__instanceof(t,v))t._setParent(null);s&&t.get_view().remove()}}},remove:function(t){null==t&&(t=!1),null!=this.get_parent()&&this.get_parent().removeEntity(this,null,t)},getEntities:function(t){return this._getEntities(t)},_getEntities:function(t){if(!this._isAgendaDirty&&(null==t||et.enumEq(t,this.get_agenda())))return this._cachedEntities;for(var e=[],s=this._entityAgendaPairs.iterator();s.hasNext();){var i=s.next();(null==t||et.enumEq(t,i.agenda))&&e.push(i.entity)}return e.reverse(),e},getEntitiesByClass:function(t,e,s,i,n){if(null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),n&&null!=this._kernel.scenes.get_scene())return this._kernel.scenes.get_scene().getEntitiesByClass(t,e,!0);for(var r=[],a=this._getEntities(e),_=0;_<a.length;){var o=a[_];++_,Ms.__instanceof(o,t)&&r.push(o),s&&(r=r.concat(o.getEntitiesByClass(t,e,!0)))}return i&&null!=this.get_parent()&&(r=r.concat(this.get_parent().getEntitiesByClass(t,e,!1,!0))),r},setAgenda:function(t){if(null==t&&(t=Qt.ALWAYS),et.enumEq(this.get_agenda(),t))return!1;this._isAgendaDirty=!0;for(var e=this._entityAgendaPairs.iterator();e.hasNext();){var s=e.next(),i=et.enumEq(this.get_agenda(),s.agenda)&&s.entity.get_view().get_parent()==this.get_view();i&&s.entity.get_view().remove(),s.isAddedToView=s.isAddedToView||i}this.agenda=t;for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();r.isAddedToView&&(et.enumEq(Qt.ALWAYS,r.agenda)||et.enumEq(this.get_agenda(),r.agenda))&&this.get_view().addChild(r.entity.get_view())}return!0},_setParent:function(t){this.parent=t},set_id:function(t){return this.id=t,this.id},get_agenda:function(){return this.agenda},get_parent:function(){return this.parent},get_view:function(){return this.view},__class__:v,__properties__:t(c.prototype.__properties__,{get_view:"get_view",get_parent:"get_parent",get_agenda:"get_agenda",set_id:"set_id"})});var m=function(){};(s["awe6.interfaces.IPositionable"]=m).__name__=["awe6","interfaces","IPositionable"],m.prototype={__class__:m,__properties__:{set_y:"set_y",set_x:"set_x"}};var w=function(t,e,s,i,n,r,a,_,o,h,l){null==a&&(a=0),null==r&&(r=0),null==n&&(n=20),null==i&&(i=100),this._stateUp=new S(t,e),this._stateOver=new S(t,s),this.x=r,this.y=a,this.set_width(i),this.set_height(n),this._keyType=_,this.onClickCallback=o,this.onRollOverCallback=h,this.onRollOutCallback=l,v.call(this,t)};(s["awe6.core.BasicButton"]=w).__name__=["awe6","core","BasicButton"],w.__interfaces__=[m],w.__super__=v,w.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this),this.get_view().set_x(this.x),this.get_view().set_y(this.y),this.isOver=!1,this.addEntity(this._stateUp,Qt.SUB_TYPE(T.UP),!0),this.addEntity(this._stateOver,Qt.SUB_TYPE(T.OVER),!0),this.setAgenda(Qt.SUB_TYPE(T.UP))},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t);var e=this._kernel.inputs.mouse,s=this._isPointInsideRectangle(e.x+this.get_view().x-this.get_view().globalX,e.y+this.get_view().y-this.get_view().globalY,this.x,this.y,this.width,this.height);s&&e.set_cursorType(ie.BUTTON),s&&!this.isOver&&this.onRollOver(),!s&&this.isOver&&(e.set_cursorType(ie.AUTO),this.onRollOut()),this.isOver=s,this.isOver&&e.getIsButtonDown()&&this.setAgenda(Qt.SUB_TYPE(T.OVER)),this.isOver&&e.getIsButtonRelease()&&this.onClick(),null!=this._keyType&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyType)&&this.onClick()},_isPointInsideRectangle:function(t,e,s,i,n,r){return!(t<s)&&(!(e<i)&&(!(s+n<t)&&!(i+r<e)))},onClick:function(){this.setAgenda(Qt.SUB_TYPE(T.UP)),null!=this.onClickCallback&&this.onClickCallback()},onRollOver:function(){this.setAgenda(Qt.SUB_TYPE(T.OVER)),null!=this.onRollOverCallback&&this.onRollOverCallback()},onRollOut:function(){this.setAgenda(Qt.SUB_TYPE(T.UP)),null!=this.onRollOutCallback&&this.onRollOutCallback()},setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,null!=this.get_view()&&this.get_view().set_x(this.x),this.x},set_y:function(t){return this.y=t,null!=this.get_view()&&this.get_view().set_y(this.y),this.y},set_width:function(t){return this.width=t,this.width},set_height:function(t){return this.height=t,this.height},__class__:w,__properties__:t(v.prototype.__properties__,{set_height:"set_height",set_width:"set_width",set_y:"set_y",set_x:"set_x"})});var S=function(t,e){v.call(this,t),this.view=e};(s["awe6.core._BasicButton._HelperState"]=S).__name__=["awe6","core","_BasicButton","_HelperState"],S.__super__=v,S.prototype=t(v.prototype,{__class__:S});var T=s["awe6.core._BasicButton._HelperEState"]={__ename__:["awe6","core","_BasicButton","_HelperEState"],__constructs__:["UP","OVER"]};T.UP=["UP",0],T.UP.toString=i,(T.UP.__enum__=T).OVER=["OVER",1],T.OVER.toString=i,T.OVER.__enum__=T;var b=function(){};(s["awe6.interfaces.IEncrypter"]=b).__name__=["awe6","interfaces","IEncrypter"],b.prototype={__class__:b};var C=function(t){this._defaultSecret=t};(s["awe6.core.Encrypter"]=C).__name__=["awe6","core","Encrypter"],C.__interfaces__=[b],C.prototype={decrypt:function(t,e){null==e&&(e="");var s=""!=e?e:this._defaultSecret;return this._xor(t,s)},_xor:function(t,e){for(var s=new Ts(new pi(t.length)),i=0,n=0,r=s.length;n<r;){var a=n++,_=t.b[a]^$.cca(e,i);s.b[a]=255&_,++i>=e.length&&(i=0)}return s},__class__:C};var A=function(t,e){this.entity=t,this.agenda=e,this.isAddedToView=!1};(s["awe6.core._Entity._HelperEntityAgendaPair"]=A).__name__=["awe6","core","_Entity","_HelperEntityAgendaPair"],A.prototype={__class__:A};var R=function(){};(s["awe6.interfaces.IInputJoypad"]=R).__name__=["awe6","interfaces","IInputJoypad"],R.prototype={__class__:R};var I=function(t,e,s,i,n,r,a,_,o,h,l,c,u,d){this._kernel=t,this._keyUp=null!=e?e:te.UP,this._keyRight=null!=s?s:te.RIGHT,this._keyDown=null!=i?i:te.DOWN,this._keyLeft=null!=n?n:te.LEFT,this._keyPrimary=null!=r?r:te.SPACE,this._keySecondary=null!=a?a:te.Z,this._keyUpAlt=null!=_?_:te.W,this._keyRightAlt=null!=o?o:te.D,this._keyDownAlt=null!=h?h:te.S,this._keyLeftAlt=null!=l?l:te.A,this._keyPrimaryAlt=null!=c?c:te.Q,this._keySecondaryAlt=null!=u?u:te.E,this._joypadTouchType=null!=d?d:this._kernel.factory.joypadTouchType,this._isTouchEnabled=this._kernel.factory.joypadTouchType!=$t.DISABLED,this._joypadStateCache={age:0,isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:!1,isPrevUp:!1,isPrevRight:!1,isPrevDown:!1,isPrevLeft:!1}};(s["awe6.core.InputJoypad"]=I).__name__=["awe6","core","InputJoypad"],I.__interfaces__=[R],I.prototype={_checkKeyboard:function(t,e){switch(t[1]){case 0:return!!this._checkKeyboard(qt.PRIMARY,e)||this._checkKeyboard(qt.SECONDARY,e);case 1:return!!e(this._keyUp)||e(this._keyUpAlt);case 2:return!!e(this._keyRight)||e(this._keyRightAlt);case 3:return!!e(this._keyDown)||e(this._keyDownAlt);case 4:return!!e(this._keyLeft)||e(this._keyLeftAlt);case 5:return!!e(this._keyPrimary)||e(this._keyPrimaryAlt);case 6:return!!e(this._keySecondary)||e(this._keySecondaryAlt)}},getIsButtonDown:function(t){return!!this._checkKeyboard(t,ai(ni=this._kernel.inputs.keyboard,ni.getIsKeyDown))||!!this._isTouchEnabled&&this._checkTouchIsDown(t)},getIsButtonPress:function(t){return!!this._checkKeyboard(t,ai(ni=this._kernel.inputs.keyboard,ni.getIsKeyPress))||!!this._isTouchEnabled&&this._checkTouchIsPress(t)},_getTouchButtonPosition:function(t){switch(t[1]){case 1:return{x:.5*this._kernel.factory.width,y:.25*this._kernel.factory.height};case 2:return{x:.75*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 3:return{x:.5*this._kernel.factory.width,y:.75*this._kernel.factory.height};case 4:return{x:.25*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 0:case 5:case 6:return{x:.5*this._kernel.factory.width,y:.5*this._kernel.factory.height}}},_getClosestTouchButton:function(t,e){null==t&&(t=this._mouse.x),null==e&&(e=this._mouse.y);for(var s=99999999,i=qt.FIRE,n=0,r=[qt.FIRE,qt.UP,qt.RIGHT,qt.DOWN,qt.LEFT,qt.PRIMARY];n<r.length;){var a=r[n];++n;var _=this._getTouchButtonPosition(a),o=this._kernel.tools.distance(t,e,_.x,_.y,!0);o<s&&(s=o,i=a)}return i},_getTouchState:function(){var t;if(null!=this._mouse?t=!0:Ms.__instanceof(this._kernel.inputs.mouse,Pt)?(this._mouse=Ms.__cast(this._kernel.inputs.mouse,Pt),t=!0):t=!1,!t||this._mouse.getAge()==this._joypadStateCache.age)return this._joypadStateCache;var e={age:this._mouse.getAge(),isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:this._joypadStateCache.isFire,isPrevUp:this._joypadStateCache.isUp,isPrevRight:this._joypadStateCache.isRight,isPrevDown:this._joypadStateCache.isDown,isPrevLeft:this._joypadStateCache.isLeft},s=this._joypadTouchType;switch(s[1]){case 1:var i=this._getClosestTouchButton();e.isFire=i==qt.FIRE&&this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._mouse.getIsButtonDown()&&(e.isUp=i==qt.UP,e.isRight=i==qt.RIGHT,e.isDown=i==qt.DOWN,e.isLeft=i==qt.LEFT);break;case 2:var n=s[2];null==n&&(n=20),e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,e.isUp=this._mouse.getButtonDragHeight()<-n,e.isRight=this._mouse.getButtonDragWidth()>n,e.isDown=this._mouse.getButtonDragHeight()>n,e.isLeft=this._mouse.getButtonDragWidth()<-n;break;case 3:var r=s[2];if(e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._kernel.inputs.mouse.getIsButtonDown()){null==r&&(r=100);var a=this._mouse.getDeltaX(),_=this._mouse.getDeltaY();e.isUp=_<-r,e.isRight=r<a,e.isDown=r<_,e.isLeft=a<-r}}return this._joypadStateCache=e,this._joypadStateCache},_checkTouchIsDown:function(t){var e=this._getTouchState();switch(t[1]){case 1:return e.isUp;case 2:return e.isRight;case 3:return e.isDown;case 4:return e.isLeft;case 0:case 5:case 6:return e.isFire}},_checkTouchIsPress:function(t){var e=this._getTouchState();switch(t[1]){case 1:return!!e.isUp&&!e.isPrevUp;case 2:return!!e.isRight&&!e.isPrevRight;case 3:return!!e.isDown&&!e.isPrevDown;case 4:return!!e.isLeft&&!e.isPrevLeft;case 0:case 5:case 6:return!!e.isFire&&!e.isPrevFire}},__class__:I};var k=function(){};(s["awe6.interfaces.IResettable"]=k).__name__=["awe6","interfaces","IResettable"],k.prototype={__class__:k};var N=function(){};(s["awe6.interfaces.IInputManager"]=N).__name__=["awe6","interfaces","IInputManager"],N.__interfaces__=[k],N.prototype={__class__:N};var x=function(t){c.call(this,t)};(s["awe6.core.InputManager"]=x).__name__=["awe6","core","InputManager"],x.__interfaces__=[N],x.__super__=c,x.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this.joypad=this.createJoypad(),this.keyboard=this._inputKeyboard=new Ut(this._kernel),this.mouse=this._inputMouse=new Pt(this._kernel)},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t);var e=this._inputKeyboard;e.isActive&&!e.isDisposed&&(e._age+=t,e._updates++,e._updater(t));var s=this._inputMouse;s.isActive&&!s.isDisposed&&(s._age+=t,s._updates++,s._updater(t))},_disposer:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer());var e=this._inputMouse;e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),c.prototype._disposer.call(this)},createJoypad:function(t,e,s,i,n,r,a,_,o,h,l,c,u){return new I(this._kernel,t,e,s,i,n,r,a,_,o,h,l,c,u)},reset:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer());var e=this._inputMouse;return e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),this._init(),!0},__class__:x});var D=function(){};(s["awe6.interfaces.IMessageManager"]=D).__name__=["awe6","interfaces","IMessageManager"],D.__interfaces__=[k],D.prototype={__class__:D};var O=function(t){c.call(this,t)};(s["awe6.core.MessageManager"]=O).__name__=["awe6","core","MessageManager"],O.__interfaces__=[D],O.__super__=c,O.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this._isVerbose=!1,this._subscriptions=new Rs,this._messageQueue=new tt},addSubscriber:function(t,e,s,i,n,r){null==r&&(r=!1);var a=new L(t,e,s,i,n,r),_=this._subscriptions;_.head=new As(a,_.head)},removeSubscribers:function(t,e,s,i,n){for(var r=this._getSubscriptions(t,e,s,i,n,!0).iterator();r.hasNext();){var a=r.next();this._subscriptions.remove(a),this._isVerbose&&Es.trace("Removing "+z.string(a.sender)+":"+z.string(a.message),{fileName:"MessageManager.hx",lineNumber:80,className:"awe6.core.MessageManager",methodName:"removeSubscribers"})}},sendMessage:function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),this._sendMessage(t,e,e,s,i,n)},reset:function(){return this.removeSubscribers(),this._messageQueue=new tt,!0},_updater:function(t){if(null==t&&(t=0),c.prototype._updater.call(this,t),this._isOkToSendMessage())for(var e=this._messageQueue.h;null!=e;){var s=e.item;e=e.next;var i=s;this._sendMessage(i.message,i.sender,i.target,i.isBubbleDown,i.isBubbleUp,i.isBubbleEverywhere),this._messageQueue.remove(i)}},_isOkToSendMessage:function(){return null!=this._kernel.scenes.get_scene()},_sendMessage:function(t,e,s,i,n,r){if(null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),this._isVerbose&&Es.trace("Sending message: "+z.string(t)+" from "+e.id+"("+z.string(null==e?null:Ms.getClass(e))+") via "+s.id+" ("+z.string(null==s?null:Ms.getClass(s))+")",{fileName:"MessageManager.hx",lineNumber:119,className:"awe6.core.MessageManager",methodName:"_sendMessage"}),this._isOkToSendMessage()){if(r){var a=this._kernel.scenes.get_scene().getEntities()[0];if(null!=a&&null!=a.get_parent())return void this._sendMessage(t,e,this._kernel.scenes.get_scene().getEntities()[0].get_parent(),!0)}for(var _=this._getSubscriptions(s,t,null,e).iterator();_.hasNext();){var o=_.next();if(!this._send(o,t,e))return}if(i)for(var h=s.getEntities(),l=0;l<h.length;){var c=h[l];++l,this._sendMessage(t,e,c,!0)}n&&null!=s.get_parent()&&Ms.__instanceof(s.get_parent(),y)&&this._sendMessage(t,e,s.get_parent(),!1,!0)}else this._messageQueue.push(new M(t,e,s,i,n,r))},_send:function(t,e,s){var i=t.handler.apply(t.subscriber,[e,s]);return t.isRemovedAfterFirstSend&&this._subscriptions.remove(t),i},_getSubscriptions:function(t,e,s,i,n,r){null==r&&(r=!1);for(var a=new Rs,_=this._subscriptions.iterator();_.hasNext();){var o=_.next();if(null==t||t==o.subscriber||t==o.sender){if(null!=e&&!Ms.__instanceof(e,o.messageClass)){var h=et.typeof(e);if(7==h[1]){h[2];if(et.getEnum(e)!=et.getEnum(o.message)||e[0]!=o.message[0]||e.slice(2).toString()!=o.message.slice(2).toString())continue}else if(e!=o.message)continue}if(null==s||V.compareMethods(o.handler,s)){if(null!=i){if(r){if(null!=o.senderClassType)continue;if(null==o.sender)continue}if(null!=o.senderClassType&&!Ms.__instanceof(i,o.senderClassType))continue;if(null!=o.sender&&o.sender!=i)continue}a.head=new As(o,a.head)}}}return a},__class__:O});var L=function(t,e,s,i,n,r){null==r&&(r=!1),this.subscriber=t,this.message=e,this.handler=s,this.sender=i,this.senderClassType=n,this.isRemovedAfterFirstSend=r,this.messageClass=null==e?null:Ms.getClass(e)};(s["awe6.core._MessageManager._HelperSubscription"]=L).__name__=["awe6","core","_MessageManager","_HelperSubscription"],L.prototype={__class__:L};var M=function(t,e,s,i,n,r){null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),this.message=t,this.sender=e,this.target=s,this.isBubbleDown=i,this.isBubbleUp=n,this.isBubbleEverywhere=r};(s["awe6.core._MessageManager._HelperMessage"]=M).__name__=["awe6","core","_MessageManager","_HelperMessage"],M.prototype={__class__:M};var B=function(){};(s["awe6.interfaces.IScene"]=B).__name__=["awe6","interfaces","IScene"],B.__interfaces__=[p,d,l],B.prototype={__class__:B};var F=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),this.type=e,this.isPauseable=s,this.isMuteable=i,this.isSessionSavedOnNext=n,c.call(this,t)};(s["awe6.core.Scene"]=F).__name__=["awe6","core","Scene"],F.__interfaces__=[B],F.__super__=c,F.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this.isDisposable=!0,this._entity=new v(this._kernel),this.view=this._entity.get_view()},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t),this._entity.update(t)},_disposer:function(){this._entity.dispose(),this.get_view().dispose(),c.prototype._disposer.call(this)},addEntity:function(t,e,s,i){return null==i&&(i=0),null==s&&(s=!1),this._entity.addEntity(t,e,s,i)},removeEntity:function(t,e,s){null==s&&(s=!1),this._entity.removeEntity(t,e,s)},getEntities:function(t){return this._entity.getEntities(t)},getEntitiesByClass:function(t,e,s,i,n){return null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),this._entity.getEntitiesByClass(t,e,s,i,!1)},get_view:function(){return this.view},setAgenda:function(t){return this._entity.setAgenda(t)},__class__:F,__properties__:t(c.prototype.__properties__,{get_view:"get_view"})});var Y=function(){};(s["awe6.interfaces.ISceneManager"]=Y).__name__=["awe6","interfaces","ISceneManager"],Y.prototype={__class__:Y,__properties__:{get_scene:"get_scene"}};var H=function(t){c.call(this,t)};(s["awe6.core.SceneManager"]=H).__name__=["awe6","core","SceneManager"],H.__interfaces__=[Y],H.__super__=c,H.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this.view=new Vt(this._kernel)},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t),null!=this.get_scene()&&this.get_scene().update(t),null!=this._sceneTransition&&this._sceneTransition.update(t)},_disposer:function(){null!=this.get_scene()&&this.get_scene().dispose(),null!=this._sceneTransition&&this._sceneTransition.dispose(),this.view.dispose(),c.prototype._disposer.call(this)},setScene:function(t){var e=null;if(null!=this.get_scene()){e=this.get_scene().type;var s=this._kernel.factory.createSceneTransition(t,e);null!=this._sceneTransition&&this._sceneTransition.dispose(),this._sceneTransition=s,this._kernel.inputs.reset(),this.get_scene().isDisposable&&(this.get_scene().dispose(),this._kernel.messenger.reset()),this.scene=null}this._kernel.overlay.hideButtons(),this.scene=this._kernel.factory.createScene(t),this._kernel.overlay.showButton(ne.BACK,null!=this._kernel.factory.getBackSceneType(this.get_scene().type)),this._kernel.overlay.showButton(ne.MUTE,this.get_scene().isMuteable&&!this._kernel.audio.isMute),this._kernel.overlay.showButton(ne.UNMUTE,this.get_scene().isMuteable&&this._kernel.audio.isMute),this._kernel.overlay.showButton(ne.PAUSE,this.get_scene().isPauseable&&this._kernel.isActive),this._kernel.overlay.showButton(ne.UNPAUSE,this.get_scene().isPauseable&&!this._kernel.isActive),this.view.addChild(this.get_scene().get_view()),null!=this._sceneTransition&&this.get_scene().get_view().addChild(this._sceneTransition.get_view(),this._tools.BIG_NUMBER+1)},back:function(){var t=this._kernel.factory.getBackSceneType(this.get_scene().type);null!=t&&this.setScene(t)},next:function(){this.get_scene().isSessionSavedOnNext&&null!=this._kernel.get_session()&&this._kernel.get_session().save();var t=this._kernel.factory.getNextSceneType(this.get_scene().type);null!=t&&this.setScene(t)},get_scene:function(){return this.scene},__class__:H,__properties__:t(c.prototype.__properties__,{get_scene:"get_scene"})});var G=function(){};(s["awe6.interfaces.ITextStyle"]=G).__name__=["awe6","interfaces","ITextStyle"],G.prototype={__class__:G};var j=function(t,e,s,i,n,r,a,_,o,h){null==o&&(o=0),null==n&&(n=!1),null==i&&(i=!1),this.font=null!=t?t:"_sans",this.size=null!=e?e:12,this.color=null!=s?s:0,this.isBold=i,this.isItalic=n,this.align=null!=r?r:ae.LEFT,this.spacingHorizontal=null!=a?a:0,this.spacingVertical=null!=_?_:0,this.thickness=o,this.filters=h};(s["awe6.core.TextStyle"]=j).__name__=["awe6","core","TextStyle"],j.__interfaces__=[G],j.prototype={toString:function(){return z.string(this.font+","+this.size+","+this.color+","+z.string(this.isBold)+","+z.string(this.isItalic)+","+z.string(this.align)+","+this.spacingHorizontal+","+this.spacingVertical+","+this.thickness+","+z.string(this.filters))},__class__:j};var W=function(){};(s["awe6.interfaces.ITools"]=W).__name__=["awe6","interfaces","ITools"],W.__interfaces__=[b],W.prototype={__class__:W};var X=function(t){this._kernel=t,this.BIG_NUMBER=9999998,this._encrypter=this._kernel.factory.createEncrypter()};(s["awe6.core.Tools"]=X).__name__=["awe6","core","Tools"],X.__interfaces__=[W],X.prototype={createGuid:function(t,e){return null==e&&(e=""),null==t&&(t=!1),t?e+$.substr(this._randomCharacter()+this._randomCharacter()+this._randomCharacter(),0,10):e+(this._randomCharacter()+this._randomCharacter()+"-")+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+this._randomCharacter()+this._randomCharacter()},_randomCharacter:function(){return $.substr(E.hex(0|65536*(1+Math.random()),1),1,null)},sortByPriority:function(t,e){var s=t.get_priority(),i=e.get_priority();return s<i?-1:i<s?1:0},_isCamelCase:function(t){return t.toUpperCase()!=t&&(!(-1<t.indexOf(" "))&&!(-1<t.indexOf("_")))},_isConstCase:function(t){return t.toUpperCase()==t&&!(-1<t.indexOf(" "))},fromCamelCase:function(t){if(null==t||""==t)return"";for(var e="",s=t.split(""),i="",n=0;n<s.length;){var r=s[n];++n,r.toLowerCase()!=r&&(e+=i),e+=r,i=" "}return e},toConstCase:function(t){if(null==t||""==t)return"";if(this._isConstCase(t))return t;this._isCamelCase(t)&&(t=this.fromCamelCase(t));return t=E.replace(t,"     "," "),t=E.replace(t,"    "," "),t=E.replace(t,"   "," "),t=E.replace(t,"  "," "),(t=E.replace(t," ","_")).toUpperCase()},limit:function(t,e,s){return s<t?s:t<e?e:t},getRandomType:function(t){return et.createEnumIndex(t,z.random(t.__constructs__.slice().length))},distance:function(t,e,s,i,n){null==n&&(n=!1);var r=s-t,a=i-e,_=r*r+a*a;return n?_:Math.sqrt(_)},shuffle:function(t){for(var e=t.slice(),s=e.length;1<s;){var i=z.random(s),n=e[--s];e[s]=e[i],e[i]=n}return e},serialize:function(t){return vs.run(t)},unserialize:function(t){return Ss.run(t)},decrypt:function(t,e){return null==e&&(e=""),this._encrypter.decrypt(t,e)},__class__:X};var K=function(){};(s["awe6.interfaces.IAssetManager"]=K).__name__=["awe6","interfaces","IAssetManager"],K.prototype={__class__:K};var Q=function(){};(s["awe6.interfaces.IAssetManagerProcess"]=Q).__name__=["awe6","interfaces","IAssetManagerProcess"],Q.__interfaces__=[l,K];var J=function(t){c.call(this,t)};(s["awe6.core.drivers.AAssetManager"]=J).__name__=["awe6","core","drivers","AAssetManager"],J.__interfaces__=[Q],J.__super__=c,J.prototype=t(c.prototype,{_init:function(){this._packageId=this._kernel.getConfig("settings.assets.packages.default"),null==this._packageId&&(this._packageId="assets"),c.prototype._init.call(this)},getAsset:function(t,e,s){return null==e&&(e=this._packageId),this._driverGetAsset(t,e,s)},_driverGetAsset:function(t,e,s){return null},__class__:J});var Z=function(){};(s["awe6.interfaces.IAudioManager"]=Z).__name__=["awe6","interfaces","IAudioManager"],Z.prototype={__class__:Z,__properties__:{set_isMute:"set_isMute"}};var q=function(t){c.call(this,t)};(s["awe6.core.drivers.AAudioManager"]=q).__name__=["awe6","core","drivers","AAudioManager"],q.__interfaces__=[Z],q.__super__=c,q.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this._sounds=[],this._packageId=this._kernel.getConfig("settings.assets.packages.audio"),null==this._packageId&&(this._packageId=this._kernel.getConfig("settings.assets.packages.default")),null==this._packageId&&(this._packageId="assets.audio"),this.set_isMute(!1)},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t);for(var e=0,s=this._sounds;e<s.length;){var i=s[e];++e,i.isDisposed&&$.remove(this._sounds,i)}},_disposer:function(){for(var t=0,e=this._sounds;t<e.length;){var s=e[t];++t,s.dispose()}this.set_isMute(!1),c.prototype._disposer.call(this)},start:function(t,e,s,i,n,r,a,_){if((null==a&&(a=!1),null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),null==e&&(e=Jt.DEFAULT),a)&&0!=this._getSounds(t,e).length)return;this._sounds.push(this._driverSoundFactory(t,e,s,i,n,r,_))},_driverSoundFactory:function(t,e,s,i,n,r,a){return null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),new st(this._kernel,t,this._packageId,e,s,i,n,r,a)},stop:function(t,e){for(var s=this._getSounds(t,e),i=0;i<s.length;){var n=s[i];++i,n.stop()}},transform:function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=0),null==s&&(s=1);for(var r=this._getSounds(t,e),a=0;a<r.length;){var _=r[a];++a,_.transform(s,i,n)}},set_isMute:function(t){return this.isMute=t,this._driverSetIsMute(t),this.isMute},_driverSetIsMute:function(t){},_getSounds:function(t,e){var s=[];if(null==t&&null==e)s=this._sounds.slice();else if(null==e)for(var i=0,n=this._sounds;i<n.length;){var r=n[i];++i,r.id==t&&s.push(r)}else if(null==t)for(var a=0,_=this._sounds;a<_.length;){var o=_[a];++a,et.enumEq(o.audioChannelType,e)&&s.push(o)}else for(var h=0,l=this._sounds;h<l.length;){var c=l[h];++h,c.id==t&&et.enumEq(c.audioChannelType,e)&&s.push(c)}return s},__class__:q,__properties__:t(c.prototype.__properties__,{set_isMute:"set_isMute"})});var st=function(t,e,s,i,n,r,a,_,o){null==_&&(_=0),null==a&&(a=1),null==r&&(r=0),null==n&&(n=1),this._kernel=t,this.isDisposed=!1,this.id=e,this._packageId=s,this.audioChannelType=null!=i?i:Jt.DEFAULT,-1==n&&(n=this._kernel.tools.BIG_NUMBER),this._loops=n,this._startTime=r,this._volume=a,this._pan=_,this._onCompleteCallback=o,this._init()};(s["awe6.core.drivers._AHelperSound"]=st).__name__=["awe6","core","drivers","_AHelperSound"],st.__interfaces__=[o],st.prototype={_init:function(){this._driverInit()},_driverInit:function(){},transform:function(t,e,s){null==s&&(s=!1),null==e&&(e=0),null==t&&(t=1),this.isDisposed||(s?(this._volume=t,this._pan=e):(this._volume=this._kernel.tools.limit(t,0,1),this._pan=this._kernel.tools.limit(e,-1,1)),this._driverTransform(s))},_driverTransform:function(t){null==t&&(t=!1)},stop:function(){this._driverStop(),this.dispose()},_driverStop:function(){},dispose:function(){this.isDisposed||(this.isDisposed=!0,this._driverStop())},__class__:st};var it=function(){};(s["awe6.interfaces.IFactory"]=it).__name__=["awe6","interfaces","IFactory"],it.prototype={__class__:it};var nt=function(t,e,s){null==e&&(e=!1),this._context=t,this.isDebug=e,this._config=s,this.config=new Ns,this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Zt.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=$t.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=re.GAME,this.keyPause=te.P,this.keyMute=te.M,this.keyNext=te.SPACE,this.keyBack=te.ESCAPE,this.keySpecial=te.CONTROL,this._configurer(!0),this._driverInit()};(s["awe6.core.drivers.AFactory"]=nt).__name__=["awe6","core","drivers","AFactory"],nt.__interfaces__=[o,it],nt.prototype={_driverInit:function(){null!=this._config&&"<?xml"==$.substr(this._config,0,5)&&this._traverseElements(P.parse(this._config).firstElement().elements(),""),this._launchKernel()},_traverseElements:function(t,e){0!=e.length&&(e+=".");for(var s=t;s.hasNext();){var i=s.next();if(i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+i.nodeType);var n,r=e+i.nodeName;if(i.elements().hasNext()&&this._traverseElements(i.elements(),r),i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);if(null!=i.children[0]){if(i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);n="<![CDATA["==$.substr(Ps.print(i.children[0]),0,9)}else n=!1;if(n){if(i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);var a=i.children[0];if(i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);var _=Ps.print(i.children[0]).split("<![CDATA[").join("").split("]]>").join("");if(a.nodeType==P.Document||a.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+a.nodeType);a.nodeValue=_}if(i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);if(null==i.children[0]){var o=this.config;null!=di[r]?o.setReserved(r,""):o.h[r]=""}else{if(i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);var h=i.children[0].nodeType;if(h!=P.Element&&h!=P.Document){var l;if(i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);if(null==i.children[0])l="";else{if(i.nodeType!=P.Document&&i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+i.nodeType);var c=i.children[0];if(c.nodeType==P.Document||c.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+c.nodeType);l=c.nodeValue}var u=this.config,d=l;null!=di[r]?u.setReserved(r,d):u.h[r]=d}else{var p=this.config;null!=di[r]?p.setReserved(r,""):p.h[r]=""}}for(var g=i.attributes();g.hasNext();){var f=g.next(),E=r+"."+f,y=this.config,v=i.get(f);null!=di[E]?y.setReserved(E,v):y.h[E]=v}}},_configurer:function(t){null==t&&(t=!1)},_launchKernel:function(){null==this._concreteKernel&&(this._configurer(!1),this._concreteKernel=new Lt(this,this._context))},_getAssetUrls:function(){for(var t=[],e=0;e<1e3;){var s="settings.assets.url"+e++,i=this.config;if(null!=di[s]?i.existsReserved(s):i.h.hasOwnProperty(s)){var n=this.config;t.push(z.string(null!=di[s]?n.getReserved(s):n.h[s]))}}return t},onInitComplete:function(t){null==this._kernel&&null!=t&&(this._kernel=t,this._tools=this._kernel.tools,this.id=$.substr(this._tools.toConstCase(E.trim(this.id)),0,16),this.version=$.substr(E.trim(this.version),0,16),this.author=$.substr(E.trim(this.author),0,16))},createAssetManager:function(){return Ms.__instanceof(this._kernel.assets,Q)?Ms.__cast(this._kernel.assets,Q):new Nt(this._kernel)},createEncrypter:function(){return new C(this.secret)},createLogger:function(){return null},createOverlay:function(){return new Mt(this._kernel)},createPreloader:function(){return new Bt(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){return null==t&&(t=this.startingSceneType),new F(this._kernel,t)},createSceneTransition:function(t,e){return new Yt(this._kernel)},createSession:function(t){return new At(this._kernel,t)},createTextStyle:function(t){return new j},getBackSceneType:function(t){return null},getNextSceneType:function(t){return null},dispose:function(){if(!this.isDisposed&&null!=this._concreteKernel){this.isDisposed=!0,this._driverDisposer();var t=this._concreteKernel;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),this._concreteKernel=null,this._kernel=null,this.config=null}},_driverDisposer:function(){},__class__:nt};var rt=function(){};(s["awe6.interfaces.IInputKeyboard"]=rt).__name__=["awe6","interfaces","IInputKeyboard"],rt.prototype={__class__:rt};var at=function(t){c.call(this,t)};(s["awe6.core.drivers.AInputKeyboard"]=at).__name__=["awe6","core","drivers","AInputKeyboard"],at.__interfaces__=[rt],at.__super__=c,at.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this._driverInit(),this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t);for(var e=new Ns,s=[],i=0,n=this._buffer;i<n.length;){var r=n[i];++i;var a=null==r.keyCode?"null":""+r.keyCode;(null!=di[a]?e.existsReserved(a):e.h.hasOwnProperty(a))?s.push(r):r.isDown?this._keys[r.keyCode].isDown||(this._onDown(r.keyCode),null!=di[a]?e.setReserved(a,!0):e.h[a]=!0):this._keys[r.keyCode].isDown&&(this._onUp(r.keyCode),null!=di[a]?e.setReserved(a,!0):e.h[a]=!0)}this._buffer=s.slice();for(var _=0,o=this._keys;_<o.length;){var h=o[_];++_,h.isDown?h.updatesDown++:h.updatesUp++,h.isDown?h.timeDown+=t:h.timeUp+=t}},_disposer:function(){this._keys=null,c.prototype._disposer.call(this)},_addEvent:function(t,e){this._buffer.push(new ot(t,e))},_onDown:function(t){var e=this._keys[t];e.isUsed=!0,e.isDown=!0,e.timeUpPrevious=e.timeUp,e.updatesUpPrevious=e.updatesUp,e.updatesUp=0,e.timeUp=0},_onUp:function(t){var e=this._keys[t];e.isDown=!1,e.timeDownPrevious=e.timeDown,e.updatesDownPrevious=e.updatesDown,e.updatesDown=0,e.timeDown=0},_reset:function(t){this._buffer=[],this._keys=[];for(var e=0;e<256;){var s=e++;this._keys[s]=new _t(this._kernel)}},getIsKeyDown:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return this._keys[e].isDown},getIsKeyPress:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return 1==this._keys[e].updatesDown},getIsKeyRelease:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return!!this._keys[e].isUsed&&1==this._keys[e].updatesUp},getKeyCode:function(t){switch(t[1]){case 0:return 144;case 1:return 12;case 2:return 47;case 3:return 18;case 4:return 8;case 5:return 20;case 6:return 17;case 7:return 46;case 8:return 40;case 9:return 35;case 10:return 13;case 11:return 27;case 12:return 112;case 13:return 121;case 14:return 122;case 15:return 123;case 16:return 124;case 17:return 125;case 18:return 126;case 19:return 113;case 20:return 114;case 21:return 115;case 22:return 116;case 23:return 117;case 24:return 118;case 25:return 119;case 26:return 120;case 27:return 36;case 28:return 45;case 29:return 37;case 30:return 96;case 31:return 97;case 32:return 98;case 33:return 99;case 34:return 100;case 35:return 101;case 36:return 102;case 37:return 103;case 38:return 104;case 39:return 105;case 40:return 107;case 41:return 110;case 42:return 111;case 43:return 108;case 44:return 106;case 45:return 109;case 46:return 34;case 47:return 33;case 48:return 39;case 49:return 16;case 50:return 32;case 51:return 9;case 52:return 38;case 53:return 65;case 54:return 66;case 55:return 67;case 56:return 68;case 57:return 69;case 58:return 70;case 59:return 71;case 60:return 72;case 61:return 73;case 62:return 74;case 63:return 75;case 64:return 76;case 65:return 77;case 66:return 78;case 67:return 79;case 68:return 80;case 69:return 81;case 70:return 82;case 71:return 83;case 72:return 84;case 73:return 85;case 74:return 86;case 75:return 87;case 76:return 88;case 77:return 89;case 78:return 90;case 79:return 48;case 80:return 49;case 81:return 50;case 82:return 51;case 83:return 52;case 84:return 53;case 85:return 54;case 86:return 55;case 87:return 56;case 88:return 57;case 89:return 186;case 90:return 187;case 91:return 189;case 92:return 191;case 93:return 222;case 94:return 219;case 95:return 221;case 96:return 220;case 97:return 192;case 98:return 223;case 99:return 0|t[2]}},getKey:function(t){var e=te.__constructs__.slice();e.pop();for(var s=0;s<e.length;){var i=e[s];++s;var n=et.createEnum(te,i);if(this.getKeyCode(n)==t)return n}return te.SUB_TYPE(t)},__class__:at});var _t=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(s["awe6.core.drivers._AInputKeyboard._HelperKey"]=_t).__name__=["awe6","core","drivers","_AInputKeyboard","_HelperKey"],_t.prototype={__class__:_t};var ot=function(t,e){this.keyCode=t,this.isDown=e};(s["awe6.core.drivers._AInputKeyboard._HelperKeyEvent"]=ot).__name__=["awe6","core","drivers","_AInputKeyboard","_HelperKeyEvent"],ot.prototype={__class__:ot};var ht=function(){};(s["awe6.interfaces.IInputMouse"]=ht).__name__=["awe6","interfaces","IInputMouse"],ht.prototype={__class__:ht,__properties__:{set_cursorType:"set_cursorType"}};var lt=function(t){c.call(this,t)};(s["awe6.core.drivers.AInputMouse"]=lt).__name__=["awe6","core","drivers","AInputMouse"],lt.__interfaces__=[ht],lt.__super__=c,lt.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this._driverInit(),this.x=this.y=this._xPrev=this._yPrev=this._deltaX=this._deltaY=this.scroll=this._deltaScroll=0,this.relativeX=this.relativeY=this.relativeCentralisedX=this.relativeCentralisedY=0,this.isMoving=!1,this._buffer=[],this._getPosition(),this.isMoving=!1,this.set_isVisible(!0),this.scroll=0,this.set_cursorType(ie.AUTO),this._scrollPrev=0,this._stillUpdates=0,this._stillDuration=0,this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),this._deltaTimePrev=t,c.prototype._updater.call(this,t),this._xPrev=this.x,this._yPrev=this.y,this._getPosition(),this._handleButton(se.LEFT,0<this._buffer.length?this._buffer.shift():this._buttonLeft.isDown,t),this._handleButton(se.MIDDLE,this._isMiddleDown(),t),this._handleButton(se.RIGHT,this._isRightDown(),t),this._deltaScroll=this.scroll-this._scrollPrev,this._scrollPrev=this.scroll,this._deltaX=this.x-this._xPrev,this._deltaY=this.y-this._yPrev,this.isMoving=this.x!=this._xPrev||this.y!=this._yPrev,this.isMoving?this._stillUpdates=this._stillDuration=0:(this._stillUpdates++,this._stillDuration+=t),this.relativeX=this.x/this._kernel.factory.width,this.relativeY=this.y/this._kernel.factory.height,this.relativeCentralisedX=2*(this.relativeX-.5),this.relativeCentralisedY=2*(this.relativeY-.5),this.isWithinBounds=this._isWithinBounds()},_isMiddleDown:function(){return!1},_isRightDown:function(){return!1},_isWithinBounds:function(){return!0},_getPosition:function(){this.x=0,this.y=0},_handleButton:function(t,e,s){null==s&&(s=0);var i=this._getButton(t);e?(i.isDown||(i.timeUpPrevious=i.timeUp,i.updatesUpPrevious=i.updatesUp,i.timeUp=i.updatesUp=0,i.clickX=this.x,i.clickY=this.y),i.timeDown+=s,i.updatesDown++,i.isDown=!0):(i.isDown&&(i.timeDownPrevious=i.timeDown,i.updatesDownPrevious=i.updatesDown,i.timeDown=i.updatesDown=0),i.timeUp+=s,i.updatesUp++,i.isDown=!1)},_disposer:function(){c.prototype._disposer.call(this)},_reset:function(t){this._buffer=[],this._buttonLeft=new ct(this._kernel),this._buttonMiddle=new ct(this._kernel),this._buttonRight=new ct(this._kernel)},_getButton:function(t){switch(null==t&&(t=se.LEFT),t[1]){case 0:return this._buttonLeft;case 1:return this._buttonMiddle;case 2:return this._buttonRight}},getDeltaX:function(t){null==t&&(t=!0);var e=this._deltaX;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getDeltaY:function(t){null==t&&(t=!0);var e=this._deltaY;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getIsButtonDown:function(t){return this._getButton(t).isDown},getIsButtonRelease:function(t){return 1==this._getButton(t).updatesUp},getButtonDownDuration:function(t,e,s){null==s&&(s=!1),null==e&&(e=!0);var i=this._getButton(t);return s?e?i.timeDownPrevious:i.updatesDownPrevious:e?i.timeDown:i.updatesDown},getButtonUpDuration:function(t,e,s){null==s&&(s=!1),null==e&&(e=!0);var i=this._getButton(t);return s?e?i.timeUpPrevious:i.updatesUpPrevious:e?i.timeUp:i.updatesUp},getButtonDragWidth:function(t){var e=this._getButton(t);return e.isDown?this.x-e.clickX:0},getButtonDragHeight:function(t){var e=this._getButton(t);return e.isDown?this.y-e.clickY:0},set_isVisible:function(t){return this.isVisible=t,this.isVisible},set_cursorType:function(t){return this.cursorType=t,this.cursorType},__class__:lt,__properties__:t(c.prototype.__properties__,{set_cursorType:"set_cursorType",set_isVisible:"set_isVisible"})});var ct=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(s["awe6.core.drivers._AInputMouse._HelperButton"]=ct).__name__=["awe6","core","drivers","_AInputMouse","_HelperButton"],ct.prototype={__class__:ct};var ut=function(){};(s["awe6.interfaces.ILogger"]=ut).__name__=["awe6","interfaces","ILogger"],ut.prototype={__class__:ut};var dt=function(){};(s["awe6.interfaces.IKernel"]=dt).__name__=["awe6","interfaces","IKernel"],dt.__interfaces__=[ut,_],dt.prototype={__class__:dt,__properties__:{set_session:"set_session",get_session:"get_session",set_isFullScreen:"set_isFullScreen",set_isEyeCandy:"set_isEyeCandy"}};var pt=function(t,e){this.factory=t,this._context=e,this.tools=this._tools=new X(this),c.call(this,this)};(s["awe6.core.drivers.AKernel"]=pt).__name__=["awe6","core","drivers","AKernel"],pt.__interfaces__=[dt],pt.__super__=c,pt.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this._view=new Vt(this,this._context,0,this),this._processes=new tt,this._helperFramerate=new gt(this.factory.targetFramerate),this._isPreloaded=!1,this.isDebug=this.factory.isDebug,this.isLocal=this._driverGetIsLocal(),this._driverInit(),this.assets=this._assetManagerProcess=new Nt(this._kernel),this.audio=this._audioManager=new xt(this._kernel),this.inputs=this._inputManager=new x(this._kernel),this.scenes=this._sceneManager=new H(this._kernel),this.messenger=this._messageManager=new O(this._kernel),this._view.addChild(this._sceneManager.view,1),this._addProcess(this._assetManagerProcess),this._addProcess(this._inputManager),this._addProcess(this._sceneManager),this._addProcess(this._messageManager),this._addProcess(this._audioManager),this.set_isEyeCandy(!0),this.set_isFullScreen(!1),this.factory.onInitComplete(this),this.set_session(this.factory.createSession()),this.get_session().reset(),this._preloader=this.factory.createPreloader(),this._addProcess(this._preloader),this._view.addChild(this._preloader.get_view(),2)},_driverGetIsLocal:function(){return!1},_driverInit:function(){},_driverDisposer:function(){},onPreloaderComplete:function(t){this._isPreloaded=!0,this._removeProcess(this._preloader),this._preloader=null,this._logger=this.factory.createLogger();var e=this.factory.createAssetManager();e!=this._assetManagerProcess&&(this._removeProcess(this._assetManagerProcess),this.assets=this._assetManagerProcess=e,this._addProcess(this._assetManagerProcess,!1)),this.overlay=this._overlayProcess=this.factory.createOverlay(),this._addProcess(this._overlayProcess,!0),this._view.addChild(this._overlayProcess.get_view(),3),this.isDebug&&(this._addProcess(this._profiler=new Ft(this)),this._view.addChild(this._profiler.get_view(),this._tools.BIG_NUMBER)),this.scenes.setScene(this.factory.startingSceneType),this.overlay.flash()},_updater:function(t){null==t&&(t=0),this._helperFramerate.update();var e=this.factory.isFixedUpdates?1e3/this.factory.targetFramerate|0:this._helperFramerate.timeInterval;c.prototype._updater.call(this,e);for(var s=this._processes.h;null!=s;){var i=s.item;s=s.next,i.update(e)}var n=this._view;n.isActive&&!n.isDisposed&&(n._age+=e,n._updates++,n._updater(e))},_disposer:function(){for(var t=this._processes.h;null!=t;){var e=t.item;t=t.next;var s=e;this._removeProcess(s)}Ms.__instanceof(this.factory,o)&&Ms.__cast(this.factory,o).dispose(),this.factory=null;var i=this._view;i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer()),this._view=null,this._driverDisposer(),this.assets=this._assetManagerProcess=null,this.audio=this._audioManager=null,this.inputs=this._inputManager=null,this.scenes=this._sceneManager=null,this.messenger=this._messageManager=null,this.overlay=this._overlayProcess=null,this.tools=this._tools=null,this._logger=null,this._preloader=null,this.set_session(null),c.prototype._disposer.call(this)},getConfig:function(t){var e=this.factory.config;if(null!=di[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var s=this.factory.config;return null!=di[t]?s.getReserved(t):s.h[t]}return null},log:function(t){null!=this._logger?this._logger.log(t):this.isDebug&&Es.trace("LOG: "+z.string(t),{fileName:"AKernel.hx",lineNumber:248,className:"awe6.core.drivers.AKernel",methodName:"log"})},getFramerate:function(t){return null==t&&(t=!0),t?this._helperFramerate.framerate:this.factory.targetFramerate},_addProcess:function(t,e){null==e&&(e=!0),null!=t&&(e?this._processes.add(t):this._processes.push(t))},_removeProcess:function(t){return null!=t&&(t.dispose(),this._processes.remove(t))},set_isEyeCandy:function(t){return this.factory.isEyeCandyOptionEnabled?(this.isEyeCandy=t,this._driverSetIsEyeCandy(t)):this.isEyeCandy=!0,this.isEyeCandy},_driverSetIsEyeCandy:function(t){},set_isFullScreen:function(t){return!this.factory.isFullScreenOptionEnabled||et.enumEq(this.factory.fullScreenType,Zt.DISABLED)?this.isFullScreen=!1:(this.isFullScreen=t,this._driverSetIsFullScreen(t)),this.isFullScreen},_driverSetIsFullScreen:function(t){},_pauser:function(){c.prototype._pauser.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().pause()},_resumer:function(){c.prototype._resumer.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().resume()},get_session:function(){return this.session},set_session:function(t){return this.session=t,this.get_session()},__class__:pt,__properties__:t(c.prototype.__properties__,{set_session:"set_session",get_session:"get_session",set_isFullScreen:"set_isFullScreen",set_isEyeCandy:"set_isEyeCandy"})});var gt=function(t){this.framerate=t,this._timeAtLastUpdate=(new Date).getTime()/1e3*1e3|0};(s["awe6.core.drivers._AKernel._HelperFramerate"]=gt).__name__=["awe6","core","drivers","_AKernel","_HelperFramerate"],gt.prototype={update:function(){this.timeInterval=((new Date).getTime()/1e3*1e3|0)-this._timeAtLastUpdate,this.framerate=1e3/this.timeInterval,this._timeAtLastUpdate=(new Date).getTime()/1e3*1e3|0},__class__:gt};var ft=function(){};(s["awe6.interfaces.IOverlay"]=ft).__name__=["awe6","interfaces","IOverlay"],ft.prototype={__class__:ft,__properties__:{get_pauseEntity:"get_pauseEntity"}};var Et=function(){};(s["awe6.interfaces.IOverlayProcess"]=Et).__name__=["awe6","interfaces","IOverlayProcess"],Et.__interfaces__=[p,l,ft];var yt=function(t,e,s,i,n,r,a,_,o,h,l,c,u,d,p,g,f){null==f&&(f=.35),null==g&&(g=0),null==p&&(p=8),null==s&&(s=30),null==e&&(e=30),null==i&&(i=new Vt(t)),null==n&&(n=new Vt(t)),null==r&&(r=new Vt(t)),null==a&&(a=new Vt(t)),null==_&&(_=new Vt(t)),null==o&&(o=new Vt(t)),null==h&&(h=new Vt(t)),null==l&&(l=new Vt(t)),null==c&&(c=new Vt(t)),null==u&&(u=new Vt(t)),null==d&&(d=new Vt(t)),this._borderView=i,this._buttonBack=new w(t,n,r,e,s),this._buttonMute=new w(t,a,_,e,s),this._buttonUnmute=new w(t,o,h,e,s),this._buttonPause=new w(t,l,c,e,s),this._buttonUnpause=new w(t,u,d,e,s),this._pauseBlur=p,this._pauseColor=g,this._pauseAlpha=f,this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["awe6.core.drivers.AOverlay"]=yt).__name__=["awe6","core","drivers","AOverlay"],yt.__interfaces__=[Et],yt.__super__=v,yt.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this),this.get_view().addChild(this._borderView,4),this._wasMute=this._kernel.audio.isMute,this._driverInit(),this._progressView=new Vt(this._kernel,this._progressContext),this._progressView.set_isVisible(!1),this._pauseView=new Vt(this._kernel,this._pauseContext),this._pauseView.set_isVisible(!1),this._flashView=new Vt(this._kernel,this._flashContext),this._flashView.set_isVisible(!1),this._flashStartingAlpha=1,this._flashAsTime=!0,this._flashDuration=this._flashStartingDuration=100;var t=ai(this,this.activateButton);this._buttonBack.onClickCallback=function(){t(ne.BACK)};var e=ai(this,this.activateButton);this._buttonMute.onClickCallback=function(){e(ne.MUTE)};var s=ai(this,this.activateButton);this._buttonPause.onClickCallback=function(){s(ne.PAUSE)};var i=ai(this,this.activateButton);this._buttonUnmute.onClickCallback=function(){i(ne.UNMUTE)};var n=ai(this,this.activateButton);this._buttonUnpause.onClickCallback=function(){n(ne.UNPAUSE)},this.get_view().addChild(this._flashView,1),this.get_view().addChild(this._pauseView,2),this.get_view().addChild(this._progressView,3),this.addEntity(this._buttonBack,null,!0,21),this.addEntity(this._buttonUnmute,null,!0,22),this.addEntity(this._buttonMute,null,!0,23),this.addEntity(this._buttonUnpause,null,!0,24),this.addEntity(this._buttonPause,null,!0,25);var r=this._buttonBack.height,a=this._buttonBack.width,_=this._kernel.factory.width-4*a,o=r;this.positionButton(ne.BACK,_,o),this.positionButton(ne.MUTE,_+=a,o),this.positionButton(ne.UNMUTE,_,o),this.positionButton(ne.PAUSE,_+=a,o),this.positionButton(ne.UNPAUSE,_,o)},_driverInit:function(){this._progressContext=new createjs.Container,this._pauseContext=new createjs.Container,this._flashContext=new createjs.Container},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),0<this._flashDuration){this._flashDuration-=this._flashAsTime?t:1;this._tools;var e=this._flashStartingAlpha*(this._flashDuration/this._flashStartingDuration);this._flashAlpha=1<e?1:e<0?0:e}this._flashView.set_isVisible(0<this._flashAlpha),null!=this._kernel.factory.keyBack&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyBack)&&this.activateButton(this._kernel.isActive?ne.BACK:ne.UNPAUSE),null!=this._kernel.factory.keyPause&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyPause)&&this.activateButton(this._kernel.isActive?ne.PAUSE:ne.UNPAUSE),null!=this._kernel.factory.keyMute&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyMute)&&this.activateButton(this._kernel.audio.isMute?ne.UNMUTE:ne.MUTE),null==this.get_pauseEntity()||this._kernel.isActive||(this.get_pauseEntity().update(t),this._pauseView.update(t))},_disposer:function(){null!=this.get_pauseEntity()&&this.get_pauseEntity().dispose(),this.get_view().dispose(),v.prototype._disposer.call(this)},_getButton:function(t){switch(t[1]){case 0:return this._buttonBack;case 1:return this._buttonMute;case 2:return this._buttonUnmute;case 3:return this._buttonPause;case 4:return this._buttonUnpause;case 5:t[2];return null}},showButton:function(t,e){null==e&&(e=!0);var s=this._getButton(t);null!=s&&(e?this.addEntity(s,null,!0):this.removeEntity(s,null,!0))},positionButton:function(t,e,s,i,n){var r=this._getButton(t);null!=r&&(r.set_x(e),r.set_y(s),null!=i&&r.set_width(i),null!=n&&r.set_height(n))},hideButtons:function(){this.showButton(ne.BACK,!1),this.showButton(ne.MUTE,!1),this.showButton(ne.UNMUTE,!1),this.showButton(ne.PAUSE,!1),this.showButton(ne.UNPAUSE,!1)},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),t=null!=t?t:e?500:.5*this._kernel.factory.targetFramerate,this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e;this._tools;this._flashAlpha=this._flashStartingAlpha=1<s?1:s<0?0:s},activateButton:function(t){switch(t[1]){case 0:this._buttonBack.get_view().get_isInViewStack()&&(this._kernel.isActive||this.activateButton(ne.UNPAUSE),this._drawPause(!1),this._kernel.resume(),this._kernel.scenes.back());break;case 1:this._buttonMute.get_view().get_isInViewStack()&&(this.showButton(ne.MUTE,!1),this.showButton(ne.UNMUTE,!0),this._kernel.audio.set_isMute(!0));break;case 2:this._buttonUnmute.get_view().get_isInViewStack()&&!this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ne.MUTE,!0),this.showButton(ne.UNMUTE,!1),this._kernel.audio.set_isMute(!1));break;case 3:this._buttonPause.get_view().get_isInViewStack()&&(this._kernel.pause(),this._drawPause(!0),this._wasMute=this._kernel.audio.isMute,this.showButton(ne.PAUSE,!1),this.showButton(ne.UNPAUSE,!0),this.activateButton(ne.MUTE));break;case 4:this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ne.PAUSE,!0),this.showButton(ne.UNPAUSE,!1),this.activateButton(this._wasMute?ne.MUTE:ne.UNMUTE),this._kernel.resume(),this._drawPause(!1));break;case 5:t[2]}},_drawPause:function(t){null==t&&(t=!0),this._pauseView.set_isVisible(t)},get_pauseEntity:function(){return this.pauseEntity},set_pauseEntity:function(t){return null!=this.get_pauseEntity()&&this.get_pauseEntity().get_view().remove(),this.pauseEntity=t,this._pauseView.addChild(this.get_pauseEntity().get_view()),this.get_pauseEntity()},__class__:yt,__properties__:t(v.prototype.__properties__,{set_pauseEntity:"set_pauseEntity",get_pauseEntity:"get_pauseEntity"})});var vt=function(){};(s["awe6.interfaces.IProgress"]=vt).__name__=["awe6","interfaces","IProgress"];var mt=function(){};(s["awe6.interfaces.IPreloader"]=mt).__name__=["awe6","interfaces","IPreloader"],mt.__interfaces__=[vt,p,l];var wt=function(t,e,s){null==s&&(s=!1),this._assets=e,this._isDecached=s,c.call(this,t)};(s["awe6.core.drivers.APreloader"]=wt).__name__=["awe6","core","drivers","APreloader"],wt.__interfaces__=[mt],wt.__super__=c,wt.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this.progress=0,null==this.get_view()&&(this.view=new Vt(this._kernel)),this._encrypter=this._tools,this._currentProgress=0,this._currentAsset=0,this._isComplete=!1,0<this._assets.length&&this._next()},_next:function(){if(this._currentAsset++,this._currentAsset>this._assets.length){if(!this._isComplete){try{var t=ai(ni=this._kernel,ni.onPreloaderComplete),e=this;ms.delay(function(){t(e)},100)}catch(t){}this._isComplete=!0}}else this._driverLoad(this._assets[this._currentAsset-1]),this._currentProgress=0},_driverLoad:function(t){},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t),0==this._assets.length&&this._kernel.onPreloaderComplete(this),this.get_view().set_isVisible(100<this._age)},_disposer:function(){this.get_view().dispose(),this._driverDisposer(),c.prototype._disposer.call(this)},_driverDisposer:function(){},get_view:function(){return this.view},__class__:wt,__properties__:t(c.prototype.__properties__,{get_view:"get_view"})});var St=function(t){this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["awe6.core.drivers.AProfiler"]=St).__name__=["awe6","core","drivers","AProfiler"],St.__super__=v,St.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this),this._marginHeight=25,this._marginColor=128,this._backgroundColor=-2147483520,this._fpsColor=16777215,this._memoryColor=16744448,this._fpsLabel="FPS",this._memoryLabel="MBs",this._width=60,this._height=50,this._agePrev=0},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._age<this._agePrev+250||(this._agePrev=this._age,this._driverUpdate())},_driverUpdate:function(){},__class__:St});var Tt=function(){};(s["awe6.interfaces.ISceneTransition"]=Tt).__name__=["awe6","interfaces","ISceneTransition"],Tt.__interfaces__=[p,vt,l];var bt=function(t,e){null==e&&(e=500),this._duration=e,this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["awe6.core.drivers.ASceneTransition"]=bt).__name__=["awe6","core","drivers","ASceneTransition"],bt.__interfaces__=[Tt],bt.__super__=v,bt.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this)},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._age>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},get_progress:function(){this._tools;var t=this._age/this._duration;return 1<t?1:t<0?0:t},__class__:bt,__properties__:t(v.prototype.__properties__,{get_progress:"get_progress"})});var Ct=function(){};(s["awe6.interfaces.ISession"]=Ct).__name__=["awe6","interfaces","ISession"],Ct.prototype={__class__:Ct};var At=function(t,e){null==e&&(e=""),this._kernel=t,""==e&&(e="DEBUG_AWE6"),this.id=e,this._tools=this._kernel.tools,this._version=1,this._init()};(s["awe6.core.drivers.ASession"]=At).__name__=["awe6","core","drivers","ASession"],At.__interfaces__=[Ct],At.prototype={_init:function(){this._driverLoad(),V.field(this._savedData,"_____VERSION")!=this._version&&this._driverReset();var t=null!=V.field(this._savedData,this.id);this._data={},this._resetter(),this._setter(),t&&(this._data=V.field(this._savedData,this.id),this._getter(),this.loadCount++)},_driverLoad:function(){this._savedData={}},_driverSave:function(){},_driverReset:function(){this._savedData={}},_getter:function(){this.loadCount=this._data.loadCount,this.saveCount=this._data.saveCount},_setter:function(){this._data.loadCount=this.loadCount,this._data.saveCount=this.saveCount},_resetter:function(){this.loadCount=0,this.saveCount=0},reset:function(t){null==t&&(t=!1),this._data={},this._resetter(),this._setter(),t&&(this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave())},save:function(){this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave()},__class__:At};var Rt=function(){};(s["awe6.interfaces.IPriority"]=Rt).__name__=["awe6","interfaces","IPriority"],Rt.prototype={__class__:Rt,__properties__:{set_priority:"set_priority",get_priority:"get_priority"}};var It=function(){};(s["awe6.interfaces.IView"]=It).__name__=["awe6","interfaces","IView"],It.__interfaces__=[h,o,m,Rt],It.prototype={__class__:It,__properties__:{get_parent:"get_parent",set_isVisible:"set_isVisible",get_isInViewStack:"get_isInViewStack"}};var kt=function(t,e,s,i){null==s&&(s=0),this.context=e,this.set_priority(s),this.owner=i,c.call(this,t)};(s["awe6.core.drivers.AView"]=kt).__name__=["awe6","core","drivers","AView"],kt.__interfaces__=[It],kt.__super__=c,kt.prototype=t(c.prototype,{_init:function(){c.prototype._init.call(this),this.globalX=0,this.globalY=0,this.set_x(0),this.set_y(0),this.set_isVisible(!0),this._isDirty=!0,this._children=[]},addChild:function(t,e){if(null==e&&(e=0),this.isDisposed||null==t)return null;if(t.get_parent()!=this&&(t.remove(),Ms.__instanceof(t,kt))){var s=t;this._children.push(s),s._setParent(this)}return 0!=e&&t.set_priority(e),this._isDirty=!0,t},removeChild:function(t){if(!this.isDisposed&&null!=t){if(Ms.__instanceof(t,kt)){var e=t;if(e.get_parent()!=this)return;$.remove(this._children,e),e._setParent(null)}this._isDirty=!0}},remove:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},clear:function(){for(var t=0,e=this._children;t<e.length;){var s=e[t];++t,this.removeChild(s)}},_updater:function(t){null==t&&(t=0),c.prototype._updater.call(this,t);for(var e=0,s=this._children;e<s.length;){var i=s[e];++e,i.isActive&&!i.isDisposed&&(i._age+=t,i._updates++,i._updater(t))}this._isDirty&&this._draw(),this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY},_disposer:function(){this.remove(),this._driverDisposer(),this.clear(),c.prototype._disposer.call(this)},_driverDisposer:function(){},_draw:function(){this.isDisposed||(this._children.sort(ai(ni=this._tools,ni.sortByPriority)),this._driverDraw(),this._isDirty=!1)},_driverDraw:function(){},_setParent:function(t){this.parent=t},get_priority:function(){return this.priority},set_priority:function(t){if(t==this.get_priority())return this.get_priority();if(this.priority=t,Ms.__instanceof(this.get_parent(),kt)){var e=this.get_parent();null!=e&&(e._isDirty=!0)}return this.get_priority()},set_isVisible:function(t){if(t==this.isVisible)return this.isVisible;if(this.isVisible=t,Ms.__instanceof(this.get_parent(),kt)){var e=this.get_parent();null!=e&&e._draw()}return this.isVisible},get_parent:function(){return this.parent},get_isInViewStack:function(){return!!this.isVisible&&(this.owner==this._kernel||null!=this.get_parent()&&this.get_parent().get_isInViewStack())},set_x:function(t){return this.x=t,this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.x},set_y:function(t){return this.y=t,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY,this.y},__class__:kt,__properties__:t(c.prototype.__properties__,{get_isInViewStack:"get_isInViewStack",get_parent:"get_parent",set_isVisible:"set_isVisible",set_y:"set_y",set_x:"set_x",set_priority:"set_priority",get_priority:"get_priority"})});var Nt=function(t){J.call(this,t)};(s["awe6.core.drivers.createjs.AssetManager"]=Nt).__name__=["awe6","core","drivers","createjs","AssetManager"],Nt.__super__=J,Nt.prototype=t(J.prototype,{_driverGetAsset:function(t,e,s){var i=null;return null!=Nt.loadQueue&&(i=Nt.loadQueue.getResult(t)),i},__class__:Nt});var xt=function(t){q.call(this,t)};(s["awe6.core.drivers.createjs.AudioManager"]=xt).__name__=["awe6","core","drivers","createjs","AudioManager"],xt.__super__=q,xt.prototype=t(q.prototype,{_init:function(){q.prototype._init.call(this),this._visibilityWasMute=this.isMute,window.document.addEventListener("visibilitychange",ai(this,this._onVisibilityChange))},_disposer:function(){window.document.removeEventListener("visibilitychange",ai(this,this._onVisibilityChange)),q.prototype._disposer.call(this)},_driverSoundFactory:function(t,e,s,i,n,r,a){return null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),new Dt(this._kernel,t,this._packageId,e,s,i,n,r,a)},_driverSetIsMute:function(t){try{createjs.Sound.muted=t}catch(t){}try{createjs.Sound.setMute(t)}catch(t){}},_onVisibilityChange:function(t){this._getVisibilityPropery()?(this._visibilityWasMute=this.isMute,this.set_isMute(!0)):this.set_isMute(this._visibilityWasMute)},_getVisibilityPropery:function(){for(var t=["hidden","mozHidden","msHidden","oHidden","webkitHidden"],e=0;e<t.length;){var s=t[e];++e;var i=window.document;if(Object.prototype.hasOwnProperty.call(i,s))return V.field(window.document,s)}return window.document.hidden},__class__:xt});var Dt=function(t,e,s,i,n,r,a,_,o){null==_&&(_=0),null==a&&(a=1),null==r&&(r=0),null==n&&(n=1),st.call(this,t,e,s,i,1==n?0:n,r,a,_,o)};(s["awe6.core.drivers.createjs._HelperSound"]=Dt).__name__=["awe6","core","drivers","createjs","_HelperSound"],Dt.__super__=st,Dt.prototype=t(st.prototype,{_driverInit:function(){try{this._sound=createjs.Sound.play("assets.audio."+this.id,null,0,this._startTime,this._loops,this._volume,this._pan),createjs.WebAudioPlugin.context&&"suspended"==createjs.WebAudioPlugin.context.state&&createjs.WebAudioPlugin.context.resume()}catch(t){}null!=this._sound?(this._sound.addEventListener("complete",ai(this,this._onSoundComplete)),this._driverTransform()):this.dispose()},_driverTransform:function(t){null==t&&(t=!1),null!=this._sound&&(t&&(this._volume*=this._sound.volume,this._pan*=this._sound.pan),this._sound.volume=this._volume,this._sound.pan=this._pan)},_driverStop:function(){if(null!=this._sound)try{this._sound.stop()}catch(t){}},_onSoundComplete:function(t){null!=this._onCompleteCallback&&this._onCompleteCallback.apply(this,[]),this.dispose()},__class__:Dt});var Ot=function(t,e,s){nt.call(this,t,e,s)};(s["awe6.core.drivers.createjs.Factory"]=Ot).__name__=["awe6","core","drivers","createjs","Factory"],Ot.__super__=nt,Ot.prototype=t(nt.prototype,{_driverInit:function(){this.isDebug||(Es.trace=function(t,e){Ms.__trace(t,null)});var t=new createjs.Container;if(this._context.addChild(t),this._context=t,this._countConfigsLoaded=0,this._countConfigsToLoad=0,""!=this._config){var e=null!=this._config?this._config:"assets/__config.xml",s=this._context.getStage().canvas.getAttribute("config");null!=s&&""!=s&&(e=s),this._loadConfig(e)}else this._launchKernel()},_launchKernel:function(){this._displayCredits();var t=!0,e=this.config;if(null!=di["settings.nativeExperience"]?e.existsReserved("settings.nativeExperience"):e.h.hasOwnProperty("settings.nativeExperience")){var s=this.config;t="true"==(null!=di["settings.nativeExperience"]?s.getReserved("settings.nativeExperience"):s.h["settings.nativeExperience"])}var i=this._context.getStage().canvas.getAttribute("nativeExperience");null!=i&&""!=i&&(t="true"==i),this.isNativeExperience=t,nt.prototype._launchKernel.call(this);var n=this._concreteKernel.system.isDesktop,r="default",a=this.config;if(null!=di["settings.fullScreen"]?a.existsReserved("settings.fullScreen"):a.h.hasOwnProperty("settings.fullScreen")){var _=this.config;r=null!=di["settings.fullScreen"]?_.getReserved("settings.fullScreen"):_.h["settings.fullScreen"]}var o=this._context.getStage().canvas.getAttribute("fullScreen");null!=o&&""!=o&&(r=o),this._kernel.set_isFullScreen(n&&("desktop"==r||"all"==r)||!n&&("mobile"==r||"all"==r||"default"==r)),this._kernel.isFullScreen&&this.isNativeExperience&&!n&&(this._concreteKernel.system.requestFullScreen(),this._concreteKernel.system.requestLockScreen())},_displayCredits:function(){var t,e=this.config;if(null!=di["settings.asciiArt"]?e.existsReserved("settings.asciiArt"):e.h.hasOwnProperty("settings.asciiArt")){var s=this.config;t=null!=di["settings.asciiArt"]?s.getReserved("settings.asciiArt"):s.h["settings.asciiArt"]}else t="";Es.trace(t,{fileName:"Factory.hx",lineNumber:126,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),Es.trace(this.id+" v"+this.version+" by "+this.author,{fileName:"Factory.hx",lineNumber:127,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),Es.trace("Powered by awe6 (http://awe6.org)",{fileName:"Factory.hx",lineNumber:128,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),this.isDecached&&Es.trace("Note: decaching is currently enabled",{fileName:"Factory.hx",lineNumber:131,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),Es.trace("",{fileName:"Factory.hx",lineNumber:133,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"})},_loadConfig:function(t){if("<?xml"==$.substr(t,0,5))this._parseXml(t);else{this.isDecached&&(t+="?dc="+z.random(99999));try{var e=new fs(t);e.onError=ai(this,this._onIOError),e.onData=ai(this,this._onComplete),e.request()}catch(t){return t instanceof Ls&&(t=t.val),void this._onIOError(z.string(t))}this._countConfigsToLoad++}},_parseXml:function(t){this._traverseElements(P.parse(t).firstElement().elements(),"");var e=this.config;if(!(null!=di["settings.joinXml"]?!e.existsReserved("settings.joinXml"):!e.h.hasOwnProperty("settings.joinXml"))&&this._countConfigsLoaded<100){var s=this.config,i=null!=di["settings.joinXml"]?s.getReserved("settings.joinXml"):s.h["settings.joinXml"];this.config.remove("settings.joinXml");for(var n=i.split(","),r=0;r<n.length;){var a=n[r];++r,this._loadConfig(a)}}this._countConfigsLoaded==this._countConfigsToLoad&&this._launchKernel()},_onIOError:function(t){Es.trace("IO Errors Occurred During Config Loading:"+t,{fileName:"Factory.hx",lineNumber:187,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),Es.trace("Double check your Config path.  Cross domain (or local) file loading of Config is a security risk and is, therefore, disabled on this browser.",{fileName:"Factory.hx",lineNumber:188,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),null!=this._config&&"<?xml"==$.substr(this._config,0,5)?(Es.trace("Embedded Config detected, using that to continue ...",{fileName:"Factory.hx",lineNumber:191,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),this._countConfigsLoaded=this._countConfigsToLoad,this._parseXml(this._config)):(Es.trace("Use a web server (or local server) to run over http and serve all files from the same domain.  Or embed the Config directlty in the code (e.g. as a Resource).",{fileName:"Factory.hx",lineNumber:197,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),Es.trace("Unable to continue without Config.",{fileName:"Factory.hx",lineNumber:198,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}))},_onComplete:function(t){if(this._countConfigsLoaded++,""!=t){var e=t;"<?xml"!=$.substr(e,0,5)&&(e=this.createEncrypter().decrypt(Ts.ofString(e)).toString()),this._parseXml(e)}else this._onIOError(t)},_getAssetUrls:function(){for(var t=["bin/assets/audio/Boost1.m4a","bin/assets/audio/Boost1.ogg","bin/assets/audio/Boost2.m4a","bin/assets/audio/Boost2.ogg","bin/assets/audio/ButtonOver.m4a","bin/assets/audio/ButtonOver.ogg","bin/assets/audio/Coin.m4a","bin/assets/audio/Coin.ogg","bin/assets/audio/Collision1.m4a","bin/assets/audio/Collision1.ogg","bin/assets/audio/Collision2.m4a","bin/assets/audio/Collision2.ogg","bin/assets/audio/Driveby1.m4a","bin/assets/audio/Driveby1.ogg","bin/assets/audio/Driveby2.m4a","bin/assets/audio/Driveby2.ogg","bin/assets/audio/Driveby3.m4a","bin/assets/audio/Driveby3.ogg","bin/assets/audio/Driveby4.m4a","bin/assets/audio/Driveby4.ogg","bin/assets/audio/Engines.m4a","bin/assets/audio/Engines.ogg","bin/assets/audio/MusicGame.m4a","bin/assets/audio/MusicGame.ogg","bin/assets/audio/MusicLose.m4a","bin/assets/audio/MusicLose.ogg","bin/assets/audio/MusicMenu.m4a","bin/assets/audio/MusicMenu.ogg","bin/assets/audio/MusicWin.m4a","bin/assets/audio/MusicWin.ogg","bin/assets/audio/Silence.m4a","bin/assets/audio/Silence.ogg","bin/assets/audio/Transition.m4a","bin/assets/audio/Transition.ogg","bin/assets/audio/Upgrade.m4a","bin/assets/audio/Upgrade.ogg","bin/assets/audio/VocalProgress1.m4a","bin/assets/audio/VocalProgress1.ogg","bin/assets/audio/VocalProgress2.m4a","bin/assets/audio/VocalProgress2.ogg","bin/assets/audio/VocalProgress3.m4a","bin/assets/audio/VocalProgress3.ogg","bin/assets/audio/VocalRankGood.m4a","bin/assets/audio/VocalRankGood.ogg","bin/assets/audio/VocalRankOk.m4a","bin/assets/audio/VocalRankOk.ogg","bin/assets/audio/VocalRankPoor.m4a","bin/assets/audio/VocalRankPoor.ogg","bin/assets/audio/VocalStart.m4a","bin/assets/audio/VocalStart.ogg","bin/assets/Blank.png","bin/assets/fonts/__Roboto-webfont.eot","bin/assets/fonts/__Roboto-webfont.svg","bin/assets/fonts/__Roboto-webfont.ttf","bin/assets/fonts/__Roboto-webfont.woff","bin/assets/gui/Buttons.png","bin/assets/gui/Hud.png","bin/assets/gui/HudProgress.png","bin/assets/gui/InstructionsA.png","bin/assets/gui/InstructionsB.png","bin/assets/gui/LocationPreview.png","bin/assets/gui/LocationPreviewMask.png","bin/assets/gui/Logo.png","bin/assets/gui/LogoShine.png","bin/assets/gui/PauseBg.png","bin/assets/gui/SceneBg.png","bin/assets/gui/SceneBgA.png","bin/assets/gui/SceneBgB.png","bin/assets/gui/SceneBgC.jpg","bin/assets/gui/SceneFgHorizontal.png","bin/assets/gui/SceneFgVertical.png","bin/assets/gui/Title.png","bin/assets/gui/Vignette.png","bin/assets/location/Boost.png","bin/assets/location/Cars.png","bin/assets/location/FinishLine.png","bin/assets/location/HorizonA.jpg","bin/assets/location/HorizonB.jpg","bin/assets/location/HorizonC.jpg","bin/assets/location/HorizonD.jpg","bin/assets/location/LensDirt.jpg","bin/assets/location/LensFlares.jpg","bin/assets/location/RoadA.jpg","bin/assets/location/RoadB.jpg","bin/assets/location/RoadC.jpg","bin/assets/location/RoadD.jpg","bin/assets/location/Scenery.png","bin/assets/location/Streaks.png","bin/assets/__Config.xml","bin/assets/__Icon128.png","bin/assets/__Icon196.png","bin/assets/__Icon256.png","bin/assets/__PreloaderBg.png","bin/assets/__PreloaderFg.png"],e=[],s=0,i=t.length;s<i;){var n=s++;t[n]=$.substr(t[n],4,null),("__"==$.substr(t[n],0,2)||-1<t[n].indexOf("/__"))&&e.push(t[n])}for(var r=0;r<e.length;){var a=e[r];++r,$.remove(t,a)}return t},_driverDisposer:function(){null!=this._context.parent&&this._context.parent.removeChild(this._context)},preventDefaultForKeys:function(t){this._kernel.inputs.keyboard.preventDefaultForKeys(t)},allowDefaultForKeys:function(t){this._kernel.inputs.keyboard.allowDefaultForKeys(t)},__class__:Ot});var Ut=function(t){at.call(this,t)};(s["awe6.core.drivers.createjs.InputKeyboard"]=Ut).__name__=["awe6","core","drivers","createjs","InputKeyboard"],Ut.__super__=at,Ut.prototype=t(at.prototype,{_driverInit:function(){this._document=window.document,this._preventDefaultKeyCodes=[],this._document.addEventListener("keydown",ai(this,this._onKeyDown)),this._document.addEventListener("keyup",ai(this,this._onKeyUp))},_disposer:function(){this._document.removeEventListener("keydown",ai(this,this._onKeyDown)),this._document.removeEventListener("keyup",ai(this,this._onKeyUp)),at.prototype._disposer.call(this)},_onKeyDown:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!0))},_onKeyUp:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!1))},preventDefaultForKeys:function(t){if(null!=t)for(var e=0;e<t.length;){var s=t[e];++e;var i=this.getKeyCode(s);f.has(this._preventDefaultKeyCodes,i)||this._preventDefaultKeyCodes.push(i)}},allowDefaultForKeys:function(t){if(null!=t)for(var e=0;e<this._preventDefaultKeyCodes.length;){var s=this.getKey(this._preventDefaultKeyCodes[e]);f.has(t,s)?this._preventDefaultKeyCodes.splice(e,1):++e}},__class__:Ut});var Pt=function(t){lt.call(this,t)};(s["awe6.core.drivers.createjs.InputMouse"]=Pt).__name__=["awe6","core","drivers","createjs","InputMouse"],Pt.__super__=lt,Pt.prototype=t(lt.prototype,{_driverInit:function(){this._stage=this._kernel._stage,this._isTouch=createjs.Touch.isSupported()&&!this._kernel.system.isDesktop,this._isTouch?(createjs.Touch.enable(this._stage,!0),this._touchX=this._touchY=0,this._stage.canvas.addEventListener("touchstart",ai(this,this._onTouchStart)),this._stage.canvas.addEventListener("touchmove",ai(this,this._onTouch)),this._stage.canvas.addEventListener("touchend",ai(this,this._onTouchEnd))):(this._stage.addEventListener("stagemousedown",ai(this,this._onMouseDown)),this._stage.addEventListener("stagemouseup",ai(this,this._onMouseUp))),window.focus()},_disposer:function(){this._isTouch?(createjs.Touch.disable(this._stage),this._stage.canvas.removeEventListener("touchstart",ai(this,this._onTouchStart)),this._stage.canvas.removeEventListener("touchmove",ai(this,this._onTouch)),this._stage.canvas.removeEventListener("touchend",ai(this,this._onTouchEnd))):(this._stage.removeEventListener("stagemousedown",ai(this,this._onMouseDown)),this._stage.removeEventListener("stagemouseup",ai(this,this._onMouseUp))),lt.prototype._disposer.call(this)},_isWithinBounds:function(){return this._stage.mouseInBounds},_getPosition:function(){if(this._isTouch)this.x=this._touchX,this.y=this._touchY;else{this._tools;var t=this._stage.mouseX/this._stage.scaleX,e=this._kernel.factory.width;this.x=0|(e<t?e:t<0?0:t);this._tools;var s=this._stage.mouseY/this._stage.scaleY,i=this._kernel.factory.height;this.y=0|(i<s?i:s<0?0:s)}this.x=this.x==this._kernel.factory.width?this._xPrev:this.x,this.y=this.y==this._kernel.factory.height?this._yPrev:this.y},_onTouchStart:function(t){this._onMouseDown(t),this._onTouch(t),this.x=this._touchX,this.y=this._touchY},_onTouchEnd:function(t){this._onMouseUp(t),this._onTouch(t),Pt._isSoundTriggered||(this._kernel.audio.start("Silence"),Pt._isSoundTriggered=!0,this._kernel.isFullScreen&&this._kernel.factory.isNativeExperience&&(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()))},_onTouch:function(t){try{this._tools;var e=(t.targetTouches[0].pageX-(0|this._stage.canvas.offsetLeft))/this._kernel._scaleX,s=this._kernel.factory.width;this._touchX=0|(s<e?s:e<0?0:e);this._tools;var i=(t.targetTouches[0].pageY-(0|this._stage.canvas.offsetTop))/this._kernel._scaleY,n=this._kernel.factory.height;this._touchY=0|(n<i?n:i<0?0:i)}catch(t){}this._stage.mouseInBounds&&t.preventDefault()},_onMouseDown:function(t){window.focus(),this.isActive&&(this._isTouch||2!=t.nativeEvent.button)&&this._buffer.push(!0)},_onMouseUp:function(t){this.isActive&&(this._isTouch||2!=t.nativeEvent.button)&&this._buffer.push(!1)},set_isVisible:function(t){return this._stage.cursor=t?"none":"auto",lt.prototype.set_isVisible.call(this,t)},set_cursorType:function(t){var e;switch(t[1]){case 0:e="crosshair";break;case 1:e="auto";break;case 2:case 3:e="pointer";break;case 4:e="text";break;case 5:e=t[2]}return this._stage.canvas.style.cursor=e,lt.prototype.set_cursorType.call(this,t)},__class__:Pt});var Lt=function(t,e){pt.call(this,t,e)};(s["awe6.core.drivers.createjs.Kernel"]=Lt).__name__=["awe6","core","drivers","createjs","Kernel"],Lt.__super__=pt,Lt.prototype=t(pt.prototype,{_driverGetIsLocal:function(){var t;switch(window.location.protocol){case"http:":case"https:":t=!1;break;default:t=!0}return t},_driverInit:function(){this.system=new Gt(this),this._scaleX=this._scaleY=1,this._stage=this._stageDynamic=this._context.getStage(),this._stage.canvas.style.setProperty("-ms-touch-action","none",""),this._stage.canvas.style.setProperty("image-rendering","-o-crisp-edges",""),this._stage.canvas.style.setProperty("image-rendering","optimize-contrast",""),this._stage.canvas.style.setProperty("-ms-interpolation-mode","nearest-neighbor",""),this._stage.canvas.style.setProperty("-webkit-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("-moz-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("user-select","none",""),this._stage.canvas.style.setProperty("-webkit-touch-callout","none",""),this._stage.canvas.style.setProperty("-webkit-user-select","none",""),this._stage.canvas.style.setProperty("-moz-user-select","none",""),this._stage.canvas.style.setProperty("-ms-user-select","none",""),this._stage.tickOnUpdate=!1,this._stage.mouseEnabled=!1,this._stage.canvas.width=this.factory.width,this._stage.canvas.height=this.factory.height;var t=new createjs.Shape;t.graphics.beginFill("#"+$.substr(E.hex(this.factory.bgColor,8),2,6)),t.graphics.drawRect(0,0,this.factory.width,this.factory.height),t.graphics.endFill(),this._stage.addChildAt(t,0),createjs.Ticker.setFPS(this.factory.targetFramerate),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",ai(this,this._onEnterFrame)),this._stage.canvas.addEventListener("contextmenu",ai(this,this._onContextMenu),!1),window.addEventListener("unload",ai(this,this._onUnload))},_onUnload:function(t){window.removeEventListener("unload",ai(this,this._onUnload)),this.get_session().save()},_onContextMenu:function(t){if(t.preventDefault(),t.stopImmediatePropagation(),null!=this.overlay){var e=ai(ni=this.overlay,ni.activateButton);ms.delay(function(){e(ne.PAUSE)},100)}},_driverDisposer:function(){this._stage.canvas.removeEventListener("contextmenu",ai(this,this._onContextMenu))},_onEnterFrame:function(t){null!=t.paused&&1==t.paused?this._stage.tickOnUpdate=!1:(this._updates++,this._updater(0),this._stage.tickOnUpdate=this.isActive,this._stageDynamic.update(t));var e=z.string(window.innerWidth)+":"+z.string(window.innerHeight);this._prevWindowSize!=e&&this._driverSetIsFullScreen(this.isFullScreen)},_driverSetIsEyeCandy:function(t){},_driverSetIsFullScreen:function(t){this._prevWindowSize=z.string(window.innerWidth)+":"+z.string(window.innerHeight),this._scaleX=this._scaleY=1;var e=this.factory.width,s=this.factory.height,i=window.innerWidth,n=window.innerHeight,r=e<s,a=i<n;this.system.isRotated=!this.system.isDesktop&&r!=a;var _=0,o=0;if(t){var h=Math.min(i/e,n/s),l=this.factory.fullScreenType;switch(l[1]){case 0:case 1:break;case 2:this._scaleX=i/e,this._scaleY=n/s;break;case 3:this._scaleX=this._scaleY=h;break;case 4:h=h<.5?.25:h<1?.5:Math.floor(h),this._scaleX=this._scaleY=h;break;case 5:var c=l[2];if(null!=c.bleedWidth&&null!=c.bleedHeight){var u=e-2*z.parseInt(z.string(c.bleedWidth)+""),d=s-2*z.parseInt(z.string(c.bleedHeight)+""),p=Math.min(i/u,n/d);this._scaleX=this._scaleY=p}}_=Math.round((i-e*this._scaleX)/2),o=Math.round((n-s*this._scaleY)/2)}this._stage.canvas.style.setProperty("width",Math.round(e*this._scaleX)+"px",""),this._stage.canvas.style.setProperty("height",Math.round(s*this._scaleY)+"px",""),this._stage.canvas.style.setProperty("margin-left",_+"px",""),this._stage.canvas.style.setProperty("margin-top",o+"px","")},__class__:Lt});var Mt=function(t,e,s,i,n,r,a,_,o,h,l,c,u,d,p,g,f){yt.call(this,t,e,s,i,n,r,a,_,o,h,l,c,u,d,p,g,f)};(s["awe6.core.drivers.createjs.Overlay"]=Mt).__name__=["awe6","core","drivers","createjs","Overlay"],Mt.__super__=yt,Mt.prototype=t(yt.prototype,{_driverInit:function(){Ms.__cast(this._borderView,Vt).context.mouseEnabled=!1,this._context.mouseEnabled=!1,this._pauseContext=new createjs.Container,this._pauseContext.mouseEnabled=!1;var t=new createjs.Shape;t.graphics.beginFill("#"+E.hex(this._pauseColor,6)),t.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),t.alpha=this._pauseAlpha,this._pauseContext.addChild(t),this._flashContext=new createjs.Container,this._flashContext.mouseEnabled=!1},_updater:function(t){null==t&&(t=0),yt.prototype._updater.call(this,t),this._flashContext.alpha=this._flashAlpha,this._flashContext.visible=0!=this._flashAlpha},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),this._flashContext.removeAllChildren();var n=new createjs.Shape;n.graphics.beginFill("#"+E.hex(i,6)),n.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),this._flashContext.addChild(n),t=null!=t?t:e?500:.5*this._kernel.factory.targetFramerate,this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e;this._tools;this._flashAlpha=this._flashStartingAlpha=1<s?1:s<0?0:s},__class__:Mt});var Bt=function(t,e,s){wt.call(this,t,e,s)};(s["awe6.core.drivers.createjs.Preloader"]=Bt).__name__=["awe6","core","drivers","createjs","Preloader"],Bt.__super__=wt,Bt.prototype=t(wt.prototype,{_init:function(){this._context=new createjs.Container,this.view=new Vt(this._kernel,this._context),wt.prototype._init.call(this),this._system=this._kernel.system,this._isDesktop=this._system.isDesktop,this._audioHoldDelay=0,this._completedDelay=0;var t=this._isDecached?"?dc="+z.random(999999):"",e=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];null!=this._proprietaryAudioFormat&&""!=this._proprietaryAudioFormat&&f.has(e,this._proprietaryAudioFormat)||(this._proprietaryAudioFormat="mp3");var s=[];if(this._manifest=[],createjs.Sound.initializeDefaultPlugins()){this._audioHoldDelay=this._getAudioHoldDelay();var i=this._isSoundDisabled||this._system.isAndroid&&this._getIsStockAndroidBrowser();this._validSoundFormat=createjs.Sound.getCapability("ogg")?"ogg":createjs.Sound.getCapability(this._proprietaryAudioFormat)?this._proprietaryAudioFormat:"noValidFormat",this._activePlugin=createjs.Sound.activePlugin;for(var n=0,r=this._assets;n<r.length;){var a=r[n];++n;var _=$.substr(a,-3,null);if(f.has(e,_)&&(s.push(a),!i&&_==this._validSoundFormat)){var o="assets.audio."+$.substr(a.split("/").pop(),0,-4);this._isFastTestMode||this._manifest.push({src:a+t,id:o})}}}for(var h=0;h<s.length;){var l=s[h];++h,$.remove(this._assets,l)}for(var c=0,u=this._assets;c<u.length;){var d=u[c];++c,this._manifest.push({src:d+t,id:d})}this._loadQueue=new createjs.LoadQueue(!this._kernel.isLocal&&!this._isFastTestMode,""),this._loadQueue.setMaxConnections(10),this._loadQueue.installPlugin(createjs.Sound),this._manifest=this._tools.shuffle(this._manifest),this._loadQueue.addEventListener("complete",ai(this,this._onComplete)),this._loadQueue.addEventListener("fileerror",ai(this,this._onError)),this._loadQueue.addEventListener("error",ai(this,this._onError));var p=ai(ni=this._loadQueue,ni.loadManifest),g=this._manifest;ms.delay(function(){p(g)},200)},_next:function(){},get_progress:function(){return this._loadQueue.progress},_onComplete:function(t){this._isComplete||(this._isComplete=!0,Nt.loadQueue=this._loadQueue,this._completedDelay=this._audioHoldDelay,this._loadQueue.removeEventListener("complete",ai(this,this._onComplete)),this._loadQueue.removeEventListener("fileerror",ai(this,this._onError)),this._loadQueue.removeEventListener("error",ai(this,this._onError)),0!=this._audioHoldDelay&&this._showAudioHoldMessage())},_onError:function(t){Es.trace([t,t.title,t.message,t.data],{fileName:"Preloader.hx",lineNumber:148,className:"awe6.core.drivers.createjs.Preloader",methodName:"_onError"})},_showAudioHoldMessage:function(){},_updater:function(t){null==t&&(t=0),wt.prototype._updater.call(this,t),this._isComplete&&(this._completedDelay-=t,(0<=this._audioHoldDelay&&this._completedDelay<=0||this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)||this._kernel.inputs.mouse.getIsButtonRelease())&&(this._assets=[]))},_getIsStockAndroidBrowser:function(){var t=-1<this._system.userAgent.indexOf("Android")&&-1<this._system.userAgent.indexOf("Mozilla/5.0")&&-1<this._system.userAgent.indexOf("AppleWebKit"),e=new g("AppleWebKit/([\\d.]+)",""),s=e.match(this._system.userAgent),i=s?parseFloat(e.matched(1)):0,n=new g("Chrome/([\\d.]+)",""),r=n.match(this._system.userAgent),a=r?parseFloat(n.matched(1)):0;return!!t&&(!!(s&&i<537)||!!r&&a<37)},_getAudioHoldDelay:function(){if(this._isSoundDisabled)return 0;try{if("[WebAudioPlugin]"!=createjs.Sound.activePlugin||"suspended"!=createjs.Sound.activePlugin.context.state)return 0}catch(t){}var t=-1,e=this._kernel.factory.config;if(null!=di["settings.audioHoldDelay"]?e.existsReserved("settings.audioHoldDelay"):e.h.hasOwnProperty("settings.audioHoldDelay")){var s=this._kernel.factory.config;t=z.parseInt(null!=di["settings.audioHoldDelay"]?s.getReserved("settings.audioHoldDelay"):s.h["settings.audioHoldDelay"])}try{var i=this._kernel.factory._context.getStage().canvas.getAttribute("audioHoldDelay");null!=i&&""!=i&&(t=z.parseInt(i))}catch(t){}return t},__class__:Bt});var Ft=function(t){St.call(this,t)};(s["awe6.core.drivers.createjs.Profiler"]=Ft).__name__=["awe6","core","drivers","createjs","Profiler"],Ft.__super__=St,Ft.prototype=t(St.prototype,{_init:function(){St.prototype._init.call(this),this._isMemoryEnabled=null!=window.performance&&null!=window.performance.memory,this._width=75,this._height=24,this._marginHeight=12;var t=new createjs.Shape;this._context.addChild(t),t.alpha=.25,this._isMemoryEnabled&&(t.graphics.beginFill("#"+E.hex(this._backgroundColor,6)),t.graphics.drawRect(0,0,this._width,this._height),t.graphics.endFill()),t.graphics.beginFill("#"+E.hex(this._marginColor,6)),t.graphics.drawRect(0,0,this._width,this._marginHeight),t.graphics.endFill(),t.cache(0,0,this._width,this._height),this._fpsTextField=new createjs.Text("","","#"+E.hex(this._fpsColor,6)),this._context.addChild(this._fpsTextField),this._isMemoryEnabled&&(this._memoryTextField=new createjs.Text("","","#"+E.hex(this._memoryColor,6)),this._memoryTextField.y=12,this._context.addChild(this._memoryTextField))},_driverUpdate:function(){var t=0|this._kernel.getFramerate(!0);Math.min(this._height,this._height/this._kernel.factory.targetFramerate*t);if(this._fpsTextField.text=this._fpsLabel+": "+t+" / "+this._kernel.factory.targetFramerate,this._isMemoryEnabled&&this._updates%this._kernel.factory.targetFramerate==0){var e=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),s=Math.round(window.performance.memory.jsHeapSizeLimit/1024/1024);this._memoryTextField.text=this._memoryLabel+": "+e+" / "+s}},__class__:Ft});var Yt=function(t,e){bt.call(this,t,e)};(s["awe6.core.drivers.createjs.SceneTransition"]=Yt).__name__=["awe6","core","drivers","createjs","SceneTransition"],Yt.__super__=bt,Yt.prototype=t(bt.prototype,{_init:function(){bt.prototype._init.call(this),this._kernel.scenes.get_scene().get_view().context.cache(0,0,this._kernel.factory.width,this._kernel.factory.height);var t=new createjs.Bitmap(this._kernel.scenes.get_scene().get_view().context.cacheCanvas);this._kernel.scenes.get_scene().get_view().context.uncache(),this._context.mouseEnabled=!1,this._context.addChild(t)},_updater:function(t){if(null==t&&(t=0),bt.prototype._updater.call(this,t),!this.isDisposed){var e=this.get_progress();this._context.alpha=1-e}},__class__:Yt});var Ht=function(t,e){At.call(this,t,e)};(s["awe6.core.drivers.createjs.Session"]=Ht).__name__=["awe6","core","drivers","createjs","Session"],Ht.__super__=At,Ht.prototype=t(At.prototype,{_init:function(){var t=!0;null!=this._kernel.getConfig("settings.sessionSaved")&&(t="false"!=this._kernel.getConfig("settings.sessionSaved")),this._storage=t?Bs.getLocalStorage():Bs.getSessionStorage(),At.prototype._init.call(this)},_driverLoad:function(){if(this._savedData={},null!=window.document.cookie&&Fs.exists(this._kernel.factory.id)&&(this._savedData=this._tools.unserialize(Fs.get(this._kernel.factory.id)),this._driverSave(),Fs.remove(this._kernel.factory.id)),null!=this._storage)try{var t=this._storage.getItem(this._kernel.factory.id);null!=t&&(this._savedData=this._tools.unserialize(t))}catch(t){}},_driverReset:function(){if(null!=this._storage)try{this._storage.removeItem(this._kernel.factory.id)}catch(t){}this._savedData={}},_driverSave:function(){if(null!=this._storage)try{this._storage.setItem(this._kernel.factory.id,this._tools.serialize(this._savedData))}catch(t){}},__class__:Ht});var Gt=function(t){this._kernel=t,this.isRotated=!1,this.isAndroid=this.isChromeOs=this.isIos=this.isLinux=this.isMacOs=this.isSilk=this.isWindows=this.isWindowsPhone=this.isDesktop=!1,this.userAgent=window.navigator.userAgent,this.isSilk=new g("Silk","").match(this.userAgent),this.isCocoonjs=1==window.navigator.isCocoonJS,this.isCocoonjs&&this._cocoonOverrides(),this.isCrosswalk=new g("Crosswalk","").match(this.userAgent),this.isCordova=null!=window.cordova,new g("Android","").match(this.userAgent)?this.isAndroid=!0:new g("CrOS","").match(this.userAgent)?this.isChromeOs=!0:new g("iP[ao]d|iPhone","i").match(this.userAgent)?this.isIos=!0:new g("Linux","").match(this.userAgent)?this.isLinux=!0:new g("Mac OS","").match(this.userAgent)?this.isMacOs=!0:new g("Windows","").match(this.userAgent)&&(this.isWindows=!0,new g("Windows Phone","i").match(this.userAgent)&&(this.isWindowsPhone=!0)),(this.isWindows||this.isMacOs||this.isLinux&&!this.isSilk)&&(this.isDesktop=!0),this.isWindowsPhone&&(this.isDesktop=!1)};(s["awe6.core.drivers.createjs.System"]=Gt).__name__=["awe6","core","drivers","createjs","System"],Gt.prototype={_cocoonOverrides:function(){Image.prototype.naturalWidth=function(){return this.width},Image.prototype.naturalHeight=function(){return this.height}},requestFullScreen:function(){try{var t=window.document.documentElement;null!=ai(t,t.requestFullscreen)?t.requestFullscreen():null!=t.msRequestFullscreen?t.msRequestFullscreen():null!=t.mozRequestFullScreen?t.mozRequestFullScreen():null!=t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}catch(t){}},requestExitFullScreen:function(){try{var t=window.document;null!=ai(t,t.exitFullscreen)?t.exitFullscreen():null!=t.msExitFullscreen?t.msExitFullscreen():null!=t.mozCancelFullScreen?t.mozCancelFullScreen():null!=t.webkitExitFullscreen&&t.webkitExitFullscreen()}catch(t){}},requestLockScreen:function(){if(!this.isDesktop)try{var t=this._kernel.factory.width<this._kernel.factory.height?"portrait-primary":"landscape-primary",e=window.screen;null!=e.orientation?null!=ai(ni=e.orientation,ni.lock)?e.orientation.lock(t):null!=e.orientation.lockOrientation&&e.orientation.lockOrientation(t):null!=e.mozOrientation?e.mozLockOrientation(t):null!=e.msOrientation&&e.msLockOrientation(t)}catch(t){}},__class__:Gt};var Vt=function(t,e,s,i){kt.call(this,t,e,s,i)};(s["awe6.core.drivers.createjs.View"]=Vt).__name__=["awe6","core","drivers","createjs","View"],Vt.__super__=kt,Vt.prototype=t(kt.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),kt.prototype._init.call(this)},_driverDisposer:function(){if(null!=this.context&&null!=this.context.parent)try{this.context.parent.removeChild(this.context)}catch(t){}},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var s=t[e];++e,s.isVisible&&this._container.addChild(s.context)}},set_x:function(t){return this.context.x=t,kt.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,kt.prototype.set_y.call(this,t)},__class__:Vt});var zt=function(t,e,s,i){if(null==i&&(i=!0),null==s&&(s=100),null==e&&(e=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=e,this.height=s,this._context=new createjs.Container,this.setPosition(0,0),i){var n=new createjs.Shape;n.graphics.beginFill("#FF0000"),n.graphics.drawRect(0,0,this.width,this.height),n.graphics.endFill(),n.visible=!1,this._context.addChild(n),this._context.mask=n}v.call(this,t,null,this._context)};(s["awe6.core.drivers.createjs.extras.gui.GuiEntity"]=zt).__name__=["awe6","core","drivers","createjs","extras","gui","GuiEntity"],zt.__interfaces__=[m],zt.__super__=v,zt.prototype=t(v.prototype,{setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,this._context.x=this.x,this.x},set_y:function(t){return this.y=t,this._context.y=this.y,this.y},__class__:zt,__properties__:t(v.prototype.__properties__,{set_y:"set_y",set_x:"set_x"})});var jt=function(t,e,s,i,n,r,a){null==a&&(a=!1),null==r&&(r=!1),null==i&&(i=""),this.textStyle=n,this._isMultiline=r,this._isCached=a,zt.call(this,t,e,s,!1),this.set_text(i)};(s["awe6.core.drivers.createjs.extras.gui.Text"]=jt).__name__=["awe6","core","drivers","createjs","extras","gui","Text"],jt.__super__=zt,jt.prototype=t(zt.prototype,{_init:function(){zt.prototype._init.call(this),this._textField=new createjs.Text,this._textField.text=this.text,this._draw(),this._context.addChild(this._textField),this._isDirty=!1,this._prevTextStyle=this.textStyle.toString()},_updater:function(t){null==t&&(t=0),zt.prototype._updater.call(this,t),this._isDirty=this._isDirty||this._prevTextStyle!=this.textStyle.toString(),this._isDirty&&this._draw(),this._prevTextStyle=this.textStyle.toString()},_draw:function(){if(this._textField.lineWidth=this.width,this._prevTextStyle!=this.textStyle.toString()){switch(this.textStyle.align[1]){case 0:case 1:this._textField.textAlign="left";break;case 2:this._textField.textAlign="center",this._textField.x=.5*this.width;break;case 3:this._textField.textAlign="right",this._textField.x=this.width}var t=E.hex(this.textStyle.color,6);if(this._textField.color="#"+t,this._textField.font=(this.textStyle.isBold?"bold ":"")+(this.textStyle.isItalic?"italic ":"")+this.textStyle.size+"px '"+this.textStyle.font+"'",this._textField.lineHeight=this.textStyle.spacingVertical,null!=this.textStyle.filters){var e=this._textField;e.shadow=null;var s=this.textStyle.filters.slice();if(null!=this._textFieldOutline&&null!=this._textFieldOutline.parent&&this._textFieldOutline.parent.removeChild(this._textFieldOutline),this._textFieldOutline=null,2==s.length||6==s.length){this._textFieldOutline=this._textField.clone();var i=E.hex(s.shift(),6);this._textFieldOutline.color="#"+i;var n=s.shift();this._textFieldOutline.outline=2*n,this._context.addChildAt(this._textFieldOutline,0),e=this._textFieldOutline}4==s.length&&(e.shadow=new createjs.Shadow("#"+E.hex(s[0],6),s[1],s[2],s[3]))}}this._isCached&&this._context.cache(0,0,this.width,this.height),this._isDirty=!1},set_text:function(t){return null==t&&(t=""),this.text==t||(this.text=t,this._textField.text=this.text,null!=this._textFieldOutline&&(this._textFieldOutline.text=this.text),this._isDirty=!0),this.text},__class__:jt,__properties__:t(zt.prototype.__properties__,{set_text:"set_text"})});var Wt=function(t,e,s,i){kt.call(this,t,e,s,i)};(s["awe6.core.drivers.flash.View"]=Wt).__name__=["awe6","core","drivers","flash","View"],Wt.__super__=kt,Wt.prototype=t(kt.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),kt.prototype._init.call(this)},_driverDisposer:function(){null!=this.context.parent&&this.context.parent.removeChild(this.context)},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var s=t[e];++e,s.isVisible&&this._container.addChild(s.context)}},set_x:function(t){return this.context.x=t,kt.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,kt.prototype.set_y.call(this,t)},__class__:Wt});var Xt=function(t,e,s){null==s&&(s=1e3),this._callbackFunction=e,this._duration=s,v.call(this,t)};(s["awe6.extras.Delay"]=Xt).__name__=["awe6","extras","Delay"],Xt.__super__=v,Xt.prototype=t(v.prototype,{_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._duration-=t,this._duration<=0&&(null!=this._callbackFunction&&this._callbackFunction(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:Xt});var Kt=function(t,e,s,i,n,r,a,_,o,h,l){null==h&&(h=!1),null==o&&(o=!1),null==_&&(_=!1),null==s&&(s=1e3),null==e&&(e=0),this._delay=e,this._duration=s,this._object=i,this._field=n,this._originalValue=r,this._newValue=a,this._isRelative=_,this._isEaseIn=o,this._isEaseOut=h,this._callback=l,this._prevProgress=0,v.call(this,t),this._updater()};(s["awe6.extras.Easer"]=Kt).__name__=["awe6","extras","Easer"],Kt.__super__=v,Kt.prototype=t(v.prototype,{_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t);this._tools;var e=(this._age-this._delay)/this._duration,s=1<e?1:e<0?0:e;if(this._isEaseIn&&(s=1-Math.cos(.5*s*Math.PI)),this._isEaseOut&&(s=Math.sin(.5*s*Math.PI)),.99999<=s&&(s=1),this._isRelative){this._tools;var i=this._prevProgress,n=this._originalValue*(1-i)+this._newValue*i,r=(this._tools,this._originalValue*(1-s)+this._newValue*s-n);V.setProperty(this._object,this._field,V.getProperty(this._object,this._field)+r)}else{this._tools;V.setProperty(this._object,this._field,this._originalValue*(1-s)+this._newValue*s)}1==(this._prevProgress=s)&&(null!=this._callback&&this._callback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:Kt});var Qt=s["awe6.interfaces.EAgenda"]={__ename__:["awe6","interfaces","EAgenda"],__constructs__:["ALWAYS","BIRTH","DEATH","STANDARD","ATTACK","DEFEND","SUB_TYPE"]};Qt.ALWAYS=["ALWAYS",0],Qt.ALWAYS.toString=i,(Qt.ALWAYS.__enum__=Qt).BIRTH=["BIRTH",1],Qt.BIRTH.toString=i,(Qt.BIRTH.__enum__=Qt).DEATH=["DEATH",2],Qt.DEATH.toString=i,(Qt.DEATH.__enum__=Qt).STANDARD=["STANDARD",3],Qt.STANDARD.toString=i,(Qt.STANDARD.__enum__=Qt).ATTACK=["ATTACK",4],Qt.ATTACK.toString=i,(Qt.ATTACK.__enum__=Qt).DEFEND=["DEFEND",5],Qt.DEFEND.toString=i,(Qt.DEFEND.__enum__=Qt).SUB_TYPE=function(t){var e=["SUB_TYPE",6,t];return e.__enum__=Qt,e.toString=i,e};var Jt=s["awe6.interfaces.EAudioChannel"]={__ename__:["awe6","interfaces","EAudioChannel"],__constructs__:["DEFAULT","EFFECTS","INTERFACE","MUSIC","SUB_TYPE"]};Jt.DEFAULT=["DEFAULT",0],Jt.DEFAULT.toString=i,(Jt.DEFAULT.__enum__=Jt).EFFECTS=["EFFECTS",1],Jt.EFFECTS.toString=i,(Jt.EFFECTS.__enum__=Jt).INTERFACE=["INTERFACE",2],Jt.INTERFACE.toString=i,(Jt.INTERFACE.__enum__=Jt).MUSIC=["MUSIC",3],Jt.MUSIC.toString=i,(Jt.MUSIC.__enum__=Jt).SUB_TYPE=function(t){var e=["SUB_TYPE",4,t];return e.__enum__=Jt,e.toString=i,e};var Zt=s["awe6.interfaces.EFullScreen"]={__ename__:["awe6","interfaces","EFullScreen"],__constructs__:["DISABLED","NO_SCALE","SCALE_ASPECT_RATIO_IGNORE","SCALE_ASPECT_RATIO_PRESERVE","SCALE_NEAREST_MULTIPLE","SUB_TYPE"]};Zt.DISABLED=["DISABLED",0],Zt.DISABLED.toString=i,(Zt.DISABLED.__enum__=Zt).NO_SCALE=["NO_SCALE",1],Zt.NO_SCALE.toString=i,(Zt.NO_SCALE.__enum__=Zt).SCALE_ASPECT_RATIO_IGNORE=["SCALE_ASPECT_RATIO_IGNORE",2],Zt.SCALE_ASPECT_RATIO_IGNORE.toString=i,(Zt.SCALE_ASPECT_RATIO_IGNORE.__enum__=Zt).SCALE_ASPECT_RATIO_PRESERVE=["SCALE_ASPECT_RATIO_PRESERVE",3],Zt.SCALE_ASPECT_RATIO_PRESERVE.toString=i,(Zt.SCALE_ASPECT_RATIO_PRESERVE.__enum__=Zt).SCALE_NEAREST_MULTIPLE=["SCALE_NEAREST_MULTIPLE",4],Zt.SCALE_NEAREST_MULTIPLE.toString=i,(Zt.SCALE_NEAREST_MULTIPLE.__enum__=Zt).SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=Zt,e.toString=i,e};var qt=s["awe6.interfaces.EJoypadButton"]={__ename__:["awe6","interfaces","EJoypadButton"],__constructs__:["FIRE","UP","RIGHT","DOWN","LEFT","PRIMARY","SECONDARY"]};qt.FIRE=["FIRE",0],qt.FIRE.toString=i,(qt.FIRE.__enum__=qt).UP=["UP",1],qt.UP.toString=i,(qt.UP.__enum__=qt).RIGHT=["RIGHT",2],qt.RIGHT.toString=i,(qt.RIGHT.__enum__=qt).DOWN=["DOWN",3],qt.DOWN.toString=i,(qt.DOWN.__enum__=qt).LEFT=["LEFT",4],qt.LEFT.toString=i,(qt.LEFT.__enum__=qt).PRIMARY=["PRIMARY",5],qt.PRIMARY.toString=i,(qt.PRIMARY.__enum__=qt).SECONDARY=["SECONDARY",6],qt.SECONDARY.toString=i,qt.SECONDARY.__enum__=qt;var $t=s["awe6.interfaces.EJoypadTouch"]={__ename__:["awe6","interfaces","EJoypadTouch"],__constructs__:["DISABLED","DPAD","JOYSTICK","SWIPE"]};$t.DISABLED=["DISABLED",0],$t.DISABLED.toString=i,($t.DISABLED.__enum__=$t).DPAD=["DPAD",1],$t.DPAD.toString=i,($t.DPAD.__enum__=$t).JOYSTICK=function(t){var e=["JOYSTICK",2,t];return e.__enum__=$t,e.toString=i,e},$t.SWIPE=function(t){var e=["SWIPE",3,t];return e.__enum__=$t,e.toString=i,e};var te=s["awe6.interfaces.EKey"]={__ename__:["awe6","interfaces","EKey"],__constructs__:["NUM_LOCK","CLEAR","HELP","ALT","BACKSPACE","CAPS_LOCK","CONTROL","DELETE","DOWN","END","ENTER","ESCAPE","F1","F10","F11","F12","F13","F14","F15","F2","F3","F4","F5","F6","F7","F8","F9","HOME","INSERT","LEFT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","RIGHT","SHIFT","SPACE","TAB","UP","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","NUMBER_0","NUMBER_1","NUMBER_2","NUMBER_3","NUMBER_4","NUMBER_5","NUMBER_6","NUMBER_7","NUMBER_8","NUMBER_9","COLON","EQUALS","HYPHEN","SLASH","TILDE","SQUARELEFT","SQUARERIGHT","BACKSLASH","APOSTROPHE","TOPLEFT","SUB_TYPE"]};te.NUM_LOCK=["NUM_LOCK",0],te.NUM_LOCK.toString=i,(te.NUM_LOCK.__enum__=te).CLEAR=["CLEAR",1],te.CLEAR.toString=i,(te.CLEAR.__enum__=te).HELP=["HELP",2],te.HELP.toString=i,(te.HELP.__enum__=te).ALT=["ALT",3],te.ALT.toString=i,(te.ALT.__enum__=te).BACKSPACE=["BACKSPACE",4],te.BACKSPACE.toString=i,(te.BACKSPACE.__enum__=te).CAPS_LOCK=["CAPS_LOCK",5],te.CAPS_LOCK.toString=i,(te.CAPS_LOCK.__enum__=te).CONTROL=["CONTROL",6],te.CONTROL.toString=i,(te.CONTROL.__enum__=te).DELETE=["DELETE",7],te.DELETE.toString=i,(te.DELETE.__enum__=te).DOWN=["DOWN",8],te.DOWN.toString=i,(te.DOWN.__enum__=te).END=["END",9],te.END.toString=i,(te.END.__enum__=te).ENTER=["ENTER",10],te.ENTER.toString=i,(te.ENTER.__enum__=te).ESCAPE=["ESCAPE",11],te.ESCAPE.toString=i,(te.ESCAPE.__enum__=te).F1=["F1",12],te.F1.toString=i,(te.F1.__enum__=te).F10=["F10",13],te.F10.toString=i,(te.F10.__enum__=te).F11=["F11",14],te.F11.toString=i,(te.F11.__enum__=te).F12=["F12",15],te.F12.toString=i,(te.F12.__enum__=te).F13=["F13",16],te.F13.toString=i,(te.F13.__enum__=te).F14=["F14",17],te.F14.toString=i,(te.F14.__enum__=te).F15=["F15",18],te.F15.toString=i,(te.F15.__enum__=te).F2=["F2",19],te.F2.toString=i,(te.F2.__enum__=te).F3=["F3",20],te.F3.toString=i,(te.F3.__enum__=te).F4=["F4",21],te.F4.toString=i,(te.F4.__enum__=te).F5=["F5",22],te.F5.toString=i,(te.F5.__enum__=te).F6=["F6",23],te.F6.toString=i,(te.F6.__enum__=te).F7=["F7",24],te.F7.toString=i,(te.F7.__enum__=te).F8=["F8",25],te.F8.toString=i,(te.F8.__enum__=te).F9=["F9",26],te.F9.toString=i,(te.F9.__enum__=te).HOME=["HOME",27],te.HOME.toString=i,(te.HOME.__enum__=te).INSERT=["INSERT",28],te.INSERT.toString=i,(te.INSERT.__enum__=te).LEFT=["LEFT",29],te.LEFT.toString=i,(te.LEFT.__enum__=te).NUMPAD_0=["NUMPAD_0",30],te.NUMPAD_0.toString=i,(te.NUMPAD_0.__enum__=te).NUMPAD_1=["NUMPAD_1",31],te.NUMPAD_1.toString=i,(te.NUMPAD_1.__enum__=te).NUMPAD_2=["NUMPAD_2",32],te.NUMPAD_2.toString=i,(te.NUMPAD_2.__enum__=te).NUMPAD_3=["NUMPAD_3",33],te.NUMPAD_3.toString=i,(te.NUMPAD_3.__enum__=te).NUMPAD_4=["NUMPAD_4",34],te.NUMPAD_4.toString=i,(te.NUMPAD_4.__enum__=te).NUMPAD_5=["NUMPAD_5",35],te.NUMPAD_5.toString=i,(te.NUMPAD_5.__enum__=te).NUMPAD_6=["NUMPAD_6",36],te.NUMPAD_6.toString=i,(te.NUMPAD_6.__enum__=te).NUMPAD_7=["NUMPAD_7",37],te.NUMPAD_7.toString=i,(te.NUMPAD_7.__enum__=te).NUMPAD_8=["NUMPAD_8",38],te.NUMPAD_8.toString=i,(te.NUMPAD_8.__enum__=te).NUMPAD_9=["NUMPAD_9",39],te.NUMPAD_9.toString=i,(te.NUMPAD_9.__enum__=te).NUMPAD_ADD=["NUMPAD_ADD",40],te.NUMPAD_ADD.toString=i,(te.NUMPAD_ADD.__enum__=te).NUMPAD_DECIMAL=["NUMPAD_DECIMAL",41],te.NUMPAD_DECIMAL.toString=i,(te.NUMPAD_DECIMAL.__enum__=te).NUMPAD_DIVIDE=["NUMPAD_DIVIDE",42],te.NUMPAD_DIVIDE.toString=i,(te.NUMPAD_DIVIDE.__enum__=te).NUMPAD_ENTER=["NUMPAD_ENTER",43],te.NUMPAD_ENTER.toString=i,(te.NUMPAD_ENTER.__enum__=te).NUMPAD_MULTIPLY=["NUMPAD_MULTIPLY",44],te.NUMPAD_MULTIPLY.toString=i,(te.NUMPAD_MULTIPLY.__enum__=te).NUMPAD_SUBTRACT=["NUMPAD_SUBTRACT",45],te.NUMPAD_SUBTRACT.toString=i,(te.NUMPAD_SUBTRACT.__enum__=te).PAGE_DOWN=["PAGE_DOWN",46],te.PAGE_DOWN.toString=i,(te.PAGE_DOWN.__enum__=te).PAGE_UP=["PAGE_UP",47],te.PAGE_UP.toString=i,(te.PAGE_UP.__enum__=te).RIGHT=["RIGHT",48],te.RIGHT.toString=i,(te.RIGHT.__enum__=te).SHIFT=["SHIFT",49],te.SHIFT.toString=i,(te.SHIFT.__enum__=te).SPACE=["SPACE",50],te.SPACE.toString=i,(te.SPACE.__enum__=te).TAB=["TAB",51],te.TAB.toString=i,(te.TAB.__enum__=te).UP=["UP",52],te.UP.toString=i,(te.UP.__enum__=te).A=["A",53],te.A.toString=i,(te.A.__enum__=te).B=["B",54],te.B.toString=i,(te.B.__enum__=te).C=["C",55],te.C.toString=i,(te.C.__enum__=te).D=["D",56],te.D.toString=i,(te.D.__enum__=te).E=["E",57],te.E.toString=i,(te.E.__enum__=te).F=["F",58],te.F.toString=i,(te.F.__enum__=te).G=["G",59],te.G.toString=i,(te.G.__enum__=te).H=["H",60],te.H.toString=i,(te.H.__enum__=te).I=["I",61],te.I.toString=i,(te.I.__enum__=te).J=["J",62],te.J.toString=i,(te.J.__enum__=te).K=["K",63],te.K.toString=i,(te.K.__enum__=te).L=["L",64],te.L.toString=i,(te.L.__enum__=te).M=["M",65],te.M.toString=i,(te.M.__enum__=te).N=["N",66],te.N.toString=i,(te.N.__enum__=te).O=["O",67],te.O.toString=i,(te.O.__enum__=te).P=["P",68],te.P.toString=i,(te.P.__enum__=te).Q=["Q",69],te.Q.toString=i,(te.Q.__enum__=te).R=["R",70],te.R.toString=i,(te.R.__enum__=te).S=["S",71],te.S.toString=i,(te.S.__enum__=te).T=["T",72],te.T.toString=i,(te.T.__enum__=te).U=["U",73],te.U.toString=i,(te.U.__enum__=te).V=["V",74],te.V.toString=i,(te.V.__enum__=te).W=["W",75],te.W.toString=i,(te.W.__enum__=te).X=["X",76],te.X.toString=i,(te.X.__enum__=te).Y=["Y",77],te.Y.toString=i,(te.Y.__enum__=te).Z=["Z",78],te.Z.toString=i,(te.Z.__enum__=te).NUMBER_0=["NUMBER_0",79],te.NUMBER_0.toString=i,(te.NUMBER_0.__enum__=te).NUMBER_1=["NUMBER_1",80],te.NUMBER_1.toString=i,(te.NUMBER_1.__enum__=te).NUMBER_2=["NUMBER_2",81],te.NUMBER_2.toString=i,(te.NUMBER_2.__enum__=te).NUMBER_3=["NUMBER_3",82],te.NUMBER_3.toString=i,(te.NUMBER_3.__enum__=te).NUMBER_4=["NUMBER_4",83],te.NUMBER_4.toString=i,(te.NUMBER_4.__enum__=te).NUMBER_5=["NUMBER_5",84],te.NUMBER_5.toString=i,(te.NUMBER_5.__enum__=te).NUMBER_6=["NUMBER_6",85],te.NUMBER_6.toString=i,(te.NUMBER_6.__enum__=te).NUMBER_7=["NUMBER_7",86],te.NUMBER_7.toString=i,(te.NUMBER_7.__enum__=te).NUMBER_8=["NUMBER_8",87],te.NUMBER_8.toString=i,(te.NUMBER_8.__enum__=te).NUMBER_9=["NUMBER_9",88],te.NUMBER_9.toString=i,(te.NUMBER_9.__enum__=te).COLON=["COLON",89],te.COLON.toString=i,(te.COLON.__enum__=te).EQUALS=["EQUALS",90],te.EQUALS.toString=i,(te.EQUALS.__enum__=te).HYPHEN=["HYPHEN",91],te.HYPHEN.toString=i,(te.HYPHEN.__enum__=te).SLASH=["SLASH",92],te.SLASH.toString=i,(te.SLASH.__enum__=te).TILDE=["TILDE",93],te.TILDE.toString=i,(te.TILDE.__enum__=te).SQUARELEFT=["SQUARELEFT",94],te.SQUARELEFT.toString=i,(te.SQUARELEFT.__enum__=te).SQUARERIGHT=["SQUARERIGHT",95],te.SQUARERIGHT.toString=i,(te.SQUARERIGHT.__enum__=te).BACKSLASH=["BACKSLASH",96],te.BACKSLASH.toString=i,(te.BACKSLASH.__enum__=te).APOSTROPHE=["APOSTROPHE",97],te.APOSTROPHE.toString=i,(te.APOSTROPHE.__enum__=te).TOPLEFT=["TOPLEFT",98],te.TOPLEFT.toString=i,(te.TOPLEFT.__enum__=te).SUB_TYPE=function(t){var e=["SUB_TYPE",99,t];return e.__enum__=te,e.toString=i,e};var ee=s["awe6.interfaces.EMessage"]={__ename__:["awe6","interfaces","EMessage"],__constructs__:["DISPOSE","INIT","PAUSE","RESUME","SUB_TYPE"]};ee.DISPOSE=["DISPOSE",0],ee.DISPOSE.toString=i,(ee.DISPOSE.__enum__=ee).INIT=["INIT",1],ee.INIT.toString=i,(ee.INIT.__enum__=ee).PAUSE=["PAUSE",2],ee.PAUSE.toString=i,(ee.PAUSE.__enum__=ee).RESUME=["RESUME",3],ee.RESUME.toString=i,(ee.RESUME.__enum__=ee).SUB_TYPE=function(t){var e=["SUB_TYPE",4,t];return e.__enum__=ee,e.toString=i,e};var se=s["awe6.interfaces.EMouseButton"]={__ename__:["awe6","interfaces","EMouseButton"],__constructs__:["LEFT","MIDDLE","RIGHT"]};se.LEFT=["LEFT",0],se.LEFT.toString=i,(se.LEFT.__enum__=se).MIDDLE=["MIDDLE",1],se.MIDDLE.toString=i,(se.MIDDLE.__enum__=se).RIGHT=["RIGHT",2],se.RIGHT.toString=i,se.RIGHT.__enum__=se;var ie=s["awe6.interfaces.EMouseCursor"]={__ename__:["awe6","interfaces","EMouseCursor"],__constructs__:["ARROW","AUTO","BUTTON","HAND","IBEAM","SUB_TYPE"]};ie.ARROW=["ARROW",0],ie.ARROW.toString=i,(ie.ARROW.__enum__=ie).AUTO=["AUTO",1],ie.AUTO.toString=i,(ie.AUTO.__enum__=ie).BUTTON=["BUTTON",2],ie.BUTTON.toString=i,(ie.BUTTON.__enum__=ie).HAND=["HAND",3],ie.HAND.toString=i,(ie.HAND.__enum__=ie).IBEAM=["IBEAM",4],ie.IBEAM.toString=i,(ie.IBEAM.__enum__=ie).SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=ie,e.toString=i,e};var ne=s["awe6.interfaces.EOverlayButton"]={__ename__:["awe6","interfaces","EOverlayButton"],__constructs__:["BACK","MUTE","UNMUTE","PAUSE","UNPAUSE","SUB_TYPE"]};ne.BACK=["BACK",0],ne.BACK.toString=i,(ne.BACK.__enum__=ne).MUTE=["MUTE",1],ne.MUTE.toString=i,(ne.MUTE.__enum__=ne).UNMUTE=["UNMUTE",2],ne.UNMUTE.toString=i,(ne.UNMUTE.__enum__=ne).PAUSE=["PAUSE",3],ne.PAUSE.toString=i,(ne.PAUSE.__enum__=ne).UNPAUSE=["UNPAUSE",4],ne.UNPAUSE.toString=i,(ne.UNPAUSE.__enum__=ne).SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=ne,e.toString=i,e};var re=s["awe6.interfaces.EScene"]={__ename__:["awe6","interfaces","EScene"],__constructs__:["SPLASH","INTRO","SELECT_SESSION","SELECT_STORY","SELECT_LEVEL","INSTRUCTIONS","SETTINGS","MENU","AVATAR","SHOP","REWARDS","LEADERBOARD","GAME","INTERSTITIAL","CINEMATIC","RESULTS","EXIT","TEST","SUB_TYPE"]};re.SPLASH=["SPLASH",0],re.SPLASH.toString=i,(re.SPLASH.__enum__=re).INTRO=["INTRO",1],re.INTRO.toString=i,(re.INTRO.__enum__=re).SELECT_SESSION=["SELECT_SESSION",2],re.SELECT_SESSION.toString=i,(re.SELECT_SESSION.__enum__=re).SELECT_STORY=["SELECT_STORY",3],re.SELECT_STORY.toString=i,(re.SELECT_STORY.__enum__=re).SELECT_LEVEL=["SELECT_LEVEL",4],re.SELECT_LEVEL.toString=i,(re.SELECT_LEVEL.__enum__=re).INSTRUCTIONS=["INSTRUCTIONS",5],re.INSTRUCTIONS.toString=i,(re.INSTRUCTIONS.__enum__=re).SETTINGS=["SETTINGS",6],re.SETTINGS.toString=i,(re.SETTINGS.__enum__=re).MENU=["MENU",7],re.MENU.toString=i,(re.MENU.__enum__=re).AVATAR=["AVATAR",8],re.AVATAR.toString=i,(re.AVATAR.__enum__=re).SHOP=["SHOP",9],re.SHOP.toString=i,(re.SHOP.__enum__=re).REWARDS=["REWARDS",10],re.REWARDS.toString=i,(re.REWARDS.__enum__=re).LEADERBOARD=["LEADERBOARD",11],re.LEADERBOARD.toString=i,(re.LEADERBOARD.__enum__=re).GAME=["GAME",12],re.GAME.toString=i,(re.GAME.__enum__=re).INTERSTITIAL=["INTERSTITIAL",13],re.INTERSTITIAL.toString=i,(re.INTERSTITIAL.__enum__=re).CINEMATIC=["CINEMATIC",14],re.CINEMATIC.toString=i,(re.CINEMATIC.__enum__=re).RESULTS=["RESULTS",15],re.RESULTS.toString=i,(re.RESULTS.__enum__=re).EXIT=["EXIT",16],re.EXIT.toString=i,(re.EXIT.__enum__=re).TEST=["TEST",17],re.TEST.toString=i,(re.TEST.__enum__=re).SUB_TYPE=function(t){var e=["SUB_TYPE",18,t];return e.__enum__=re,e.toString=i,e};var ae=s["awe6.interfaces.ETextAlign"]={__ename__:["awe6","interfaces","ETextAlign"],__constructs__:["JUSTIFY","LEFT","CENTER","RIGHT"]};ae.JUSTIFY=["JUSTIFY",0],ae.JUSTIFY.toString=i,(ae.JUSTIFY.__enum__=ae).LEFT=["LEFT",1],ae.LEFT.toString=i,(ae.LEFT.__enum__=ae).CENTER=["CENTER",2],ae.CENTER.toString=i,(ae.CENTER.__enum__=ae).RIGHT=["RIGHT",3],ae.RIGHT.toString=i,ae.RIGHT.__enum__=ae;var _e=s["awe6.interfaces.ETextStyle"]={__ename__:["awe6","interfaces","ETextStyle"],__constructs__:["BUTTON","BODY","HEADLINE","SUBHEAD","SMALLPRINT","OVERSIZED","SUB_TYPE"]};_e.BUTTON=["BUTTON",0],_e.BUTTON.toString=i,(_e.BUTTON.__enum__=_e).BODY=["BODY",1],_e.BODY.toString=i,(_e.BODY.__enum__=_e).HEADLINE=["HEADLINE",2],_e.HEADLINE.toString=i,(_e.HEADLINE.__enum__=_e).SUBHEAD=["SUBHEAD",3],_e.SUBHEAD.toString=i,(_e.SUBHEAD.__enum__=_e).SMALLPRINT=["SMALLPRINT",4],_e.SMALLPRINT.toString=i,(_e.SMALLPRINT.__enum__=_e).OVERSIZED=["OVERSIZED",5],_e.OVERSIZED.toString=i,(_e.OVERSIZED.__enum__=_e).SUB_TYPE=function(t){var e=["SUB_TYPE",6,t];return e.__enum__=_e,e.toString=i,e};var oe=function(t){this._context=new createjs.Container,this._session=t.get_session(),this._assets=t.assets,this._factory=t.factory,this._system=t.system,this._context.mouseChildren=!1,this._context.mouseEnabled=!1,v.call(this,t,null,this._context)};(s["b10gph.AEntity"]=oe).__name__=["b10gph","AEntity"],oe.__super__=v,oe.prototype=t(v.prototype,{__class__:oe});var he=function(t){this._kernel=t,this._tools=this._kernel.tools,this._session=this._kernel.get_session(),this._assets=this._kernel.assets,this._factory=t.factory};(s["b10gph.AVo"]=he).__name__=["b10gph","AVo"],he.prototype={__class__:he};var le=function(t){Nt.call(this,t)};(s["b10gph.AssetManager"]=le).__name__=["b10gph","AssetManager"],le.__super__=Nt,le.prototype=t(Nt.prototype,{_init:function(){Nt.prototype._init.call(this),this._factory=this._kernel.factory,this.overlayPauseUp=this._createView(ce.OVERLAY_PAUSE_UP),this.overlayPauseOver=this._createView(ce.OVERLAY_PAUSE_OVER)},get_buttonOver:function(){return this._createView(ce.BUTTON_OVER)},get_buttonUp:function(){return this._createView(ce.BUTTON_UP)},get_buttonTwitterOver:function(){return this._createView(ce.BUTTON_TWITTER_OVER)},get_buttonTwitterUp:function(){return this._createView(ce.BUTTON_TWITTER_UP)},get_buttonFacebookOver:function(){return this._createView(ce.BUTTON_FACEBOOK_OVER)},get_buttonFacebookUp:function(){return this._createView(ce.BUTTON_FACEBOOK_UP)},get_buttonSmallOver:function(){return this._createView(ce.BUTTON_SMALL_OVER)},get_buttonSmallUp:function(){return this._createView(ce.BUTTON_SMALL_UP)},_createView:function(t){var e,s=new createjs.Container,i=new createjs.Bitmap(this.getAsset("assets/gui/Buttons.png"));switch(t[1]){case 0:e=new createjs.Rectangle(0,0,200,65);break;case 1:e=new createjs.Rectangle(200,0,200,65);break;case 2:e=new createjs.Rectangle(400,65,100,30);break;case 3:e=new createjs.Rectangle(400,95,100,30);break;case 4:e=new createjs.Rectangle(0,65,65,65);break;case 5:e=new createjs.Rectangle(65,65,65,65);break;case 6:e=new createjs.Rectangle(130,65,65,65);break;case 7:e=new createjs.Rectangle(195,65,65,65);break;case 8:e=new createjs.Rectangle(400,0,50,50);break;case 9:e=new createjs.Rectangle(450,0,50,50)}return i.sourceRect=e,i.cache(0,0,i.sourceRect.width,i.sourceRect.height),s.addChild(i),new Vt(this._kernel,s)},__class__:le,__properties__:t(Nt.prototype.__properties__,{get_buttonSmallUp:"get_buttonSmallUp",get_buttonSmallOver:"get_buttonSmallOver",get_buttonFacebookUp:"get_buttonFacebookUp",get_buttonFacebookOver:"get_buttonFacebookOver",get_buttonTwitterUp:"get_buttonTwitterUp",get_buttonTwitterOver:"get_buttonTwitterOver",get_buttonUp:"get_buttonUp",get_buttonOver:"get_buttonOver"})});var ce=s["b10gph.EAsset"]={__ename__:["b10gph","EAsset"],__constructs__:["BUTTON_UP","BUTTON_OVER","BUTTON_SMALL_UP","BUTTON_SMALL_OVER","BUTTON_TWITTER_UP","BUTTON_TWITTER_OVER","BUTTON_FACEBOOK_UP","BUTTON_FACEBOOK_OVER","OVERLAY_PAUSE_UP","OVERLAY_PAUSE_OVER"]};ce.BUTTON_UP=["BUTTON_UP",0],ce.BUTTON_UP.toString=i,(ce.BUTTON_UP.__enum__=ce).BUTTON_OVER=["BUTTON_OVER",1],ce.BUTTON_OVER.toString=i,(ce.BUTTON_OVER.__enum__=ce).BUTTON_SMALL_UP=["BUTTON_SMALL_UP",2],ce.BUTTON_SMALL_UP.toString=i,(ce.BUTTON_SMALL_UP.__enum__=ce).BUTTON_SMALL_OVER=["BUTTON_SMALL_OVER",3],ce.BUTTON_SMALL_OVER.toString=i,(ce.BUTTON_SMALL_OVER.__enum__=ce).BUTTON_TWITTER_UP=["BUTTON_TWITTER_UP",4],ce.BUTTON_TWITTER_UP.toString=i,(ce.BUTTON_TWITTER_UP.__enum__=ce).BUTTON_TWITTER_OVER=["BUTTON_TWITTER_OVER",5],ce.BUTTON_TWITTER_OVER.toString=i,(ce.BUTTON_TWITTER_OVER.__enum__=ce).BUTTON_FACEBOOK_UP=["BUTTON_FACEBOOK_UP",6],ce.BUTTON_FACEBOOK_UP.toString=i,(ce.BUTTON_FACEBOOK_UP.__enum__=ce).BUTTON_FACEBOOK_OVER=["BUTTON_FACEBOOK_OVER",7],ce.BUTTON_FACEBOOK_OVER.toString=i,(ce.BUTTON_FACEBOOK_OVER.__enum__=ce).OVERLAY_PAUSE_UP=["OVERLAY_PAUSE_UP",8],ce.OVERLAY_PAUSE_UP.toString=i,(ce.OVERLAY_PAUSE_UP.__enum__=ce).OVERLAY_PAUSE_OVER=["OVERLAY_PAUSE_OVER",9],ce.OVERLAY_PAUSE_OVER.toString=i,ce.OVERLAY_PAUSE_OVER.__enum__=ce;var ue=function(t,e,s){this.COLOR_GREY=5789784,this.COLOR_WHITE=16777215,this.TEXTSTYLE_HUD_COINS=_e.SUB_TYPE("HUD_COINS"),this.TEXTSTYLE_HUD_SCORE=_e.SUB_TYPE("HUD_SCORE"),this.TEXTSTYLE_HUD_MESSAGE=_e.SUB_TYPE("HUD_MESSAGE"),this.MESSAGE_FINISH_LINE=ee.SUB_TYPE("FINISH_LINE"),Ot.call(this,t,e,s)};(s["b10gph.Factory"]=ue).__name__=["b10gph","Factory"],ue.__super__=Ot,ue.prototype=t(Ot.prototype,{_configurer:function(t){if(null==t&&(t=!1),t){this.id="b10gph";var e="1";null!=ys.getString("revision")&&(e=ys.getString("revision").split("\n")[0]),this.version="1.2."+e,this.author="b10b.com",this.isDecached=!1,this.width=720,this.height=405,this.joypadTouchType=$t.JOYSTICK(30),this.bgColor=1644825,this.startingSceneType=re.INTRO,this.targetFramerate=30,this.isFixedUpdates=!0}},_launchKernel:function(){Ot.prototype._launchKernel.call(this),this._kernel.set_session(this.createSession("defaultSessionId")),"true"==this._kernel.getConfig("settings.disableEyeCandy")&&this._kernel.set_isEyeCandy(!1)},createAssetManager:function(){return null==this._assets&&(this._assets=new le(this._kernel)),this._assets},createLogger:function(){var t=z.string(this._kernel.getConfig("settings.googleAnalytics.id"));return""!=t?new de(this._kernel,t):Ot.prototype.createLogger.call(this)},createOverlay:function(){return new Ze(this._kernel)},createPreloader:function(){return new ge(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){switch(this._kernel.log("scene: "+z.string(t)),t[1]){case 1:return new hs(this._kernel,t);case 4:return new ds(this._kernel,t);case 5:return new _s(this._kernel,t);case 7:return new ls(this._kernel,t);case 9:return new ps(this._kernel,t);case 12:return new as(this._kernel,t);case 13:return new os(this._kernel,t);case 15:return new cs(this._kernel,t)}return Ot.prototype.createScene.call(this,t)},createSceneTransition:function(t,e){return new us(this._kernel)},createSession:function(t){return new fe(this._kernel,t)},createTextStyle:function(t){null==t&&(t=_e.BODY);var e,s=this._kernel.getConfig("settings.font.name");if(null==t)e=new j(s,12,8421504);else switch(t[1]){case 0:e=new j(s,20,this.COLOR_WHITE,!1,!0,ae.CENTER,100,0,0,[]);break;case 1:e=new j(s,16,this.COLOR_WHITE,!1,!0,ae.LEFT,0,18,0,[]);break;case 2:e=new j(s,24,this.COLOR_WHITE,!1,!0,ae.LEFT,0,0,0,[]);break;case 3:e=new j(s,18,this.COLOR_WHITE,!1,!0,ae.LEFT,0,20,0,[]);break;case 4:e=new j(s,11,this.COLOR_GREY,!1,!0,ae.LEFT,0,0,0,[]);break;case 5:e=new j(s,24,this.COLOR_WHITE,!1,!0,ae.RIGHT,0,0,0,[]);break;case 6:switch(t[2]){case"HUD_COINS":e=new j(s,24,this.COLOR_WHITE,!1,!0,ae.RIGHT,0,0,0,[]);break;case"HUD_MESSAGE":e=new j(s,30,this.COLOR_WHITE,!1,!0,ae.CENTER,0,0,0,[]);break;case"HUD_SCORE":e=new j(s,24,this.COLOR_WHITE,!1,!0,ae.LEFT,0,0,0,[]);break;case"PRELOADER":e=new j(s,14,this.COLOR_WHITE,!1,!0,ae.CENTER,0,0,0,[0,2,2,0]);break;default:e=null}}return e},getBackSceneType:function(t){switch(t[1]){case 4:case 5:case 9:case 12:case 13:case 15:return re.MENU}return Ot.prototype.getBackSceneType.call(this,t)},getNextSceneType:function(t){switch(t[1]){case 1:return re.MENU;case 4:return re.GAME;case 5:case 7:case 9:return re.SELECT_LEVEL;case 12:return re.RESULTS;case 13:case 15:return re.SHOP}return Ot.prototype.getNextSceneType.call(this,t)},createCanvas:function(t,e){var s=window.document.createElement("canvas");return s.width=t,s.height=e,s},__class__:ue});var de=function(t,e){if(this._kernel=t,this._id=e,this._factory=this._kernel.factory,this._isTrackerEnabled=!t.isLocal&&"true"==t.getConfig("settings.googleAnalytics.enabled"),this._isTrackerEnabled)try{this._gaLib=ga,this._gaLib("create",this._id,"auto"),this._gaLib("send","pageview"),Es.trace("Google Analytics enabled with property ID "+this._id,{fileName:"LoggerGoogleAnalytics.hx",lineNumber:40,className:"b10gph.LoggerGoogleAnalytics",methodName:"new"})}catch(t){this._isTrackerEnabled=!1,Es.trace("Google Analytics failed with property ID "+this._id,{fileName:"LoggerGoogleAnalytics.hx",lineNumber:45,className:"b10gph.LoggerGoogleAnalytics",methodName:"new"})}};(s["b10gph.LoggerGoogleAnalytics"]=de).__name__=["b10gph","LoggerGoogleAnalytics"],de.__interfaces__=[ut],de.prototype={log:function(t){$.substr(z.string(t),0,25);var e=z.string(t).split(": ");this._isTrackerEnabled?this._gaLib("send",{hitType:"event",eventCategory:e[0],eventAction:e[1],eventLabel:e[2]}):Es.trace("Logger:"+z.string([e[0],e[1],e[2]]),{fileName:"LoggerGoogleAnalytics.hx",lineNumber:65,className:"b10gph.LoggerGoogleAnalytics",methodName:"log"})},__class__:de};var pe=function(){};(s["b10gph.Main"]=pe).__name__=["b10gph","Main"],pe.main=function(){var t=window.document.getElementById("gameCanvas"),e=Ds.getParams(),s=null!=di.lang?e.getReserved("lang"):e.h.lang;if(null!=s){var i="assets/__Config_"+s+".xml";t.setAttribute("config",i)}var n=new createjs.Stage(t),r=new createjs.Container;n.addChild(r),pe.factory=new ue(r,!1,ys.getString("config"))};var ge=function(t,e,s){Bt.call(this,t,e,s)};(s["b10gph.Preloader"]=ge).__name__=["b10gph","Preloader"],ge.__super__=Bt,ge.prototype=t(Bt.prototype,{_init:function(){this._factory=this._kernel.factory,this._proprietaryAudioFormat="m4a";var t=new createjs.Bitmap("assets/__PreloaderFg.png"),e=new createjs.Bitmap("assets/__PreloaderBg.png");Bt.prototype._init.call(this);var s=this._kernel.factory.width-40;this._bg=new createjs.Shape,this._bg.graphics.beginFill("#ffffff"),this._bg.graphics.drawRoundRect(-2,-2,s+2+2,14,4),this._bg.graphics.endFill(),this._fg=new createjs.Shape,this._fg.graphics.beginFill("#cd040b"),this._fg.graphics.drawRoundRect(0,0,s,10,4),this._fg.graphics.endFill(),this._bg.x=this._fg.x=.5*(this._kernel.factory.width-s),this._bg.y=this._fg.y=this._kernel.factory.height-20-10-2,this._context.addChild(e),this._context.addChild(t),this._context.addChild(this._bg),this._context.addChild(this._fg)},_updater:function(t){null==t&&(t=0),Bt.prototype._updater.call(this,t),this._fg.scaleX=this.get_progress()},_showAudioHoldMessage:function(){var t=new es(this._kernel,this._kernel.factory.width,20,z.string(this._kernel.getConfig("gui.audioHoldMessage")).toUpperCase(),this._kernel.factory.createTextStyle(_e.SUB_TYPE("PRELOADER")));t.setPosition(0,this._bg.y-10),this.get_view().addChild(t.get_view()),this._context.removeChild(this._bg),this._context.removeChild(this._fg)},__class__:ge});var fe=function(t,e){Ht.call(this,t,e)};(s["b10gph.Session"]=fe).__name__=["b10gph","Session"],fe.__super__=Ht,fe.prototype=t(Ht.prototype,{_init:function(){this._version=1,Ht.prototype._init.call(this)},_getter:function(){Ht.prototype._getter.call(this),this.level=this._getValidatedInteger(this._data.level),this.upgradeSpeed=this._getValidatedInteger(this._data.upgradeSpeed),this.upgradeSteering=this._getValidatedInteger(this._data.upgradeSteering),this.upgradeAcceleration=this._getValidatedInteger(this._data.upgradeAcceleration),this.upgradeBoost=this._getValidatedInteger(this._data.upgradeBoost),this.scoreLevel0=this._getValidatedInteger(this._data.scoreLevel0),this.scoreLevel1=this._getValidatedInteger(this._data.scoreLevel1),this.scoreLevel2=this._getValidatedInteger(this._data.scoreLevel2),this.scoreLevel3=this._getValidatedInteger(this._data.scoreLevel3),this.highScore=this._getValidatedInteger(this._data.highScore),this.coins=this._getValidatedInteger(this._data.coins)},_getValidatedInteger:function(t){return null==t||isNaN(t)?0:t},_setter:function(){Ht.prototype._setter.call(this),this._data.level=this.level,this._data.upgradeSpeed=this.upgradeSpeed,this._data.upgradeSteering=this.upgradeSteering,this._data.upgradeAcceleration=this.upgradeAcceleration,this._data.upgradeBoost=this.upgradeBoost,this._data.scoreLevel0=this.scoreLevel0,this._data.scoreLevel1=this.scoreLevel1,this._data.scoreLevel2=this.scoreLevel2,this._data.scoreLevel3=this.scoreLevel3,this._data.highScore=this.highScore,this._data.coins=this.coins},_resetter:function(){Ht.prototype._resetter.call(this),this.cache=new Ee(this._kernel),this.level=0|this._tools.limit(z.parseInt(this._kernel.getConfig("settings.startingLevel")),0,3),this.highScore=0,this.upgradeSpeed=0,this.upgradeSteering=0,this.upgradeAcceleration=0,this.upgradeBoost=0,this.coins=0,this.resetGame()},resetGame:function(){this.scoreLevel0=0,this.scoreLevel1=0,this.scoreLevel2=0,this.scoreLevel3=0},setScore:function(t,e){switch(t){case 0:this.scoreLevel0=e;break;case 1:this.scoreLevel1=e;break;case 2:this.scoreLevel2=e;break;case 3:this.scoreLevel3=e;break;default:this.scoreLevel3=e}},getScore:function(t){switch(t){case 0:return this.scoreLevel0;case 1:return this.scoreLevel1;case 2:return this.scoreLevel2;case 3:default:return this.scoreLevel3}},setUpgrade:function(t,e){switch(e<0&&(e=0),4<e&&(e=4),t[1]){case 0:this.upgradeSpeed=e;break;case 1:this.upgradeSteering=e;break;case 2:this.upgradeAcceleration=e;break;case 3:this.upgradeBoost=e}},getUpgrade:function(t){switch(t[1]){case 0:return this.upgradeSpeed;case 1:return this.upgradeSteering;case 2:return this.upgradeAcceleration;case 3:return this.upgradeBoost}},getUpgradeBias:function(t,e,s){var i=s-e;return e+this.getUpgrade(t)/4*i},setIsTester:function(t){this._isTester=t},get_isTester:function(){return!!this._kernel.isDebug||this._isTester},getPercentageComplete:function(){return(this.upgradeSpeed+this.upgradeSteering+this.upgradeAcceleration+this.upgradeBoost)/16},__class__:fe});var Ee=function(t){this._kernel=t,this.totalPlays=0,this.benchmark=0,this.debugMessage=""};(s["b10gph._Session._HelperCache"]=Ee).__name__=["b10gph","_Session","_HelperCache"],Ee.prototype={__class__:Ee};var ye=function(t,e){this._trackLength=e,oe.call(this,t)};(s["b10gph.game.Camera"]=ye).__name__=["b10gph","game","Camera"],ye.__super__=oe,ye.prototype=t(oe.prototype,{_init:function(){oe.prototype._init.call(this),this.drawDistance=80,this.fieldOfView=120,this.fogDensity=5,this.height=1440,this.depth=1/Math.tan(this.fieldOfView/2*Math.PI/180),this.position=0,this.angle=.135},_updater:function(t){null==t&&(t=0),oe.prototype._updater.call(this,t),1==this._updates&&(this.height=5e3);this._tools;this.height=.95*this.height+72|0},increasePosition:function(t,e){null==e&&(e=0),null==t&&(t=0),this.position+=t;this._tools;var s,i=this.angle+e,n=i;s=n-1*Math.floor(n/1),this.angle=s},__class__:ye});var ve=function(t,e,s,i){this.type=t,this.offset=e,this.z=s,this.speed=i,this.percent=0,this.steer=0};(s["b10gph.game.Car"]=ve).__name__=["b10gph","game","Car"],ve.prototype={__class__:ve};var me=function(t){if(this._kernel=t,this.isEnabled=!1,this.motionRelative=0,this._parentOrientation="",this._isIos=new g("iP[ao]d|iPhone","i").match(window.navigator.userAgent),this._isWindows=new g("Windows","").match(window.navigator.userAgent),this._isOrientationApproximation="true"==this._kernel.getConfig("settings.orientationApproximation"),"true"!=this._kernel.getConfig("settings.disableDeviceMotion"))try{this._orientation=this._getOrientation(),window.MessageEvent&&window.addEventListener("message",ai(this,this._onMessage),!1),window.DeviceMotionEvent&&window.addEventListener("devicemotion",ai(this,this._onDeviceMotion),!1),this.isEnabled=!0}catch(t){this.isEnabled=!1}};(s["b10gph.game.DeviceMotion"]=me).__name__=["b10gph","game","DeviceMotion"],me.prototype={dispose:function(){this.isEnabled=!1;try{window.MessageEvent&&window.removeEventListener("message",ai(this,this._onMessage),!1),window.DeviceMotionEvent&&window.removeEventListener("devicemotion",ai(this,this._onDeviceMotion),!1)}catch(t){}},_onMessage:function(t){null!=t.data.orientation&&(this._parentOrientation=t.data.orientation)},_onDeviceMotion:function(t){this._orientation=this._getOrientation(),this.motionRelative=0,"landscape"==this._orientation||"landscape-primary"==this._orientation||"90"==this._orientation?(this.motionRelative=t.accelerationIncludingGravity.y,this._isWindows&&(this.motionRelative=-t.accelerationIncludingGravity.x)):"landscape-secondary"==this._orientation||"-90"==this._orientation?(this.motionRelative=-t.accelerationIncludingGravity.y,this._isWindows&&(this.motionRelative=t.accelerationIncludingGravity.x)):"portrait"==this._orientation||"portrait-primary"==this._orientation||"0"==this._orientation?(this.motionRelative=-t.accelerationIncludingGravity.x,this._isWindows&&(this.motionRelative=-t.accelerationIncludingGravity.y)):"portrait-secondary"==this._orientation||"180"==this._orientation?(this.motionRelative=t.accelerationIncludingGravity.x,this._isWindows&&(this.motionRelative=t.accelerationIncludingGravity.y)):this.motionRelative=-t.accelerationIncludingGravity.y,this.motionRelative=Math.max(Math.min(this.motionRelative/3,1),-1)*(this._isIos?-1:1)},_getOrientation:function(){var t="";return""==(t=this._getWindowOrientation(window.top))&&(t=""!=this._parentOrientation?this._parentOrientation:this._isOrientationApproximation?window.innerWidth>window.innerHeight?"90":"0":this._getWindowOrientation(window)),t},_getWindowOrientation:function(t){var e="";try{null!=t.screen.orientation?(e=t.screen.orientation,null!=t.screen.orientation.type&&(e=t.screen.orientation.type)):null!=t.screen.mozOrientation?e=t.screen.mozOrientation:null!=t.screen.msOrientation?e=t.screen.msOrientation:null!=t.orientation&&(e=t.orientation)}catch(t){}return e},__class__:me};var we=s["b10gph.game.ECar"]={__ename__:["b10gph","game","ECar"],__constructs__:["CAR_A","CAR_B","CAR_C","CAR_D","CAR_E"]};we.CAR_A=["CAR_A",0],we.CAR_A.toString=i,(we.CAR_A.__enum__=we).CAR_B=["CAR_B",1],we.CAR_B.toString=i,(we.CAR_B.__enum__=we).CAR_C=["CAR_C",2],we.CAR_C.toString=i,(we.CAR_C.__enum__=we).CAR_D=["CAR_D",3],we.CAR_D.toString=i,(we.CAR_D.__enum__=we).CAR_E=["CAR_E",4],we.CAR_E.toString=i,we.CAR_E.__enum__=we;var Se=s["b10gph.game.EColor"]={__ename__:["b10gph","game","EColor"],__constructs__:["COLOR_FOG","COLOR_LIGHT","COLOR_DARK","COLOR_START","COLOR_FINISH"]};Se.COLOR_FOG=["COLOR_FOG",0],Se.COLOR_FOG.toString=i,(Se.COLOR_FOG.__enum__=Se).COLOR_LIGHT=["COLOR_LIGHT",1],Se.COLOR_LIGHT.toString=i,(Se.COLOR_LIGHT.__enum__=Se).COLOR_DARK=["COLOR_DARK",2],Se.COLOR_DARK.toString=i,(Se.COLOR_DARK.__enum__=Se).COLOR_START=["COLOR_START",3],Se.COLOR_START.toString=i,(Se.COLOR_START.__enum__=Se).COLOR_FINISH=["COLOR_FINISH",4],Se.COLOR_FINISH.toString=i,Se.COLOR_FINISH.__enum__=Se;var Te=s["b10gph.game.ELocation"]={__ename__:["b10gph","game","ELocation"],__constructs__:["LOCATION_A","LOCATION_B","LOCATION_C","LOCATION_D"]};Te.LOCATION_A=["LOCATION_A",0],Te.LOCATION_A.toString=i,(Te.LOCATION_A.__enum__=Te).LOCATION_B=["LOCATION_B",1],Te.LOCATION_B.toString=i,(Te.LOCATION_B.__enum__=Te).LOCATION_C=["LOCATION_C",2],Te.LOCATION_C.toString=i,(Te.LOCATION_C.__enum__=Te).LOCATION_D=["LOCATION_D",3],Te.LOCATION_D.toString=i,Te.LOCATION_D.__enum__=Te;var be=s["b10gph.game.ERoad"]={__ename__:["b10gph","game","ERoad"],__constructs__:["ROAD_NONE","ROAD_LEFT_SHORT","ROAD_LEFT_MEDIUM","ROAD_LEFT_LONG","ROAD_RIGHT_SHORT","ROAD_RIGHT_MEDIUM","ROAD_RIGHT_LONG"]};be.ROAD_NONE=["ROAD_NONE",0],be.ROAD_NONE.toString=i,(be.ROAD_NONE.__enum__=be).ROAD_LEFT_SHORT=["ROAD_LEFT_SHORT",1],be.ROAD_LEFT_SHORT.toString=i,(be.ROAD_LEFT_SHORT.__enum__=be).ROAD_LEFT_MEDIUM=["ROAD_LEFT_MEDIUM",2],be.ROAD_LEFT_MEDIUM.toString=i,(be.ROAD_LEFT_MEDIUM.__enum__=be).ROAD_LEFT_LONG=["ROAD_LEFT_LONG",3],be.ROAD_LEFT_LONG.toString=i,(be.ROAD_LEFT_LONG.__enum__=be).ROAD_RIGHT_SHORT=["ROAD_RIGHT_SHORT",4],be.ROAD_RIGHT_SHORT.toString=i,(be.ROAD_RIGHT_SHORT.__enum__=be).ROAD_RIGHT_MEDIUM=["ROAD_RIGHT_MEDIUM",5],be.ROAD_RIGHT_MEDIUM.toString=i,(be.ROAD_RIGHT_MEDIUM.__enum__=be).ROAD_RIGHT_LONG=["ROAD_RIGHT_LONG",6],be.ROAD_RIGHT_LONG.toString=i,be.ROAD_RIGHT_LONG.__enum__=be;var Ce=s["b10gph.game.EScenery"]={__ename__:["b10gph","game","EScenery"],__constructs__:["SCENERY_COIN","SCENERY_AFTERBURNER","SCENERY_TIRE_1","SCENERY_TIRE_2","SCENERY_BOOST","SCENERY_TREE_1","SCENERY_TREE_2","SCENERY_TREE_3","SCENERY_TREE_4","SCENERY_TREE_5","SCENERY_TREE_6","SCENERY_TREE_7","SCENERY_TREE_8","SCENERY_FLOODLIGHT","SCENERY_TUNNEL_LEFT","SCENERY_TUNNEL_RIGHT","SCENERY_FINISH_LEFT","SCENERY_FINISH_RIGHT","SCENERY_SIDING_LEFT","SCENERY_SIDING_RIGHT","SCENERY_STADIUM_LEFT","SCENERY_STADIUM_RIGHT"]};Ce.SCENERY_COIN=["SCENERY_COIN",0],Ce.SCENERY_COIN.toString=i,(Ce.SCENERY_COIN.__enum__=Ce).SCENERY_AFTERBURNER=["SCENERY_AFTERBURNER",1],Ce.SCENERY_AFTERBURNER.toString=i,(Ce.SCENERY_AFTERBURNER.__enum__=Ce).SCENERY_TIRE_1=["SCENERY_TIRE_1",2],Ce.SCENERY_TIRE_1.toString=i,(Ce.SCENERY_TIRE_1.__enum__=Ce).SCENERY_TIRE_2=["SCENERY_TIRE_2",3],Ce.SCENERY_TIRE_2.toString=i,(Ce.SCENERY_TIRE_2.__enum__=Ce).SCENERY_BOOST=["SCENERY_BOOST",4],Ce.SCENERY_BOOST.toString=i,(Ce.SCENERY_BOOST.__enum__=Ce).SCENERY_TREE_1=["SCENERY_TREE_1",5],Ce.SCENERY_TREE_1.toString=i,(Ce.SCENERY_TREE_1.__enum__=Ce).SCENERY_TREE_2=["SCENERY_TREE_2",6],Ce.SCENERY_TREE_2.toString=i,(Ce.SCENERY_TREE_2.__enum__=Ce).SCENERY_TREE_3=["SCENERY_TREE_3",7],Ce.SCENERY_TREE_3.toString=i,(Ce.SCENERY_TREE_3.__enum__=Ce).SCENERY_TREE_4=["SCENERY_TREE_4",8],Ce.SCENERY_TREE_4.toString=i,(Ce.SCENERY_TREE_4.__enum__=Ce).SCENERY_TREE_5=["SCENERY_TREE_5",9],Ce.SCENERY_TREE_5.toString=i,(Ce.SCENERY_TREE_5.__enum__=Ce).SCENERY_TREE_6=["SCENERY_TREE_6",10],Ce.SCENERY_TREE_6.toString=i,(Ce.SCENERY_TREE_6.__enum__=Ce).SCENERY_TREE_7=["SCENERY_TREE_7",11],Ce.SCENERY_TREE_7.toString=i,(Ce.SCENERY_TREE_7.__enum__=Ce).SCENERY_TREE_8=["SCENERY_TREE_8",12],Ce.SCENERY_TREE_8.toString=i,(Ce.SCENERY_TREE_8.__enum__=Ce).SCENERY_FLOODLIGHT=["SCENERY_FLOODLIGHT",13],Ce.SCENERY_FLOODLIGHT.toString=i,(Ce.SCENERY_FLOODLIGHT.__enum__=Ce).SCENERY_TUNNEL_LEFT=["SCENERY_TUNNEL_LEFT",14],Ce.SCENERY_TUNNEL_LEFT.toString=i,(Ce.SCENERY_TUNNEL_LEFT.__enum__=Ce).SCENERY_TUNNEL_RIGHT=["SCENERY_TUNNEL_RIGHT",15],Ce.SCENERY_TUNNEL_RIGHT.toString=i,(Ce.SCENERY_TUNNEL_RIGHT.__enum__=Ce).SCENERY_FINISH_LEFT=["SCENERY_FINISH_LEFT",16],Ce.SCENERY_FINISH_LEFT.toString=i,(Ce.SCENERY_FINISH_LEFT.__enum__=Ce).SCENERY_FINISH_RIGHT=["SCENERY_FINISH_RIGHT",17],Ce.SCENERY_FINISH_RIGHT.toString=i,(Ce.SCENERY_FINISH_RIGHT.__enum__=Ce).SCENERY_SIDING_LEFT=["SCENERY_SIDING_LEFT",18],Ce.SCENERY_SIDING_LEFT.toString=i,(Ce.SCENERY_SIDING_LEFT.__enum__=Ce).SCENERY_SIDING_RIGHT=["SCENERY_SIDING_RIGHT",19],Ce.SCENERY_SIDING_RIGHT.toString=i,(Ce.SCENERY_SIDING_RIGHT.__enum__=Ce).SCENERY_STADIUM_LEFT=["SCENERY_STADIUM_LEFT",20],Ce.SCENERY_STADIUM_LEFT.toString=i,(Ce.SCENERY_STADIUM_LEFT.__enum__=Ce).SCENERY_STADIUM_RIGHT=["SCENERY_STADIUM_RIGHT",21],Ce.SCENERY_STADIUM_RIGHT.toString=i,Ce.SCENERY_STADIUM_RIGHT.__enum__=Ce;var Ae=s["b10gph.game.EUpgrade"]={__ename__:["b10gph","game","EUpgrade"],__constructs__:["UPGRADE_SPEED","UPGRADE_STEERING","UPGRADE_ACCELERATION","UPGRADE_BOOST"]};Ae.UPGRADE_SPEED=["UPGRADE_SPEED",0],Ae.UPGRADE_SPEED.toString=i,(Ae.UPGRADE_SPEED.__enum__=Ae).UPGRADE_STEERING=["UPGRADE_STEERING",1],Ae.UPGRADE_STEERING.toString=i,(Ae.UPGRADE_STEERING.__enum__=Ae).UPGRADE_ACCELERATION=["UPGRADE_ACCELERATION",2],Ae.UPGRADE_ACCELERATION.toString=i,(Ae.UPGRADE_ACCELERATION.__enum__=Ae).UPGRADE_BOOST=["UPGRADE_BOOST",3],Ae.UPGRADE_BOOST.toString=i,Ae.UPGRADE_BOOST.__enum__=Ae;var Re=function(t,e,s,i){null==i&&(i=1),this._kernel=t,this._width=e,this._height=s,this._brightness=i,this._x=0,this._y=0,this._dirtAlpha=0,this._hyp=1.75*Math.sqrt(this._width*this._width+this._height*this._height),this._lenses=[];for(var n=[.75,0,.25,.35,.55,.65,.75,.9,1],r=0,a=n.length;r<a;){var _=r++,o={deviation:n[_],sprite:this._getSprite(_)};this._lenses.push(o)}var h=new createjs.Bitmap(this._kernel.assets.getAsset("assets/location/LensFlares.jpg"));this._spriteSource=h.image;var l=new createjs.Bitmap(this._kernel.assets.getAsset("assets/location/LensDirt.jpg"));this._dirtSource=l.image};(s["b10gph.game.Lensflare"]=Re).__name__=["b10gph","game","Lensflare"],Re.prototype={_getSprite:function(t){var e,s,i={x:0,y:0,w:256,h:256,isFlip:!1};switch(t){case 1:case 5:e=256;break;case 2:case 6:e=512;break;case 3:case 7:e=768;break;case 0:case 4:e=0;break;default:e=0}switch(i.x=e,t){case 4:case 5:case 6:case 7:s=256;break;default:s=0}return i.y=s,i},draw:function(t,e,s){this._x=(e+512)%1024,this._y=s;var i=2*(this._x-.5*this._width),n=2*(this._y-.5*this._height),r=Math.sqrt(i*i+n*n)/this._hyp,a=this._brightness-2.5*r*this._brightness;if(.25<a&&(a=.25),a<0&&(a=0),t.save(),t.globalCompositeOperation="lighter",0<a){t.globalAlpha=a;for(var _=0,o=this._lenses;_<o.length;){var h=o[_];++_;var l=Math.round(this._x+Math.round(h.deviation*-i)-128),c=Math.round(this._y+Math.round(.9*h.deviation*-n)-128);t.drawImage(this._spriteSource,h.sprite.x,h.sprite.y,h.sprite.w,h.sprite.h,l,c,256,256)}}this._dirtAlpha=.5*this._dirtAlpha+.5*a,t.globalAlpha=this._dirtAlpha,t.drawImage(this._dirtSource,0,0,this._dirtSource.width,this._dirtSource.height,0,0,this._width,this._height),t.restore()},__class__:Re};var Ie=function(t,e){this.type=e,oe.call(this,t)};(s["b10gph.game.Location"]=Ie).__name__=["b10gph","game","Location"],Ie.__super__=oe,Ie.prototype=t(oe.prototype,{_init:function(){oe.prototype._init.call(this),this.vo=new ke(this._kernel,this.type),this.addEntity(this._track=new Le(this._kernel,this.vo)),this.addEntity(this._camera=new ye(this._kernel,this._track.totalDistance)),this.addEntity(this._player=new Ne(this._kernel,this._track,this._camera));this._tools;var t=.0013*(this._session.cache.benchmark-200)+.6,e=1<t?1:t<.6?.6:t,s=Math.ceil(this._factory.width*e),i=Math.ceil(this._factory.height*e);this.addEntity(this._renderer=new De(this._kernel,this._track,this._camera,this._player,s,i),null,!0),this._renderer._context.scaleX=this._factory.width/s,this._renderer._context.scaleY=this._factory.height/i},getScore:function(){return this._player.score+1},getCars:function(){for(var t=[],e=0,s=this._track.cars;e<s.length;){var i=s[e];++e,t.push({type:i.type,position:i.z/(this._track.maxSegments*this._track.segmentDistance),offset:i.offset})}return t.push({type:we.CAR_A,position:this._camera.position/(this._track.maxSegments*this._track.segmentDistance),offset:this._player.x}),t},__class__:Ie});var ke=function(t,e){he.call(this,t),this.type=e,this.imageHorizon=this._getImageHorizon(),this.imageRoad=this._getImageRoad(),this.bgColor=this._getBgColor(),this.trees=this._getTrees(),this.sidingDistance=this._getSidingDistance(),this.isBowl=!1,this.title=this._getTitle(),this.altTitle=this._getAltTitle()};(s["b10gph.game.LocationVo"]=ke).__name__=["b10gph","game","LocationVo"],ke.__super__=he,ke.prototype=t(he.prototype,{_getImageHorizon:function(){var t;switch(this.type[1]){case 0:t="assets/location/HorizonA.jpg";break;case 1:t="assets/location/HorizonB.jpg";break;case 2:t="assets/location/HorizonC.jpg";break;case 3:t="assets/location/HorizonD.jpg"}return this._assets.getAsset(t)},_getImageRoad:function(){var t;switch(this.type[1]){case 0:t="assets/location/RoadA.jpg";break;case 1:t="assets/location/RoadB.jpg";break;case 2:t="assets/location/RoadC.jpg";break;case 3:t="assets/location/RoadD.jpg"}return this._assets.getAsset(t)},_getBgColor:function(){switch(this.type[1]){case 0:return"#537341";case 1:return"#7e8368";case 2:return"#394d36";case 3:return"#b8ac97"}},_getTrees:function(){switch(this.type[1]){case 0:return[Ce.SCENERY_TREE_1,Ce.SCENERY_TREE_2,Ce.SCENERY_TREE_3];case 1:return[Ce.SCENERY_TREE_1,Ce.SCENERY_TREE_3,Ce.SCENERY_TREE_8];case 2:return[Ce.SCENERY_TREE_1,Ce.SCENERY_TREE_4,Ce.SCENERY_TREE_8];case 3:return[Ce.SCENERY_TREE_5,Ce.SCENERY_TREE_6,Ce.SCENERY_TREE_7]}},_getSidingDistance:function(){switch(this.type[1]){case 0:case 1:case 2:return 6;case 3:return 4}},_getTitle:function(){var t;switch(this.type[1]){case 0:t="gui.locations.a";break;case 1:t="gui.locations.b";break;case 2:t="gui.locations.c";break;case 3:t="gui.locations.d"}return this._kernel.getConfig(t)},_getAltTitle:function(){var t;switch(this.type[1]){case 0:t="gui.locations.a.alt";break;case 1:t="gui.locations.b.alt";break;case 2:t="gui.locations.c.alt";break;case 3:t="gui.locations.d.alt"}return z.string(this._kernel.getConfig(t))+" "+z.string(this._kernel.getConfig("gui.scenes.selectLevel.altTitle"))},__class__:ke});var Ne=function(t,e,s){this._track=e,this._camera=s,oe.call(this,t)};(s["b10gph.game.Player"]=Ne).__name__=["b10gph","game","Player"],Ne.__super__=oe,Ne.prototype=t(oe.prototype,{_init:function(){oe.prototype._init.call(this),this.x=0,this.y=0,this.z=this._camera.height*this._camera.depth,this.speedPerc=0,this.segment=null,this.percent=0,this._speed=0,this._boost=0,this.steer=0,this._width=.36,this._carsAheadOfPlayer=this._track.cars.length,this._prevQuarter=0,this._biasSpeed=this._session.getUpgradeBias(Ae.UPGRADE_SPEED,.85,1),this._biasSteering=this._session.getUpgradeBias(Ae.UPGRADE_STEERING,.9,1.1),this._biasAcceleration=this._session.getUpgradeBias(Ae.UPGRADE_ACCELERATION,.95,1.25),this._biasBoost=this._session.getUpgradeBias(Ae.UPGRADE_BOOST,.985,1.02),this._maxSpeed=this._factory.targetFramerate*this._track.segmentDistance*.9|0,this._forceAcceleration=this._maxSpeed/10,this._forceBraking=-this._maxSpeed,this._forceCoasting=-this._maxSpeed/10,this._forceOffRoadDeceleration=-this._maxSpeed/1.5,this._forceOffRoadLimit=this._maxSpeed/2,this._deviceMotion=new me(this._kernel),this._deviceMotion.isEnabled=this._deviceMotion.isEnabled&&!this._system.isDesktop},_disposer:function(){this._deviceMotion.dispose(),oe.prototype._disposer.call(this)},_updater:function(t){null==t&&(t=0),oe.prototype._updater.call(this,t),this._move(t),this._updateCars(t),this._collision(),this._boost*=.925*this._biasBoost,this._boost<.05&&(this._boost=0),this.isRaceComplete||(this._camera.position+this.z<this._track.totalDistance?this.score=this._carsAheadOfPlayer:(this.isRaceComplete=!0,this._kernel.messenger.sendMessage(this._factory.MESSAGE_FINISH_LINE,this,!1,!1,!0)))},_move:function(t){null==t&&(t=0);var e=t/1e3;this.speedPerc=this._speed/this._maxSpeed;var s=3.25*e*this.speedPerc;if(this._deviceMotion.isEnabled&&0!=this._deviceMotion.motionRelative&&!this._kernel.inputs.mouse.getIsButtonDown()&&1e3<this._kernel.inputs.mouse.getButtonUpDuration()){if(.05<this.speedPerc){this._tools;this.steer=.5*this.steer+.5*this._deviceMotion.motionRelative}}else this.steer*=.75,this._kernel.inputs.joypad.getIsButtonDown(qt.LEFT)?.05<this.speedPerc&&(this.steer-=.25):this._kernel.inputs.joypad.getIsButtonDown(qt.RIGHT)&&.05<this.speedPerc&&(this.steer+=.25);this.x+=s*this._biasSteering*this.steer;this._tools;var i=this.steer;this.steer=1<i?1:i<-1?-1:i,500<this._age||this._kernel.inputs.joypad.getIsButtonDown(qt.UP)?this._speed=Me.accelerate(this._speed,this._biasAcceleration*this._forceAcceleration,e):this._kernel.inputs.joypad.getIsButtonDown(qt.DOWN)?this._speed=Me.accelerate(this._speed,this._forceBraking,e):this._speed=Me.accelerate(this._speed,this._forceCoasting,e),(this.x<-1||1<this.x)&&this._speed>this._forceOffRoadLimit&&(this._speed=Me.accelerate(this._speed,this._forceOffRoadDeceleration,e)),this.x-=s*this.speedPerc*this._track.findSegment(this._camera.position).curve*.05;this._tools;var n=this.x;this.x=1.25<n?1.25:n<-1.25?-1.25:n;this._tools;var r=this._speed,a=this._biasSpeed*this._maxSpeed;this._speed=a<r?a:r<0?0:r,this._speed+=(0<this._boost?.1:0)*this._maxSpeed,this.segment=this._track.findSegment(this._camera.position+this.z),this.percent=Me.percentRemaining(this._camera.position+this.z,this._track.segmentDistance),this.y=Me.interpolate(this.segment.position1.worldY,this.segment.position2.worldY,this.percent),this._camera.increasePosition(e*this._speed,-.04*e*this.segment.curve*.25*this.speedPerc);var _=Math.round(3.25*(this.segment.index+this.percent)/this._track.maxSegments);_>this._prevQuarter&&(this._kernel.audio.start("VocalProgress"+_,Jt.INTERFACE,0,0,1,0,!0),this._prevQuarter=_)},_updateCars:function(t){null==t&&(t=0);for(var e,s=Math.min(this._age/7e3,1),i=s*t/1e3,n=this._carsAheadOfPlayer,r=this._carsAheadOfPlayer=0,a=this._track.cars;r<a.length;){var _=a[r];++r;var o=this._track.findSegment(_.z);_.z=Math.round(Math.min(_.z+i*_.speed*this._maxSpeed*.83,this._track.segments.length*this._track.segmentDistance));var h=this._track.findSegment(_.z);if(o!=h&&($.remove(o.cars,_),h.cars.push(_)),o.index-this.segment.index<=this._camera.drawDistance&&-5<o.index-this.segment.index){this._tools;_.steer=s*(.925*_.steer+.075*this._updateCarOffset(_,o));this._tools;var l=_.offset+_.steer;if(_.offset=.8<l?.8:l<-.8?-.8:l,_.percent=Me.percentRemaining(_.z,this._track.segmentDistance),this._kernel.isEyeCandy&&o!=h)for(var c=Math.round(4*(1-(o.index-this.segment.index)/this._camera.drawDistance)),u=0,d=c;u<d;){var p=u++;null!=(e=this._track.getNextAfterburner()).owner&&$.remove(e.owner.scenery,e),e.configure(e.type,_.offset,(p+1)/c,1,o),o.scenery.push(e)}}_.z>this._camera.position+this.z&&this._carsAheadOfPlayer++}this._carsAheadOfPlayer!=n&&this._kernel.audio.start("Driveby"+(z.random(4)+1),Jt.EFFECTS,0,0,.5,0,!1)},_updateCarOffset:function(t,e){for(var s=this._width,i=0,n=null,r=1;r<10;){var a=r++;if(i+=(n=this._track.segments[(e.index+a)%this._track.segments.length]).curve,n==this.segment&&t.speed>this.speedPerc&&Me.overlap(this.x,s,t.offset,s,1.2))return(.5<this.x?-1:this.x<-.5?1:t.offset>this.x?1:-1)*(1/a)*(t.speed-this.speedPerc);for(var _=0,o=n.cars;_<o.length;){var h=o[_];++_;var l=h;if(t.speed>l.speed&&Me.overlap(t.offset,s,l.offset,s,1.2))return(.5<l.offset?-1:l.offset<-.5?1:t.offset>l.offset?1:-1)*(1/a)*(t.speed-l.speed)}}return i<0?-.01:.01},_collision:function(){for(var t=this._track.segments[this.segment.index+1],e=0,s=t.scenery;e<s.length;){var i=s[e];++e,i.isBoost&&($.remove(t.scenery,i),Math.abs(this.x-i.offset)<.35&&this._activateBoost()),i.isCoin&&($.remove(t.scenery,i),Math.abs(this.x-i.offset)<.165&&this._activateCoin())}if(this.segment.index<this._track.segments.length-3){var n=this._track.segments,r=this.segment.index+1,a=[].concat(this.segment.cars).concat(n[r].cars);if(.5<this.percent)for(var _=0,o=this._track.segments[this.segment.index+2].cars;_<o.length;){var h=o[_];++_,1-this.percent+h.percent<.5&&a.push(h)}for(var l=0;l<a.length;){var c=a[l];++l,Math.abs(this.x-c.offset)<.7*this._width&&(this._speed=Math.min(c.speed*this._maxSpeed*.8,.85*this._speed),this._boost=0,this.steer=0,this._kernel.audio.start("Collision"+(z.random(2)+1),Jt.EFFECTS,0,0,.25*this.speedPerc,0,!1))}}},_activateBoost:function(){0<this._boost||(this._kernel.overlay.flash(200,!0,1,this._factory.COLOR_WHITE),this._boost=1,this._speed=this._maxSpeed+this._boost*this._maxSpeed*.1,this._kernel.audio.start("Boost"+(z.random(2)+1),Jt.EFFECTS,0,0,.65,0,!1))},_activateCoin:function(){this._session.coins+=20},__class__:Ne});var xe=function(t,e){this.worldX=0,this.worldY=t,this.worldZ=e,this.cameraX=this.cameraY=this.cameraZ=0,this.screenScale=1,this.screenX=this.screenY=0,this.screenWidth=1};(s["b10gph.game.Position"]=xe).__name__=["b10gph","game","Position"],xe.prototype={__class__:xe};var De=function(t,e,s,i,n,r){this._track=e,this._camera=s,this._player=i,this._width=n,this._height=r,oe.call(this,t)};(s["b10gph.game.Renderer"]=De).__name__=["b10gph","game","Renderer"],De.__super__=oe,De.prototype=t(oe.prototype,{_init:function(){oe.prototype._init.call(this),this._context.cache(0,0,this._width,this._height);var t=this._context.cacheCanvas;this._canvasBuffer=this._factory.createCanvas(this._width,this._height),this._context2dBuffer=this._canvasBuffer.getContext("2d",null),this._context2d=t.getContext("2d",null),this._context2d.imageSmoothingEnabled=this._system.isDesktop&&200<this._session.cache.benchmark,this._imageCars=this._assets.getAsset("assets/location/Cars.png"),this._imageScenery=this._assets.getAsset("assets/location/Scenery.png"),this._imageRoad=this._track.locationVo.imageRoad,this._imageFinishLine=this._assets.getAsset("assets/location/FinishLine.png"),this._imageBoost=this._assets.getAsset("assets/location/Boost.png"),this._imageHorizon=this._track.locationVo.imageHorizon,this._isDrawImageUsingCanvas=this._session.cache.isDrawImageUsingCanvas,this._isDrawImageUsingCanvas&&(this._canvasCars=this._factory.createCanvas(this._imageCars.width,this._imageCars.height),this._canvasCars.getContext("2d",null).drawImage(this._imageCars,0,0),this._imageCars=null,this._canvasScenery=this._factory.createCanvas(this._imageScenery.width,this._imageScenery.height),this._canvasScenery.getContext("2d",null).drawImage(this._imageScenery,0,0),this._imageScenery=null,this._canvasRoad=this._factory.createCanvas(this._imageRoad.width,this._imageRoad.height),this._canvasRoad.getContext("2d",null).drawImage(this._imageRoad,0,0),this._imageRoad=null,this._canvasFinishLine=this._factory.createCanvas(this._imageFinishLine.width,this._imageFinishLine.height),this._canvasFinishLine.getContext("2d",null).drawImage(this._imageFinishLine,0,0),this._imageFinishLine=null,this._canvasBoost=this._factory.createCanvas(this._imageBoost.width,this._imageBoost.height),this._canvasBoost.getContext("2d",null).drawImage(this._imageBoost,0,0),this._imageBoost=null,this._canvasHorizon=this._factory.createCanvas(this._imageHorizon.width,this._imageHorizon.height),this._canvasHorizon.getContext("2d",null).drawImage(this._imageHorizon,0,0),this._imageHorizon=null),this._framerateBiasTotal=0,this._roadLanes=4,this._roadWidth=2e3,this._resolution=this._height/405,this._horizonY=0,this._horizonPattern=this._context2d.createPattern(this._isDrawImageUsingCanvas?this._canvasHorizon:this._imageHorizon,"repeat");this._tools;var e=8*this._session.cache.benchmark/100;this._maxScanlines=Math.round(16<e?16:e<6?6:e),this._cameraRotation=0,this._lensflare=new Re(this._kernel,this._width,this._height),this._streaks=new Pe(this._kernel,this._width,this._height),this._isLensEffectsEnabled=this._kernel.isEyeCandy&&400<this._session.cache.benchmark,this.c_textureRatio=512/this._track.segmentDistance/16,this._coinSprites=[];for(var s=0;s<32;){var i=s++;this._coinSprites.push({x:i%32*32,y:630,w:32,h:32,isFlip:!1})}},_updater:function(t){(null==t&&(t=0),oe.prototype._updater.call(this,t),10<this._updates)&&(this._framerateBiasTotal+=this._kernel.getFramerate(!0),1e3<this._age&&(.8<this._framerateBiasTotal/(this._updates-10)/this._factory.targetFramerate?this._maxScanlines++:this._maxScanlines=Math.round(.8*this._maxScanlines)));this._tools;var e=this._maxScanlines;this._maxScanlines=0|(16<e?16:e<6?6:e);var s,i,n=this._track.findSegment(this._camera.position),r=Me.percentRemaining(this._camera.position,this._track.segmentDistance),a=this._height,_=0,o=-n.curve*r,h=this._camera.position,l=this._camera.drawDistance,c=this._camera.fogDensity,u=(this._tools,this._camera.angle-this._player.x/50),d=u;i=d-1*Math.floor(d/1),this._context2d.globalAlpha=1,this._drawHorizon(i,this._horizonY);for(var p=0,g=l;p<g;){var f=p++;(s=this._track.segments[(n.index+f)%this._track.segments.length]).fog=1/Math.pow(Math.exp(1),Math.pow(f/l,7)*c),s.clip=a;var E=s.position1,y=this._width,v=this._height;E.cameraX=E.worldX-(this._player.x*this._roadWidth-_),E.cameraY=E.worldY-(this._player.y+this._camera.height),E.cameraZ=E.worldZ-h,E.screenScale=this._camera.depth/E.cameraZ,E.screenX=Math.round(y/2+E.screenScale*E.cameraX*y/2),E.screenY=Math.round(v/2-E.screenScale*E.cameraY*v/2),E.screenWidth=Math.round(E.screenScale*this._roadWidth*y/2);var m=s.position2,w=this._width,S=this._height;if(m.cameraX=m.worldX-(this._player.x*this._roadWidth-_-o),m.cameraY=m.worldY-(this._player.y+this._camera.height),m.cameraZ=m.worldZ-h,m.screenScale=this._camera.depth/m.cameraZ,m.screenX=Math.round(w/2+m.screenScale*m.cameraX*w/2),m.screenY=Math.round(S/2-m.screenScale*m.cameraY*S/2),m.screenWidth=Math.round(m.screenScale*this._roadWidth*w/2),_+=o,o+=s.curve,!(s.position1.cameraZ<=this._camera.depth||s.position2.screenY>=s.position1.screenY||s.position2.screenY>=a)){a=s.position2.screenY;var T=s.position1.worldZ,b=(s.position2.worldZ,s.position1.screenWidth),C=s.position2.screenY,A=s.position2.screenWidth,R=s.isFinishLine,I=s.isBoost,k=s.boostPosition;if(C>this._height&&(C=this._height),b=1.3*b|0,A=1.3*A|0,this.c_startX=s.position1.screenX-b,this.c_endX=s.position2.screenX-A,this.c_dx=this.c_endX-this.c_startX,this.c_startY=s.position1.screenY,this.c_endY=C,this.c_endY<=this.c_startY){this.c_dy=0|Math.abs(this.c_endY-this.c_startY),this.c_startW=2*b,this.c_dw=2*(A-b),this.c_startZ=T,this.c_dz=this._track.segmentDistance,this.c_sourceX=0,this.c_sourceY=0,this.c_sourceW=512,this.c_sourceH=1,this.c_destX=0,this.c_destY=this.c_startY,this.c_destW=1,this.c_destH=1,this.c_steps=0|Math.min(this.c_dy,this._maxScanlines),this.c_perc=0,this.c_destHF=Math.floor(this.c_dy/this.c_steps),this.c_destHC=Math.ceil(this.c_dy/this.c_steps),this.c_mod=1,this.c_destHC!=this.c_destHF&&(this.c_mod=Math.round(1/(this.c_destHC-this.c_dy/this.c_steps))),this.c_destH=this.c_destHC,this.c_source=this._isDrawImageUsingCanvas?this._canvasRoad:this._imageRoad,this._context2d.globalAlpha=s.fog;for(var N=0,x=this.c_steps;N<x;){var D=N++;this.c_perc=D/this.c_steps,this.c_sourceY=511-Math.floor((T+150+this.c_perc*this.c_dz)*this.c_textureRatio)%512,this.c_destX=this.c_startX+this.c_perc*this.c_dx|0,D==this.c_steps-1&&(this.c_destH=0|Math.max(this.c_destH,this.c_destY-this.c_endY)),this.c_destY-=this.c_destH,this.c_destW=this.c_startW+this.c_perc*this.c_dw|0,this.c_sourceH=this.c_sourceY>512-this.c_destH?1:this.c_destH,2048<this.c_destW&&(this.c_destX+=.5*(this.c_destW-2048)|0,this.c_destW=2048),this.c_destY<this._height&&this.c_destY>-this.c_destH&&(this._context2d.drawImage(this.c_source,this.c_sourceX,this.c_sourceY,this.c_sourceW,this.c_sourceH,this.c_destX,this.c_destY,this.c_destW,this.c_destH),R&&this._context2d.drawImage(this._isDrawImageUsingCanvas?this._canvasFinishLine:this._imageFinishLine,this.c_sourceX,(this.c_sourceY+16)%64,this.c_sourceW,this.c_sourceH,this.c_destX,this.c_destY,this.c_destW,this.c_destH),I&&this._context2d.drawImage(this._isDrawImageUsingCanvas?this._canvasBoost:this._imageBoost,0,(this.c_sourceY+16)%64,64,this.c_sourceH,this.c_destX+(this.c_destW*(.5+.5*k/1.3)-.125*this.c_destW|0),this.c_destY,.25*this.c_destW|0,this.c_destH)),this.c_destH=D%this.c_mod==0?this.c_destHF:this.c_destHC}this._context2d.globalAlpha=1}}}this._horizonY=a;for(var O,U,P=0,L=0,M=0,B=0,F=null,Y=this._isDrawImageUsingCanvas?this._canvasScenery:this._imageScenery,H=this._isDrawImageUsingCanvas?this._canvasCars:this._imageCars,G=(this._tools,1-this._player.speedPerc/2),V=1<G?1:G<.95?.95:G,z=0,j=l;z<j;){P=l-z++;for(var W=0,X=(s=this._track.segments[(n.index+P)%this._track.segments.length]).scenery;W<X.length;){var K=X[W];if(++W,L=s.position1.screenScale,M=s.position1.screenX+L*K.offset*this._roadWidth*(.5*this._width),B=s.position1.screenY,F=K.sprite,U=Y,K.isAfterburner){if(!this._isLensEffectsEnabled)continue;if(K.life*=V,K.life<.2){$.remove(s.scenery,K);continue}O=Math.pow(K.perc,1.2),M=Me.interpolate(M,s.position2.screenX+s.position2.screenScale*K.offset*this._roadWidth*(.5*this._width),O),B=Me.interpolate(s.position1.screenY,s.position2.screenY,O)}K.isCoin&&(U=H,F=this._coinSprites[(this._updates+K.seed)%32]),K.isBoost||this._drawSprite(U,F,L*K.scale,M,B,-.5,-1,s.clip,s.fog,K.isAdd,K.life)}U=H;for(var Q=0,J=s.cars;Q<J.length;){var Z=J[Q];++Q,O=Math.pow(Z.percent,.8),L=Me.interpolate(s.position1.screenScale,s.position2.screenScale,O),M=Me.interpolate(s.position1.screenX,s.position2.screenX,O)+L*Z.offset*this._roadWidth*(.5*this._width),B=Me.interpolate(s.position1.screenY,s.position2.screenY,O),F=this._getCarSprite(Z.type,-((M-this._width/2)*L*4e3-5*s.curve)/(.125*this._width)),this._drawSprite(U,F,.8*L,M,B,-.5,-1,s.clip,s.fog)}s==this._player.segment&&this._drawPlayer(U)}if(this._isLensEffectsEnabled){this._streaks.draw(this._context2d,this._player.isRaceComplete?0:Math.min(.35*Math.pow(this._player.speedPerc-.1,2),.35));this._tools;this._cameraRotation=.95*this._cameraRotation+.15*-this._player.steer*this._player.speedPerc*.05,Math.abs(this._cameraRotation)<1e-4&&(this._cameraRotation=0),this._drawRotation(this._cameraRotation),this._lensflare.draw(this._context2d,1024*i,this._horizonY-80)}},_drawSprite:function(t,e,s,i,n,r,a,_,o,h,l){null==l&&(l=1),null==h&&(h=!1),null==o&&(o=1),null==_&&(_=0),null==a&&(a=0),null==r&&(r=0),.002<s||(this.c_destW=Math.round(e.w*s*this._width*.5*(.003*this._roadWidth)),this.c_destH=Math.round(e.h*s*this._width*.5*(.003*this._roadWidth)),768<this.c_destW||768<this.c_destH||(i=(i+this.c_destW*(r*(e.isFlip?-1:1)))*(e.isFlip?-1:1),n+=this.c_destH*a,this.c_clipH=Math.round(Math.max(0,n+this.c_destH-_+1)),0==_&&(this.c_clipH=0),this.c_clipH<this.c_destH&&(this._context2d.globalAlpha=Math.pow(o,.4)*l,h&&(this._context2d.globalCompositeOperation="lighter"),e.isFlip&&this._context2d.scale(-1,1),this._context2d.drawImage(t,e.x,e.y,e.w,e.h-e.h*this.c_clipH/this.c_destH,i,n,this.c_destW,this.c_destH-this.c_clipH),e.isFlip&&this._context2d.scale(-1,1),this._context2d.globalAlpha=1,h&&(this._context2d.globalCompositeOperation="source-over"))))},_drawHorizon:function(t,e){null==e&&(e=0),null==t&&(t=0);var s=Math.round(1024*t),i=Math.round(Math.min(e,224));this._context2d.fillStyle=this._horizonPattern,this._context2d.translate(s,i),this._context2d.fillRect(-s,-i,this._width,i),this._context2d.translate(-s,-i),this._context2d.fillStyle=this._track.locationVo.bgColor,this._context2d.fillRect(0,i,this._width,this._height-i)},_drawRotation:function(t,e){null==e&&(e=120),null==t&&(t=0);this._tools;t=.35<t?.35:t<-.35?-.35:t;var s=.5*this._width,i=.75*this._height;this._context2dBuffer.drawImage(this._context.cacheCanvas,0,0);var n=this._canvasBuffer;this._context2d.translate(s,i),this._context2d.rotate(-t),this._context2d.translate(-s,-i),this._context2d.drawImage(n,0,0,this._width,this._height,0,0,this._width,this._height),this._context2d.drawImage(n,0,0,this._width,1,0,1-e,this._width,e),this._context2d.drawImage(n,0,this._height-1,this._width,1,0,this._height-1,this._width,e),this._context2d.drawImage(n,1,0,1,this._height,2-e,0,e,this._height),this._context2d.drawImage(n,this._width-1,0,1,this._height,this._width-1,0,e,this._height),this._context2d.drawImage(n,0,0,1,1,-e,-e,e,e),this._context2d.drawImage(n,this._width-1,0,1,1,this._width,-e,e,e),this._context2d.drawImage(n,0,this._height-1,1,1,-e,this._height-1,e,e),this._context2d.drawImage(n,this._width-1,this._height-1,1,1,this._width,this._height-1,e,e),this._context2d.translate(s,i),this._context2d.rotate(t),this._context2d.translate(-s,-i)},_drawPlayer:function(t){var e=this._camera.depth/this._player.z,s=.5*this._width,i=.5*this._height-e*Me.interpolate(this._player.segment.position1.cameraY,this._player.segment.position2.cameraY,this._player.percent)*(.5*this._height),n=this._player.steer,r=Math.random()*this._player.speedPerc*this._resolution*(Math.random()<.5?-1:1);this._drawSprite(t,this._getCarSprite(we.CAR_A,n),.8*e,s,i+r,-.5,-1)},_getCarSprite:function(t,e){var s,i={x:0,y:270,w:200,h:90,isFlip:!1};switch(e<-.2&&(i.y=360),e<-.75&&(i.y=450),.2<e&&(i.y=180),.75<e&&(i.y=90),e<-.95&&(i.y=540),.95<e&&(i.y=0),t[1]){case 0:s=0;break;case 1:s=200;break;case 2:s=400;break;case 3:s=600;break;case 4:s=800}return i.x=s,i},__class__:De});var Oe=function(t,e,s,i,n){null==i&&(i=1),null==s&&(s=0),this.configure(t,e,s,i,n),this.seed=z.random(32)};(s["b10gph.game.Scenery"]=Oe).__name__=["b10gph","game","Scenery"],Oe.prototype={_getWidth:function(){return 0},_getScale:function(){switch(this.type[1]){case 0:return 2;case 1:return 2.2;case 2:case 3:return 1.5;case 4:return 1.25;case 5:return 4*Math.pow(Math.random(),.1);case 6:case 7:case 8:return 4*Math.pow(Math.random(),.2);case 9:return 4*Math.pow(Math.random(),.1);case 10:case 11:case 12:return 4*Math.pow(Math.random(),.2);case 13:return 2;case 14:case 15:case 16:case 17:return 2.6;case 18:case 19:return 2;case 20:case 21:return 10}},_getSprite:function(){var t=Math.random()<.5;switch(this.type[1]){case 0:return{x:0,y:0,w:32,h:42,isFlip:!1};case 1:return{x:768+32*z.random(4),y:512,w:32,h:32,isFlip:!1};case 2:return{x:768,y:544,w:64,h:64,isFlip:t};case 3:return{x:832,y:544,w:64,h:64,isFlip:t};case 4:return{x:896,y:512,w:128,h:128,isFlip:!1};case 5:return{x:20,y:0,w:196,h:256,isFlip:t};case 6:return{x:279,y:0,w:210,h:256,isFlip:t};case 7:return{x:512,y:0,w:256,h:256,isFlip:t};case 8:return{x:832,y:0,w:128,h:256,isFlip:t};case 9:return{x:20,y:256,w:196,h:256,isFlip:t};case 10:return{x:279,y:256,w:210,h:256,isFlip:t};case 11:return{x:512,y:256,w:256,h:256,isFlip:t};case 12:return{x:788,y:256,w:196,h:256,isFlip:t};case 13:return{x:18,y:512,w:92,h:512,isFlip:!1};case 14:return{x:128,y:562,w:256,h:206,isFlip:!1};case 15:return{x:384,y:562,w:256,h:206,isFlip:!1};case 16:return{x:128,y:818,w:256,h:206,isFlip:!1};case 17:return{x:384,y:818,w:256,h:206,isFlip:!1};case 18:return{x:640,y:512,w:128,h:256,isFlip:!1};case 19:return{x:640,y:768,w:128,h:256,isFlip:!1};case 20:return{x:768,y:896,w:128,h:128,isFlip:!1};case 21:return{x:896,y:896,w:128,h:128,isFlip:!1}}},_getIsAdd:function(){return!1},configure:function(t,e,s,i,n){null==i&&(i=1),null==s&&(s=0),this.offset=e,this.life=i,this.perc=s,this.owner=n,this.type!=t&&(this.type=t,this.scale=this._getScale(),this.width=this._getWidth(),this.isBoost=this.type==Ce.SCENERY_BOOST,this.isAfterburner=this.type==Ce.SCENERY_AFTERBURNER,this.isCoin=this.type==Ce.SCENERY_COIN,this.isAdd=this._getIsAdd(),this.sprite=this._getSprite())},__class__:Oe};var Ue=function(t,e,s,i,n,r){this.index=t,this.position1=e,this.position2=s,this.curve=i,this.color=n,this.scenery=null!=r?r:[],this.cars=[],this.fog=0,this.clip=0,this.isFinishLine=!1,this.isBoost=!1,this.boostPosition=0};(s["b10gph.game.Segment"]=Ue).__name__=["b10gph","game","Segment"],Ue.prototype={setBoost:function(t){this.isBoost=!0,this.boostPosition=t},__class__:Ue};var Pe=function(t,e,s){this._TEXTURE_HEIGHT=405,this._TEXTURE_WIDTH=720,this._kernel=t,this._width=e,this._height=s,this._texture=this._kernel.assets.getAsset("assets/location/Streaks.png")};(s["b10gph.game.Streaks"]=Pe).__name__=["b10gph","game","Streaks"],Pe.prototype={draw:function(t,e){if(null==e&&(e=1),!(e<=.25)){var s=e*(.5*Math.random()+.5);t.save(),t.globalAlpha=s,Math.random()<.5&&(t.translate(this._width,0),t.scale(-1,1)),Math.random()<.5&&(t.translate(0,this._height),t.scale(1,-1)),t.scale(this._width/this._TEXTURE_WIDTH,this._height/this._TEXTURE_HEIGHT),t.drawImage(this._texture,0,0),t.globalAlpha=1,t.restore()}},__class__:Pe};var Le=function(t,e){this.locationVo=e,oe.call(this,t)};(s["b10gph.game.Track"]=Le).__name__=["b10gph","game","Track"],Le.__super__=oe,Le.prototype=t(oe.prototype,{_init:function(){oe.prototype._init.call(this),this.maxSegments=820;this._tools;for(this.maxSegments%2==0&&this.maxSegments++,this._kernel.isDebug&&(this.maxSegments=100),this.segmentDistance=300,this.segments=[],this._addRoad(0,50,0,0,0);this.segments.length<this.maxSegments;){var t=this._tools.getRandomType(be);this.locationVo.isBowl&&(t=[be.ROAD_LEFT_LONG,be.ROAD_LEFT_MEDIUM,be.ROAD_NONE][z.random(3)]);var e=this._getRoadLength(t),s=this._getRoadCurve(t),i=e*Math.random()*3;this.locationVo.isBowl&&(i=.1*Math.abs(s*e)),this.segments.length+2*e<this.maxSegments?this._addRoad(e,e,e,s,i):this._addRoad(0,this.maxSegments-this.segments.length,0,0,0)}this.maxSegments=this.segments.length;for(var n=0;n<10;){n++;var r=30*Math.random()*.4;this._addRoad(0,30,0,0,r)}for(var a,_=0,o=this.segments.length;_<o;){var h=_++;if(10<Math.abs(h-this.maxSegments)){if(50<h&&h<this.maxSegments-32&&h%128==8){var l=Math.random()-.5;this._addScenery(h,Ce.SCENERY_BOOST,l);for(var c=h-2,u=h+2;c<u;){var d=c++;this.segments[d].setBoost(l)}}25<h&&h<this.maxSegments+140&&Math.random()<(h<this.maxSegments?.03:.2)&&this._addScenery(h,Ce.SCENERY_COIN,2*Math.random()-1)}this._createDefaultScenery(this.segments[h])}this._addScenery(30,Ce.SCENERY_TUNNEL_LEFT,-1),this._addScenery(30,Ce.SCENERY_TUNNEL_RIGHT,1),this._addScenery(this.maxSegments,Ce.SCENERY_FINISH_LEFT,-1),this._addScenery(this.maxSegments,Ce.SCENERY_FINISH_RIGHT,1),this.segments[this.maxSegments].isFinishLine=!0;this._tools;a=this.maxSegments%2==0?1:-1,this.segments[this.maxSegments+a].isFinishLine=!0,this.totalDistance=this.maxSegments*this.segmentDistance,this._totalCars=11,this._createCars(),this._createAfterburners()},findSegment:function(t){return this.segments[Math.floor(t/this.segmentDistance)%this.segments.length]},_getRoadLength:function(t){switch(t[1]){case 0:return 10;case 3:case 6:return 50;case 1:case 4:return 10;case 2:case 5:return 20}},_getRoadCurve:function(t){var e;switch(t[1]){case 0:e=0;break;case 1:e=-10;break;case 2:e=-15;break;case 3:e=-20;break;case 4:e=10;break;case 5:e=15;break;case 6:e=20}return Math.round(e*(this._session.level+2)/5)},_addRoad:function(t,e,s,i,n){null==n&&(n=0);for(var r=this._getLastY(),a=r+n*this.segmentDistance,_=t+e+s,o=0,h=t;o<h;){var l=o++;this._addSegment(Math.round(Me.easeIn(0,i,l/t)),Me.easeInOut(r,a,l/_))}for(var c=0,u=e;c<u;){var d=c++;this._addSegment(i,Me.easeInOut(r,a,(t+d)/_))}for(var p=0,g=s;p<g;){var f=p++;this._addSegment(Math.round(Me.easeInOut(i,0,f/s)),Me.easeInOut(r,a,(t+e+f)/_))}},_addSegment:function(t,e){var s=this.segments.length,i=this.segments,n=new xe(this._getLastY(),s*this.segmentDistance),r=Math.floor(s/2)%2==0?Se.COLOR_DARK:Se.COLOR_LIGHT;i.push(new Ue(s,n,new xe(e,(s+1)*this.segmentDistance),t,r))},_getLastY:function(){return 0==this.segments.length?0:this.segments[this.segments.length-1].position2.worldY},_createDefaultScenery:function(t){var e=t.index;e%10==0&&(Math.random()<.4&&((2<t.curve||e>this.maxSegments||e<50)&&this._addScenery(e,Ce.SCENERY_STADIUM_LEFT,-7.5),(this.locationVo.isBowl||t.curve<-2||e>this.maxSegments||e<50)&&this._addScenery(e,Ce.SCENERY_STADIUM_RIGHT,7.5)));e%2==0&&((this.locationVo.isBowl||2<t.curve||e>this.maxSegments||e<50)&&this._addScenery(e,Ce.SCENERY_SIDING_LEFT,-this.locationVo.sidingDistance),(this.locationVo.isBowl||t.curve<-2||e>this.maxSegments||e<50)&&this._addScenery(e,Ce.SCENERY_SIDING_RIGHT,this.locationVo.sidingDistance)),Math.random()<.2&&2<t.curve&&this._addScenery(e,Math.random()<.5?Ce.SCENERY_TIRE_2:Ce.SCENERY_TIRE_1,-1.5),Math.random()<.2&&t.curve<-2&&this._addScenery(e,Math.random()<.5?Ce.SCENERY_TIRE_2:Ce.SCENERY_TIRE_1,1.5);var s=Math.random();50<e&&e%32==0&&s<.4&&(this._addScenery(e,Ce.SCENERY_TUNNEL_LEFT,-1),this._addScenery(e,Ce.SCENERY_TUNNEL_RIGHT,1)),e%32==8&&this._addScenery(e,Ce.SCENERY_FLOODLIGHT,-2),e%32==24&&this._addScenery(e,Ce.SCENERY_FLOODLIGHT,2);var i=Math.random();if(e%2==0&&i<(this._system.isDesktop?.5:.2)){var n=this.locationVo.trees[z.random(this.locationVo.trees.length)];null!=n&&this._addScenery(e,n,(Math.random()<.5?-1:1)*(Math.random()+2.5))}},_addScenery:function(t,e,s){this.segments[t].scenery.push(new Oe(e,s))},_createCars:function(){this.cars=[];for(var t=z.random(3)+2,e=0,s=this._totalCars;e<s;){var i,n=e++,r=1-n/this._totalCars,a=Math.ceil(50*r*2*this.segmentDistance);switch(n%3){case 0:i=0;break;case 2:i=.5;break;default:i=-.5}var _=[we.CAR_B,we.CAR_C,we.CAR_D,we.CAR_E][z.random(4)],o=.9*Math.pow(Math.random(),Math.max(.1,r))+.2,h=.9*Math.pow(Math.pow(Math.random(),.5),Math.max(.1,r))+.275,l=(this._tools,this._session.getPercentageComplete()),c=o*(1-l)+h*l;n%t==0&&(c=.7*Math.pow(r,Math.max(.3,r))+.3),0==n&&(c=1),1==n&&(c=.99);var u=new ve(_,i,a,c);this.findSegment(a).cars.push(u),this.cars.push(u)}},_createAfterburners:function(){this._afterburners=[];for(var t=0;t<100;){t++;var e=new Oe(Ce.SCENERY_AFTERBURNER,0,0);this._afterburners.push(e)}this._afterburnerIndex=0},getNextAfterburner:function(){return this._afterburners[this._afterburnerIndex++%100]},__class__:Le});var Me=function(){};(s["b10gph.game.Util"]=Me).__name__=["b10gph","game","Util"],Me.percentRemaining=function(t,e){return t%e/e},Me.accelerate=function(t,e,s){return t+e*s},Me.interpolate=function(t,e,s){return t+(e-t)*s},Me.easeIn=function(t,e,s){return t+(e-t)*Math.pow(s,2)},Me.easeInOut=function(t,e,s){return t+(e-t)*(-Math.cos(s*Math.PI)/2+.5)},Me.overlap=function(t,e,s,i,n){null==n&&(n=1);var r=n/2;return!(t+e*r<s-i*r||s+i*r<t-e*r)};var Be=function(t,e,s,i){null==i&&(i=!1),null==s&&(s=100),null==e&&(e=100),this._assets=Ms.__cast(t.assets,le),this._factory=Ms.__cast(t.factory,ue),this._session=Ms.__cast(t.get_session(),fe),this._system=t.system,zt.call(this,t,e,s,i)};(s["b10gph.gui.AGuiEntity"]=Be).__name__=["b10gph","gui","AGuiEntity"],Be.__super__=zt,Be.prototype=t(zt.prototype,{__class__:Be});var Fe=function(t,e,s,i){null==i&&(i=1),null==s&&(s=!1),this._imageElement=e,this._isAdd=s,Be.call(this,t,this._imageElement.width,this._imageElement.height,!1),this.set_alpha(i)};(s["b10gph.gui.Image"]=Fe).__name__=["b10gph","gui","Image"],Fe.__super__=Be,Fe.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._imageElement),this._context.addChild(this._bitmap),this._bitmap.compositeOperation=this._isAdd?"lighter":"source-over"},set_alpha:function(t){return this._bitmap.alpha=t},__class__:Fe,__properties__:t(Be.prototype.__properties__,{set_alpha:"set_alpha"})});var Ye=function(t,e){this._imageData=e,Fe.call(this,t,t.assets.getAsset("assets/gui/SceneBg.png"),!1)};(s["b10gph.gui.Bg"]=Ye).__name__=["b10gph","gui","Bg"],Ye.__super__=Fe,Ye.prototype=t(Fe.prototype,{_init:function(){Fe.prototype._init.call(this),this._image=new createjs.Bitmap(this._imageData),this._context.addChild(this._image)},_updater:function(t){null==t&&(t=0),Fe.prototype._updater.call(this,t),this._image.x=10*Math.sin(this._kernel.scenes._age/1e3)-10},__class__:Ye});var He=function(t,e,s,i,n,r,a,_,o){null==n&&(n=0),null==i&&(i=0);var h=new Wt(t),l=new Wt(t);w.call(this,t,h,l,e,s,i,n,r,a,_,o)};(s["b10gph.gui.BlankButton"]=He).__name__=["b10gph","gui","BlankButton"],He.__super__=w,He.prototype=t(w.prototype,{_updater:function(t){null==t&&(t=0);var e=this.get_view().context.localToGlobal(0,0);this.get_view().globalX=e.x,this.get_view().globalY=e.y,w.prototype._updater.call(this,t)},__class__:He});var Ge=function(t,e,s,i,n,r,a,_){null==i&&(i=0),null==s&&(s=0),null==e&&(e=""),this._assets=t.assets,this._factory=t.factory,this._title=e.toUpperCase(),w.call(this,t,this._assets.get_buttonUp(),this._assets.get_buttonOver(),200,65,s,i,n,r,a,_)};(s["b10gph.gui.Button"]=Ge).__name__=["b10gph","gui","Button"],Ge.__super__=w,Ge.prototype=t(w.prototype,{_init:function(){w.prototype._init.call(this);var t=this.width-10,e=this.height-18,s=this._kernel.factory.createTextStyle(_e.BUTTON);this._textUp=new es(this._kernel,t,e,this._title,s);var i=this._kernel.factory.createTextStyle(_e.BUTTON);i.color=this._factory.COLOR_GREY,this._textOver=new es(this._kernel,t,e,this._title,i),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(18)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},setTitle:function(t){this._title!=t&&(this._title=t.toUpperCase(),this._textUp.set_text(this._textOver.set_text(this._title)))},onRollOver:function(){w.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",Jt.INTERFACE,0,0,.25)},__class__:Ge});var Ve=function(t,e,s,i,n,r,a,_){null==i&&(i=0),null==s&&(s=0),null==e&&(e=!1),this._isFacebook=e,this._assets=t.assets,this._factory=t.factory,w.call(this,t,this._isFacebook?this._assets.get_buttonFacebookUp():this._assets.get_buttonTwitterUp(),this._isFacebook?this._assets.get_buttonFacebookOver():this._assets.get_buttonTwitterOver(),65,65,s,i,n,r,a,_)};(s["b10gph.gui.ButtonIcon"]=Ve).__name__=["b10gph","gui","ButtonIcon"],Ve.__super__=w,Ve.prototype=t(w.prototype,{_init:function(){w.prototype._init.call(this)},onRollOver:function(){w.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",Jt.INTERFACE,0,0,.25)},__class__:Ve});var ze=function(t,e,s,i,n,r,a,_){null==i&&(i=0),null==s&&(s=0),null==e&&(e=""),this._assets=t.assets,this._factory=t.factory,w.call(this,t,this._assets.get_buttonSmallUp(),this._assets.get_buttonSmallOver(),100,30,s,i,n,r,a,_),this.setTitle(e)};(s["b10gph.gui.ButtonSmall"]=ze).__name__=["b10gph","gui","ButtonSmall"],ze.__super__=w,ze.prototype=t(w.prototype,{_init:function(){w.prototype._init.call(this);var t=this.width-10,e=this.height-7,s=this._kernel.factory.createTextStyle(_e.BUTTON);s.size=12,this._textUp=new es(this._kernel,t,e,this._title,s);var i=this._kernel.factory.createTextStyle(_e.BUTTON);i.size=12,i.color=this._factory.COLOR_GREY,this._textOver=new es(this._kernel,t,e,this._title,i),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(7)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},_updater:function(t){null==t&&(t=0);var e=this.get_view().context.localToGlobal(0,0);this.get_view().globalX=e.x,this.get_view().globalY=e.y,w.prototype._updater.call(this,t)},setTitle:function(t){this._title=t,this._title=this._title.toUpperCase(),this._textUp.set_text(this._title),this._textOver.set_text(this._title)},onRollOver:function(){w.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",Jt.INTERFACE,0,0,.25)},onClick:function(){w.prototype.onClick.call(this),this.isOver=!1},__class__:ze});var je=function(t,e){null==e&&(e=!0),this._isAnimated=e,Be.call(this,t,120,32,!1)};(s["b10gph.gui.Coins"]=je).__name__=["b10gph","gui","Coins"],je.__super__=Be,je.prototype=t(Be.prototype,{_init:function(){var t=this;Be.prototype._init.call(this),this._displayValue=this._prevCoins=this._session.coins,this._isAnimated?(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/location/Cars.png")),this._bitmap.sourceRect=new createjs.Rectangle(0,630,32,32),this._bitmap.y=3):(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/HudProgress.png")),this._bitmap.sourceRect=new createjs.Rectangle(160,80,32,32),this._bitmap.cache(0,0,32,32)),this._bitmap.x=this.width-32,this._context.addChild(this._bitmap),this._text=new es(this._kernel,this.width-32-5,35,z.string(this._displayValue),this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_COINS)),this._text.setPosition(.85*this._text.width-10,.5*this._text.height+1),this._text._context.regX=.85*this._text.width,this._text._context.regY=.5*this._text.height,this._session.get_isTester()&&this.addEntity(new He(this._kernel,0|this.width,0|this.height,0,0,null,function(){t._session.coins+=100}),null,!0,10),this.addEntity(this._text,null,!0,1)},_updater:function(t){null==t&&(t=0);var e=this;if(Be.prototype._updater.call(this,t),this._isAnimated&&(this._bitmap.sourceRect.x=this._updates%32*32),!(this._age<3e3)){if(this._prevCoins!=this._session.coins){if(this._kernel.audio.start("Coin",Jt.INTERFACE,0,0,.65,null,!1),null!=this._tweezer){var s=this._tweezer;s.isDisposed||(s.isDisposed=!0,s.set_isActive(!1),s._disposer())}this.addEntity(this._tweezer=new js(this._kernel,function(t){e._text._context.scaleX=e._text._context.scaleY=t},1.75,1,0,1e3,null,Gs.EASE_OUT,Vs.QUARTIC))}if(this._prevCoins=this._session.coins,this._displayValue!=this._session.coins){this._tools;this._displayValue=Math.round(.8*this._displayValue+.2*this._session.coins),Math.abs(this._displayValue-this._session.coins)<5&&(this._displayValue=this._session.coins),this._text.set_text(z.string(this._displayValue))}}},__class__:je});var We=function(t,e,s,i,n){this._delay=e,this._duration=s,this._text=i,this._callback=n,oe.call(this,t)};(s["b10gph.gui.Countdown"]=We).__name__=["b10gph","gui","Countdown"],We.__super__=oe,We.prototype=t(oe.prototype,{_updater:function(t){null==t&&(t=0),oe.prototype._updater.call(this,t);this._tools;var e=(this._age-this._delay)/this._duration,s=1<e?1:e<0?0:e;if(0<s){var i=z.string(this._kernel.getConfig("gui.buttons.countdown"))+" "+Math.ceil((this._duration-this._age+this._delay)/1e3);i=i.toUpperCase(),this._text.set_text(i)}1==s&&(null!=this._callback&&this._callback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:We});var Xe=function(t){Be.call(this,t,t.factory.width,t.factory.height,!1)};(s["b10gph.gui.Hud"]=Xe).__name__=["b10gph","gui","Hud"],Xe.__super__=Be,Xe.prototype=t(Be.prototype,{_init:function(){var e=this;Be.prototype._init.call(this);var t=new createjs.Bitmap(this._assets.getAsset("assets/gui/Hud.png"));this._context.addChild(t),this._coins=new je(this._kernel,!1),this.addEntity(this._coins,null,!0,10),this._coins.setPosition(30,12),this.addEntity(this._score=new es(this._kernel,60,35,"",this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_SCORE),!1,!1,1),null,!0,10),this._score.setPosition(.35*this._score.width+570,.5*this._score.height+13),this._score._context.regX=.35*this._score.width,this._score._context.regY=.5*this._score.height,this.addEntity(this._message=new es(this._kernel,this.width,50,"",this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_MESSAGE),!1,!1,10),null,!0,10),this._message.setPosition(0,(this._factory.height+90)/2),this._message.get_view().set_isVisible(!1),this.addEntity(this._instructions=new Fe(this._kernel,this._assets.getAsset(this._system.isDesktop?"assets/gui/InstructionsA.png":"assets/gui/InstructionsB.png"),!1,this._instructionsAlpha),null,!0,9),this._instructions.setPosition((this._factory.width-300)/2,this._factory.height-200),this.addEntity(this._progress=new Ke(this._kernel),null,!0,10),this._progress.setPosition((this._kernel.factory.width-this._progress.width)/2,9),this.configureScore(12);var s=function(t){e._instructions.set_y(t)};this.addEntity(new js(this._kernel,s,this._factory.height,this._instructions.y,0,1e3,1e3,Gs.EASE_OUT,Vs.QUARTIC,function(){e.addEntity(new js(e._kernel,s,e._instructions.y,e._factory.height,0,1e3,0,Gs.EASE_IN,Vs.BACK(),function(){e._instructions.get_view().set_isVisible(!1)}))})),this.addEntity(new js(this._kernel,function(t){e._progress.set_y(t)},-this._progress.height,this._progress.y,4e3,1e3,0,Gs.EASE_OUT,Vs.QUARTIC)),this.addEntity(new js(this._kernel,function(t){e._score.set_y(t)},-this._progress.height,this._score.y,4e3,1e3,0,Gs.EASE_OUT,Vs.QUARTIC)),this.addEntity(new js(this._kernel,function(t){e._coins.set_y(t)},-this._progress.height,this._coins.y,4e3,1e3,0,Gs.EASE_OUT,Vs.QUARTIC))},_updater:function(t){null==t&&(t=0),Be.prototype._updater.call(this,t)},configureScore:function(t){var e=this;if(this._prevScore!=t){var s;switch(this._prevScore=t){case 1:s="st";break;case 2:s="nd";break;case 3:s="rd";break;default:s="th"}var i=t+s;if(i=i.toUpperCase(),this._score.set_text(i),null!=this._scoreTweezer){var n=this._scoreTweezer;n.isDisposed||(n.isDisposed=!0,n.set_isActive(!1),n._disposer())}this.addEntity(this._scoreTweezer=new js(this._kernel,function(t){e._score._context.scaleX=e._score._context.scaleY=t},1.75,1,0,1e3,null,Gs.EASE_OUT,Vs.QUARTIC))}},configureProgress:function(t){this._progress.configure(t)},configureMessage:function(t){var e=this;t=t.toUpperCase(),this.addEntity(new js(this._kernel,function(t){e._message.set_y(t)},this._factory.height,this._message.y,0,2e3,0,Gs.EASE_OUT,Vs.ELASTIC())),this._message.set_text(t),this._message.get_view().set_isVisible(!0)},__class__:Xe});var Ke=function(t){Be.call(this,t,420,40,!1)};(s["b10gph.gui.HudProgress"]=Ke).__name__=["b10gph","gui","HudProgress"],Ke.__super__=Be,Ke.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._context.cache(0,0,this.width,this.height);var t=this._context.cacheCanvas;this._context2d=t.getContext("2d",null),this._source=this._assets.getAsset("assets/gui/HudProgress.png")},_drawNeedle:function(t,e,s){var i;switch(t[1]){case 0:i=0;break;case 1:i=32;break;case 2:i=64;break;case 3:i=96;break;case 4:i=128}this._context2d.drawImage(this._source,i+8,88,16,16,this._getX(e)+74-8,Math.round(6*s)+12,16,16)},_getX:function(t){return Math.round(Math.min(268*t,328))},configure:function(t){this._context2d.clearRect(0,0,this.width,this.height),this._context2d.fillStyle="#cd040b",this._context2d.globalAlpha=.85;var e=Math.min(268*t[t.length-1].position,268),s=this._context2d.createLinearGradient(74+e,0,74+e+10,3);s.addColorStop(0,"rgba(205, 4, 11, 1)"),s.addColorStop(1,"rgba(205, 4, 11, 0)"),this._context2d.fillStyle=s,this._context2d.beginPath(),this._context2d.moveTo(82,8),this._context2d.lineTo(74+e+20,8),this._context2d.lineTo(74+e-5+20,33),this._context2d.lineTo(77,33),this._context2d.fill(),this._context2d.globalAlpha=1,this._context2d.drawImage(this._source,0,0,420,40,0,0,420,40);for(var i=0;i<t.length;){var n=t[i];++i,this._drawNeedle(n.type,n.position,n.offset)}this._context2d.drawImage(this._source,0,40,420,40,0,0,420,40)},__class__:Ke});var Qe=function(t,e,s,i){null==i&&(i=!1),null==s&&(s=0),this._type=e,this._isSelected=i,Be.call(this,t,200,405,!1),this.set_x(s)};(s["b10gph.gui.LocationPreview"]=Qe).__name__=["b10gph","gui","LocationPreview"],Qe.__super__=Be,Qe.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._vo=new ke(this._kernel,this._type),this._mask=this._assets.getAsset("assets/gui/LocationPreviewMask.png"),this._image=this._assets.getAsset("assets/gui/LocationPreview.png"),this._bitmap=new createjs.Bitmap(this._mask),this._bitmap.cache(0,0,this.width,this.height),this._context.addChild(this._bitmap);var t=this._factory.createTextStyle(_e.SUBHEAD);t.align=ae.CENTER,this._text=new es(this._kernel,110,30,this._vo.altTitle.toUpperCase(),t),this._text.setPosition(58,100),this.addEntity(this._text,null,!0,10),this._shine=new $e(this._kernel,this._mask),this._draw()},_draw:function(){var t,e=0|this.width;switch(this._type[1]){case 0:t=0;break;case 1:t=1;break;case 2:t=2;break;case 3:t=3}var s=e*t,i=this._bitmap.cacheCanvas.getContext("2d",null);i.clearRect(0,0,this.width,this.height),i.globalAlpha=1,i.globalCompositeOperation="source-out",i.drawImage(this._mask,0,0),i.globalCompositeOperation="source-in",i.drawImage(this._image,s,0,this.width,this.height,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",i.fillStyle="#191919",i.globalAlpha=this._isSelected?0:.85,i.fillRect(0,0,this.width,this.height),this._text.set_alpha(this._isSelected?1:.15),this._shine.remove(!0),this._isSelected&&this.addEntity(this._shine,null,!0,15)},configure:function(t){this._isSelected!=t&&(this._isSelected=t,this._draw()),this._isSelected=t},__class__:Qe});var Je=function(t){Be.call(this,t,450,105,!1)};(s["b10gph.gui.Logo"]=Je).__name__=["b10gph","gui","Logo"],Je.__super__=Be,Je.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this.addEntity(new $e(this._kernel,this._assets.getAsset("assets/gui/LogoShine.png")),null,!0,1),this._context.addChild(new createjs.Bitmap(this._assets.getAsset("assets/gui/Logo.png")))},__class__:Je});var Ze=function(t){this._assetManager=Ms.__cast(t.assets,le),this._buttonSize=50,Mt.call(this,t,this._buttonSize,this._buttonSize,null,null,null,null,null,null,null,this._assetManager.overlayPauseUp,this._assetManager.overlayPauseOver,null,null,4,0,.85)};(s["b10gph.gui.Overlay"]=Ze).__name__=["b10gph","gui","Overlay"],Ze.__super__=Mt,Ze.prototype=t(Mt.prototype,{_init:function(){Mt.prototype._init.call(this);var t=this._kernel.factory.width-this._buttonSize-5;this.positionButton(ne.PAUSE,t,4),this.positionButton(ne.UNPAUSE,-this._buttonSize-10,4),this.positionButton(ne.BACK,-this._buttonSize-10,4),this.positionButton(ne.MUTE,-this._buttonSize-10,4),this.positionButton(ne.UNMUTE,-this._buttonSize-10,4),this._flashView.set_isVisible(!0),this._pauseMenu=new qe(this._kernel),this.set_pauseEntity(this._pauseMenu)},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),this._flashContext.compositeOperation=0==i?"source-over":"lighter",Mt.prototype.flash.call(this,t,e,s,i)},_drawPause:function(t){null==t&&(t=!0),Mt.prototype._drawPause.call(this,t),this._pauseMenu.pauseHandler(t)},__class__:Ze});var qe=function(t){oe.call(this,t)};(s["b10gph.gui.PauseMenu"]=qe).__name__=["b10gph","gui","PauseMenu"],qe.__super__=oe,qe.prototype=t(oe.prototype,{_init:function(){var t=this;oe.prototype._init.call(this),this.addEntity(this._debugText=new es(this._kernel,this._factory.width-20,20,"",this._factory.createTextStyle(_e.SMALLPRINT),!0,!1,1),null,!0,2),this._debugText.setPosition(10,this._factory.height-this._debugText.height);var e=(this._kernel.factory.width-200)/2,s=(this._kernel.factory.height-65*(this._isFullScreenSupported()?4:3))/2;this.addEntity(new He(this._kernel,460,50,(this._kernel.factory.width-400)/2,0,null,ai(this,this._pressAuthor)),Qt.ALWAYS,!0,1),this.addEntity(this._logo=new Fe(this._kernel,this._kernel.assets.getAsset("assets/gui/PauseBg.png")),null,!0,0),this.addEntity(new Ge(this._kernel,this._kernel.getConfig("gui.buttons.unpause"),e,s,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(this._audioButton=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.audioOff"),e,s+=65,null,function(){t._kernel.overlay._wasMute=!t._kernel.overlay._wasMute,t._kernel.overlay.activateButton(ne.UNPAUSE)}),Qt.ALWAYS,!0,1),this._isFullScreenSupported()&&this.addEntity(this._fullScreenButton=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.fullScreenOn"),e,s+=65,null,function(){t._stageClick(),t._kernel.overlay.activateButton(ne.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(new Ge(this._kernel,this._kernel.getConfig("gui.buttons.back"),e,s+=65,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE),t._kernel.scenes.back()}),Qt.DEFEND,!0,1),this.addEntity(new Ge(this._kernel,this._kernel.getConfig("gui.buttons.instructions"),e,s,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE),t._pressInstructions()}),Qt.STANDARD,!0,1)},_isFullScreenSupported:function(){try{var t=window.document.documentElement;if(null!=ai(t,t.requestFullscreen))return!0;if(null!=t.msRequestFullscreen)return!0;if(null!=t.mozRequestFullScreen)return!0;if(null!=t.webkitRequestFullscreen)return!0}catch(t){}return!1},_isFullScreenEnabled:function(){try{var t=window.document;return!!t.fullscreenElement||(!!t.mozFullScreenElement||(!!t.webkitFullscreenElement||t.msFullscreenElement))}catch(t){}return!1},_disposer:function(){this._kernel._stage.removeEventListener("click",ai(this,this._stageClick),!0),oe.prototype._disposer.call(this)},_pressInstructions:function(){try{this._kernel.scenes.get_scene()._pressInstructions()}catch(t){this._kernel.scenes.setScene(re.INSTRUCTIONS)}},_pressAuthor:function(){try{this._kernel.scenes.get_scene()._pressAuthor()}catch(t){}},_updater:function(t){null==t&&(t=0),oe.prototype._updater.call(this,t),this._isFullScreenClicked=!1},pauseHandler:function(t){var e=this;t?(this._audioButton.setTitle(this._kernel.getConfig(this._kernel.audio.isMute?"gui.buttons.audioOn":"gui.buttons.audioOff")),null!=this._fullScreenButton&&this._fullScreenButton.setTitle(this._kernel.getConfig(this._isFullScreenEnabled()?"gui.buttons.fullScreenOff":"gui.buttons.fullScreenOn")),this._kernel._stage.addEventListener("click",ai(this,this._stageClick),!0),this._debugText.set_text(this._factory.id.toLowerCase()+" v"+this._factory.version+" @ "+Math.round(this._kernel.getFramerate())+"fps : "+this._session.cache.debugMessage),this.addEntity(new js(this._kernel,function(t){e._context.y=t},this._factory.height,0,0,500,null,Gs.EASE_OUT,Vs.QUARTIC)),this.addEntity(new js(this._kernel,function(t){e._logo.set_alpha(t)},0,1,2e3,2e3,null,Gs.EASE_OUT,Vs.QUARTIC))):this._kernel._stage.removeEventListener("click",ai(this,this._stageClick),!0)},_stageClick:function(t){this._kernel.isActive||null!=this._fullScreenButton&&(this._isFullScreenClicked||this._fullScreenButton.isOver&&(this._isFullScreenEnabled()?this._kernel.system.requestExitFullScreen():(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()),this._isFullScreenClicked=!0,null!=t&&t.stopPropagation(),this._kernel.overlay.activateButton(ne.UNPAUSE)))},__class__:qe});var $e=function(t,e,s){null==s&&(s=1),this._context=new createjs.Container,this._alphaMask=e,this._speed=s,v.call(this,t,null,this._context)};(s["b10gph.gui.Shine"]=$e).__name__=["b10gph","gui","Shine"],$e.__super__=v,$e.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this),this.width=this._alphaMask.width,this.height=this._alphaMask.height,this._context.compositeOperation="lighter",this._context.cache(0,0,this.width,this.height),this._canvas=this._context.cacheCanvas,this._context2d=this._canvas.getContext("2d",null),this._context.alpha=.35},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._draw()},_draw:function(){if(this._kernel.isEyeCandy){this._context2d.clearRect(0,0,this.width,this.height),this._context2d.globalCompositeOperation="source-out",this._context2d.drawImage(this._alphaMask,0,0);var t=this._speed*this._age,e=this._rotatePoint(.5*this.width*Math.sin(t/900),.5*this.height,t/1e3,.5*this.width,.5*this.height),s=this._rotatePoint(this.width,.5*this.height+.5*this.height*Math.sin(t/1300),t/1e3,.5*this.width,.5*this.height),i=this._context2d.createLinearGradient(e.x,e.y,s.x,s.y);i.addColorStop(.15,"#000000"),i.addColorStop(.3,"#FFFFFF"),i.addColorStop(.5,"#333333"),i.addColorStop(.78,"#a6a6a6"),i.addColorStop(.82,"#bfbfbf"),i.addColorStop(.86,"#a6a6a6"),i.addColorStop(.88,"#FFFFFF"),i.addColorStop(.98,"#000000"),this._context2d.fillStyle=i,this._context2d.globalCompositeOperation="source-in",this._context2d.fillRect(0,0,this.width,this.height)}},_rotatePoint:function(t,e,s,i,n){var r=Math.sin(s),a=Math.cos(s),_=(t-=i)*a-(e-=n)*r,o=t*r+e*a;return{x:_+=i,y:o+=n}},__class__:$e});var ts=function(t,e,s,i,n){null==n&&(n=""),null==i&&(i=""),null==s&&(s=""),null==e&&(e=1),this._bgColor=e,Be.call(this,t,230,25,!1),this._column1.set_text(s.toUpperCase()),this._column2.set_text(i.toUpperCase()),this._column3.set_text(n.toUpperCase())};(s["b10gph.gui.TableRow"]=ts).__name__=["b10gph","gui","TableRow"],ts.__super__=Be,ts.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this);var t,e=new createjs.Bitmap(this._assets.getAsset("assets/gui/HudProgress.png"));switch(this._bgColor){case 1:t=112;break;case 2:t=137;break;default:t=162}e.sourceRect=new createjs.Rectangle(0,t,230,25),this._context.addChild(e),this._column1=new es(this._kernel,110,20,"",this._factory.createTextStyle(_e.BODY),!1,!1,1),this._column1.setPosition(7,2),this.addEntity(this._column1,null,!0,1);var s=this._factory.createTextStyle(_e.BODY);s.align=ae.CENTER,this._column2=new es(this._kernel,70,20,"",s,!1,!1,1),this._column2.setPosition(100,2),this.addEntity(this._column2,null,!0,1);var i=this._factory.createTextStyle(_e.BODY);i.align=ae.RIGHT,this._column3=new es(this._kernel,50,20,"",i,!1,!1,1),this._column3.setPosition(173,2),this.addEntity(this._column3,null,!0,1)},__class__:ts});var es=function(t,e,s,i,n,r,a,_){null==_&&(_=1),null==a&&(a=!1),null==r&&(r=!1),null==i&&(i=""),i=E.replace(i,"<BR/>","\n"),i=E.replace(i,"<br/>","\n"),jt.call(this,t,e,s,i,n,r,a),this.set_alpha(_)};(s["b10gph.gui.Text"]=es).__name__=["b10gph","gui","Text"],es.__super__=jt,es.prototype=t(jt.prototype,{_init:function(){jt.prototype._init.call(this),this._textField.textBaseline="alphabetic",this._textField.y+=1.05*this.textStyle.size},set_alpha:function(t){return this._context.alpha=t},__class__:es,__properties__:t(jt.prototype.__properties__,{set_alpha:"set_alpha"})});var ss=function(t,e){this._title=e,Be.call(this,t,470,100,!1)};(s["b10gph.gui.Title"]=ss).__name__=["b10gph","gui","Title"],ss.__super__=Be,ss.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._context.addChild(new createjs.Bitmap(this._assets.getAsset("assets/gui/Title.png"))),this._text=new es(this._kernel,460,30,"",this._factory.createTextStyle(_e.HEADLINE),!1,!1,1),this._text.setPosition(10,54),this.addEntity(this._text,null,!0,1),this.set_x(this._factory.width-this.width),this.configure(this._title)},configure:function(t){this._title=t,this._title=this._title.toUpperCase(),this._text.set_text(this._title)},__class__:ss});var is=function(t,e){this._type=e,Be.call(this,t,470,40,!1)};(s["b10gph.gui.Upgrade"]=is).__name__=["b10gph","gui","Upgrade"],is.__super__=Be,is.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._prevCoins=this._session.coins;var t,e=new createjs.Bitmap(this._assets.getAsset("assets/gui/HudProgress.png"));switch(e.x=150,e.sourceRect=new createjs.Rectangle(0,188,200,40),e.cache(0,0,200,40),this._context.addChild(e),this._type[1]){case 0:t="gui.upgrades.speed";break;case 1:t="gui.upgrades.steering";break;case 2:t="gui.upgrades.acceleration";break;case 3:t="gui.upgrades.boost"}var s,i=z.string(this._kernel.getConfig(t)).toUpperCase(),n=new createjs.Bitmap(this._assets.getAsset("assets/gui/HudProgress.png"));switch(n.x=110,this._type[1]){case 0:s=230;break;case 1:s=270;break;case 2:s=310;break;case 3:s=350}n.sourceRect=new createjs.Rectangle(s,112,40,40),n.cache(0,0,40,40),this._context.addChild(n);var r=this._factory.createTextStyle(_e.BODY);r.align=ae.RIGHT,this._title=new es(this._kernel,100,20,i,r),this._title.setPosition(0,8),this.addEntity(this._title,null,!0,1),this._bars=new createjs.Container,this._bars.x=e.x,this._context.addChild(this._bars),this._button=new ze(this._kernel,"",340,4,null,ai(this,this.buy)),this._session.get_isTester()&&this.addEntity(new He(this._kernel,173,25,this._bars.x+10,5,null,ai(this,this._reduce)),null,!0,1);var a=this._factory.createTextStyle(_e.BODY);a.align=ae.CENTER,this._message=new es(this._kernel,100,20,"",a,null,null,.5),this._message.setPosition(340,8),this.addEntity(this._message,null,!0,29),this.configure(this._session.getUpgrade(this._type))},_updater:function(t){null==t&&(t=0),Be.prototype._updater.call(this,t),this._prevCoins!=this._session.coins&&(this._prevCoins=this._session.coins,this.configure(this._session.getUpgrade(this._type)))},_createBar:function(t,e){var s=new createjs.Bitmap(this._assets.getAsset("assets/gui/HudProgress.png"));return s.x=e,s.sourceRect=new createjs.Rectangle(230+50*(t-1),152,55,40),s.cache(0,0,55,40),s},configure:function(t){this._bars.removeAllChildren();var e=this._getPrice(t+1),s=e<=this._session.coins;this._button.setTitle(z.string(this._kernel.getConfig("gui.buttons.buy"))+" "+e),4==t?(this._button.remove(!0),this._message.set_text(z.string(this._kernel.getConfig("gui.scenes.shop.maxed")).toUpperCase())):s?(this._message.set_text(""),this.addEntity(this._button,null,!0,30)):(this._button.remove(!0),this._message.set_text(null==e?"null":""+e));for(var i=0;i<4;){var n=i++;this._bars.addChild(this._createBar(n<t?1:n==t&&s?2:3,41*n+8))}},_getPrice:function(t){t<0&&(t=0),4<t&&(t=4);return[0,100,300,600,1200][t]},buy:function(){var t=this._session.getUpgrade(this._type),e=this._getPrice(t+1);e<=this._session.coins&&(this._session.coins-=e,this._session.setUpgrade(this._type,t+1),this.configure(this._session.getUpgrade(this._type)),this._kernel.audio.start("Upgrade",Jt.INTERFACE,0,0,.5))},_reduce:function(){this._session.setUpgrade(this._type,this._session.getUpgrade(this._type)-1),this.configure(this._session.getUpgrade(this._type))},__class__:is});var ns=function(t,e){null==e&&(e=1),Be.call(this,t,null,null,!1),this.set_alpha(e)};(s["b10gph.gui.Vignette"]=ns).__name__=["b10gph","gui","Vignette"],ns.__super__=Be,ns.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/Vignette.png")),this._context.addChild(this._bitmap)},set_alpha:function(t){return this._bitmap.alpha=t},__class__:ns,__properties__:t(Be.prototype.__properties__,{set_alpha:"set_alpha"})});var rs=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),this._session=t.get_session(),this._assets=t.assets,this._factory=t.factory,this._system=t.system,F.call(this,t,e,s=!0,i,n)};(s["b10gph.scenes.AScene"]=rs).__name__=["b10gph","scenes","AScene"],rs.__super__=F,rs.prototype=t(F.prototype,{_init:function(){F.prototype._init.call(this),this._easyTweezers=[],this._kernel.overlay.get_pauseEntity().setAgenda(Qt.STANDARD),this._factory.preventDefaultForKeys([te.SPACE]),this._kernel.audio.start("MusicMenu",Jt.MUSIC,-1,0,.5,null,!0)},_disposer:function(){this._factory.allowDefaultForKeys([te.SPACE]),F.prototype._disposer.call(this)},_pressContinue:function(){this._kernel.log("button: continue: "+z.string(this.type));var t=this._factory.getNextSceneType(this.type);this.type==re.RESULTS&&4==this._session.level&&(t=re.INTERSTITIAL),this._kernel.inputs.keyboard.getIsKeyDown(te.SQUARELEFT)&&this._kernel.inputs.keyboard.getIsKeyDown(te.SQUARERIGHT)&&this._session.setIsTester(!this._session.get_isTester());var e=ai(ni=this._kernel.scenes,ni.setScene),s=t;this._outro(function(){e(s)})},_pressReset:function(){this._kernel.log("button: reset: "+z.string(this.type));var t=this._session;t._data={},t._resetter(),t._setter();var e=ai(ni=this._kernel.scenes,ni.setScene);this._outro(function(){e(re.MENU)})},_pressInstructions:function(){this._kernel.log("button: instructions");var t=ai(ni=this._kernel.scenes,ni.setScene);this._outro(function(){t(re.INSTRUCTIONS)})},_pressWebsite:function(){var e=this;this._kernel.log("url: website"),this._kernel.log("button: website"),ms.delay(function(){var t=e._kernel.getConfig("settings.urls.website");window.top.location.href=z.string(t)},500)},_pressAuthor:function(){var e=this;this._kernel.log("button: author"),ms.delay(function(){var t=e._kernel.getConfig("settings.urls.author");window.top.location.href=z.string(t)},500)},_pressSocial:function(t){null==t&&(t=!1),this._kernel.log("button: social");var e=this._session.highScore,s=window.top.location.href;this._kernel.isLocal&&(s=this._kernel.getConfig("settings.urls.website"));var i="Can you beat my GRAND PRIX HERO personal best of "+e+"? #gphero",n=i+" by @b10bgames - Play in your browser here "+s,r="";if(t){r="http://www.facebook.com/sharer/sharer.php?u=__URL__&t=__MESSAGE__";var a=encodeURIComponent(s);r=E.replace(r,"__URL__",a);var _=encodeURIComponent(i);r=E.replace(r,"__MESSAGE__",_)}else{r="https://twitter.com/intent/tweet?text=__MESSAGE__";var o=encodeURIComponent(n);r=E.replace(r,"__MESSAGE__",o)}ms.delay(function(){window.top.location.href=r},500)},_outro:function(t){this._isOutroCalled||(this._isOutroCalled=!0,null!=t&&t())},_addBg:function(t,e,s){null==s&&(s=!1),null==e&&(e=!0),null==t&&(t=1),this.addEntity(new Ye(this._kernel,this._assets.getAsset(s?"assets/gui/SceneBgC.jpg":e?"assets/gui/SceneBgA.png":"assets/gui/SceneBgB.png")),null,!0,t),this.addEntity(new ns(this._kernel,.5),null,!0,t+1)},_addFg:function(t,e){null==e&&(e=!0),null==t&&(t=100);var s=this;this._fgHorizontal=new Fe(this._kernel,this._assets.getAsset("assets/gui/SceneFgHorizontal.png")),this._fgVertical=new Fe(this._kernel,this._assets.getAsset("assets/gui/SceneFgVertical.png")),this.addEntity(this._fgVertical,null,!0,t+1),this.addEntity(new js(this._kernel,function(t){s._fgVertical.set_y(t)},this._factory.height,this._fgVertical.y,750,1e3,null,Gs.EASE_OUT,Vs.EXPONENTIAL)),e&&(this.addEntity(this._fgHorizontal,null,!0,t),this.addEntity(new js(this._kernel,function(t){s._fgHorizontal.set_x(t)},-this._factory.width,this._fgHorizontal.x,500,1e3,null,Gs.EASE_OUT,Vs.EXPONENTIAL)))},_addButtons:function(t,e,s,i,n){null==n&&(n=0),null==i&&(i=0),null==t&&(t=110);var r=this;this._buttonRight=e,this._buttonLeft=s,this._buttonRight.setPosition(this._factory.width-200-30,this._factory.height-65-18),this.addEntity(this._buttonRight,null,!0,t),this.addEntity(new js(this._kernel,function(t){r._buttonRight.set_y(t)},this._factory.height+60,this._buttonRight.y,i+1200,2e3,null,Gs.EASE_OUT,Vs.ELASTIC())),null!=this._buttonLeft&&(this._buttonLeft.setPosition(this._buttonRight.x-210,this._factory.height-65-18),this.addEntity(this._buttonLeft,null,!0,t+1),this.addEntity(new js(this._kernel,function(t){r._buttonLeft.set_y(t)},this._factory.height+60,this._buttonLeft.y,n+1400,2e3,null,Gs.EASE_OUT,Vs.ELASTIC())))},_defaultOutro:function(t){var e=this;if(!this._isOutroCalled){this._isOutroCalled=!0;for(var s=0,i=this.getEntitiesByClass(js);s<i.length;){var n=i[s];++s,n.remove()}this._easyTweez(!1),null!=this._buttonLeft&&this.addEntity(new js(this._kernel,function(t){e._buttonLeft.set_y(t)},this._buttonLeft.y,this._factory.height,0,1e3,null,Gs.EASE_IN,Vs.BACK())),this.addEntity(new js(this._kernel,function(t){e._buttonRight.set_y(t)},this._buttonRight.y,this._factory.height,100,1e3,null,Gs.EASE_IN,Vs.BACK(),t)),this.addEntity(new js(this._kernel,function(t){e._fgHorizontal.set_x(t)},this._fgHorizontal.x,-this._factory.width,250,500,null,Gs.EASE_IN,Vs.EXPONENTIAL)),this.addEntity(new js(this._kernel,function(t){e._fgVertical.set_y(t)},this._fgVertical.y,this._factory.height,500,500,null,Gs.EASE_IN,Vs.EXPONENTIAL)),this._kernel.audio.start("Transition",Jt.INTERFACE,0,0,.25),this._kernel.isDebug&&t()}},_easyTweez:function(t){null==t&&(t=!0);for(var e=0,s=this._easyTweezers;e<s.length;){var i=[s[e]];++e,t?i[0].isVerticalIn?this.addEntity(new js(this._kernel,function(e){return function(t){e[0].guiEntity.set_y(t)}}(i),-this._factory.height+i[0].guiEntity.y,i[0].guiEntity.y,500+100*i[0].sequence,2e3,null,Gs.EASE_OUT,Vs.QUARTIC)):this.addEntity(new js(this._kernel,function(e){return function(t){e[0].guiEntity.set_x(t)}}(i),this._factory.width+i[0].guiEntity.x,i[0].guiEntity.x,500+100*i[0].sequence,2e3,null,Gs.EASE_OUT,Vs.QUARTIC)):this.addEntity(new js(this._kernel,function(e){return function(t){e[0].guiEntity.set_x(t)}}(i),i[0].guiEntity.x,-1.5*this._factory.width+i[0].guiEntity.x,50*i[0].sequence,500,null,Gs.EASE_IN,Vs.BACK()))}},_addEasyTweez:function(t,e,s){null==s&&(s=!0),this._easyTweezers.push({guiEntity:t,sequence:e,isVerticalIn:s})},_getLocationType:function(t){return et.createEnumIndex(Te,t%Te.__constructs__.slice().length)},_getPoints:function(t){var e=[0,50,40,35,32,30,28,26,24,22,20,19,18];return e[t%e.length]},_getRank:function(t){var e;switch(t){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break;default:e="th"}switch(t){case 1:return{rank:"good",message:z.string(this._kernel.getConfig("gui.rank.good")),ending:e};case 2:case 3:return{rank:"ok",message:z.string(this._kernel.getConfig("gui.rank.ok")),ending:e};default:return{rank:"poor",message:z.string(this._kernel.getConfig("gui.rank.poor")),ending:e}}},__class__:rs});var as=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.Game"]=as).__name__=["b10gph","scenes","Game"],as.__super__=rs,as.prototype=t(rs.prototype,{_init:function(){var e=this;if(rs.prototype._init.call(this),this.isPauseable=!0,this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this._session.cache.totalPlays++,this.addEntity(this._hud=new Xe(this._kernel),null,!0,100),this.addEntity(this._location=new Ie(this._kernel,this._getLocationType(this._session.level)),null,!0,10),this._session.get_isTester()){var t=ai(this,this._handleFinishLine),s=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.testMode.finish"),.15*(this._kernel.factory.width-200),this._kernel.factory.height-80,null,function(){return t(null,null)}),i=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.testMode.skip"),.85*(this._kernel.factory.width-200),this._kernel.factory.height-80,null,ai(this,this._gameOver));this._addButtons(null,i,s,1e3,1e3)}this._kernel.messenger.addSubscriber(this._entity,this._factory.MESSAGE_FINISH_LINE,ai(this,this._handleFinishLine),null,null,!0),this._kernel.audio.stop(null,Jt.MUSIC),this._kernel.audio.start("MusicGame",Jt.MUSIC,-1,0,.05,0),this._kernel.audio.start("Engines",Jt.EFFECTS,0,0,1,null,!0),this._kernel.audio.start("VocalStart",Jt.INTERFACE,0,0,1,null,!0),this.addEntity(new js(this._kernel,function(t){e._kernel.audio.transform("MusicGame",Jt.MUSIC,t)},.05,.75,2e3,8e3)),this._kernel.log((1<this._session.cache.totalPlays?"replay":"play")+": "+z.string(this._location.type))},_createDelay:function(t,e){null==e&&(e=1e3),null==this._delay&&this.addEntity(this._delay=new Xt(this._kernel,t,e))},_handleFinishLine:function(t,e){for(var s=0,i=this.getEntitiesByClass(Ge);s<i.length;){var n=i[s];++s,n.isDisposed||(n.isDisposed=!0,n.set_isActive(!1),n._disposer())}var r=this._location.getScore();this._hud.configureMessage(this._getRank(r).message),this._session.setScore(this._session.level,r),this._session.level++;var a=this._getRank(r).rank;this._kernel.log("rank: "+a+": "+z.string(this._location.type)),this._createDelay(ai(this,this._gameOver),5e3),this._kernel.overlay.flash(500,!0,.5,16777215),this._kernel.audio.stop("MusicGame",Jt.MUSIC),this._kernel.audio.start("Driveby1",Jt.MUSIC,1,0,.5),this._kernel.audio.start("Engines",Jt.EFFECTS,0,0,.5);this._tools;return this._kernel.audio.start("VocalRank"+(a.charAt(0).toUpperCase()+$.substr(a,1,null).toLowerCase()),Jt.INTERFACE,0,0,1,null,!0),this._kernel.audio.start(r<=3?"MusicWin":"MusicLose",Jt.INTERFACE,1,0,.5),this.addEntity(new ns(this._kernel,.65),null,!0,90),!1},_gameOver:function(){this._kernel.scenes.next()},_updater:function(t){null==t&&(t=0),rs.prototype._updater.call(this,t),this._hud.configureScore(this._location.getScore()),this._hud.configureProgress(this._location.getCars())},_disposer:function(){this._kernel.audio.stop(null,Jt.MUSIC);var t=this._session;t.saveCount++,t._setter(),t._savedData._____VERSION=t._version,t._savedData[t.id]=t._data,t._driverSave(),rs.prototype._disposer.call(this)},__class__:as});var _s=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.Instructions"]=_s).__name__=["b10gph","scenes","Instructions"],_s.__super__=rs,_s.prototype=t(rs.prototype,{_init:function(){rs.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this._addBg(null,!1),this._addFg();var t=new ss(this._kernel,this._kernel.getConfig("gui.scenes.instructions.title"));this.addEntity(t,null,!0,19);var e=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.play"),0,0,this._kernel.factory.keyNext,ai(this,this._pressContinue));this._addButtons(null,e);var s=new Fe(this._kernel,this._assets.getAsset(this._system.isDesktop?"assets/gui/InstructionsA.png":"assets/gui/InstructionsB.png"));this.addEntity(s,null,!0,20),s.setPosition((this._factory.width-s.width)/2,(this._factory.height-s.height)/2);var i=new es(this._kernel,200,300,z.string(this._kernel.getConfig("gui.scenes.instructions.message")),this._factory.createTextStyle(_e.BODY),!0,!1,.5);i.setPosition(this._kernel.factory.width-i.width-20,140),this.addEntity(i,null,!0,21),this._addEasyTweez(t,0),this._addEasyTweez(s,1,!1),this._addEasyTweez(i,2,!1),this._easyTweez(!0)},_outro:function(t){this._defaultOutro(t)},__class__:_s});var os=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.Interstitial"]=os).__name__=["b10gph","scenes","Interstitial"],os.__super__=rs,os.prototype=t(rs.prototype,{_init:function(){var e=this;rs.prototype._init.call(this),this._kernel.audio.stop("MusicMenu",Jt.MUSIC),this._addBg(null,!1,!0),this._addFg(null,!1),this._logo=new Je(this._kernel),this._logo.setPosition(270,220),this.addEntity(this._logo,null,!0,100),this.addEntity(new js(this._kernel,function(t){e._logo.set_x(t)},-this._factory.width,this._logo.x,1e3,2e3,null,Gs.EASE_OUT,Vs.ELASTIC())),this.addEntity(new Xt(this._kernel,function(){e._kernel.audio.start("Driveby2",Jt.EFFECTS,0,0,1)},1e3));var t=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.replay"),0,0,this._kernel.factory.keyNext,ai(this,this._pressContinue)),s=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.website"),0,0,null,ai(this,this._pressWebsite));this._addButtons(null,s,t,6e3,8e3);var i=ai(this,this._pressSocial);this._buttonTwitter=new Ve(this._kernel,!1,555,155,null,function(){i(!1)}),this.addEntity(this._buttonTwitter,null,!0,30);var n=ai(this,this._pressSocial);this._buttonFacebook=new Ve(this._kernel,!0,625,155,null,function(){n(!0)}),this.addEntity(this._buttonFacebook,null,!0,30),this.addEntity(new js(this._kernel,function(t){e._buttonTwitter.set_x(t)},this._factory.width,this._buttonTwitter.x,3e3,2e3,null,Gs.EASE_OUT,Vs.ELASTIC())),this.addEntity(new js(this._kernel,function(t){e._buttonFacebook.set_x(t)},this._factory.width,this._buttonFacebook.x,3100,2e3,null,Gs.EASE_OUT,Vs.ELASTIC()));var r=this._getPoints(this._session.scoreLevel0)+this._getPoints(this._session.scoreLevel1)+this._getPoints(this._session.scoreLevel2)+this._getPoints(this._session.scoreLevel3),a=new es(this._kernel,270,300,z.string(z.string(this._kernel.getConfig("gui.scenes.interstitial.total"))+" "+r+" / 200").toUpperCase(),this._factory.createTextStyle(_e.OVERSIZED),!0,!1,1);a.setPosition(this._kernel.factory.width-a.width-40,85),this.addEntity(a,null,!0,21);var _=new es(this._kernel,270,300,z.string(z.string(this._kernel.getConfig("gui.scenes.interstitial.personalBest"))+" "+this._session.highScore+" / 200").toUpperCase(),this._factory.createTextStyle(_e.OVERSIZED),!0,!1,1);_.setPosition(this._kernel.factory.width-_.width-40,a.y+25),this.addEntity(_,null,!0,21),this._addEasyTweez(a,3,!1),this._addEasyTweez(_,4,!1),this._easyTweez()},_outro:function(t){var e=this;this._defaultOutro(t),this._kernel.audio.start("Driveby1",Jt.INTERFACE,0,0,.5,0,!0),this.addEntity(new js(this._kernel,function(t){e._logo.set_x(t)},this._logo.x,this._factory.width,0,1e3,null,Gs.EASE_IN,Vs.BACK())),this.addEntity(new js(this._kernel,function(t){e._buttonTwitter.set_x(t)},this._buttonTwitter.x,-200,100,500,null,Gs.EASE_IN,Vs.BACK())),this.addEntity(new js(this._kernel,function(t){e._buttonFacebook.set_x(t)},this._buttonFacebook.x,-200,0,500,null,Gs.EASE_IN,Vs.BACK()))},__class__:os});var hs=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.Intro"]=hs).__name__=["b10gph","scenes","Intro"],hs.__super__=rs,hs.prototype=t(rs.prototype,{_init:function(){rs.prototype._init.call(this);var t=this._factory.createCanvas(this._factory.width,this._factory.height);this._destinationContext2d=t.getContext("2d",null),this._sourceImage=this._assets.getAsset("assets/location/RoadA.jpg"),this._sourceCanvas=this._factory.createCanvas(this._sourceImage.width,this._sourceImage.height),this._sourceCanvas.getContext("2d",null).drawImage(this._sourceImage,0,0)},_updater:function(t){if(null==t&&(t=0),rs.prototype._updater.call(this,t),1==this._updates){var e=this._stressTest(this._sourceImage),s=this._stressTest(this._sourceCanvas),i=this._stressTest(this._sourceCanvas),n=this._stressTest(this._sourceImage),r=e+n,a=s+i,_=Math.round(100*r/a)/100,o=_<1.7,h=Math.round(100*(o?a:r)/300);this._session.cache.isDrawImageUsingCanvas=o,this._session.cache.benchmark=Math.round(h),this._session.cache.debugMessage=(null==_?"null":""+_)+" | "+this._session.cache.benchmark;"Image1: "+e+"\n","Canvas2: "+s+"\n","Image2: "+n+"\n","Canvas2: "+i+"\n","Ratio: "+_+"\n","\nTherefore ... isDrawImageUsingCanvas = "+(null==o?"null":""+o),"\n\nWith a benchmark of "+h}this._kernel.scenes.next()},_stressTest:function(t){var e=0,s=Math.round((new Date).getTime()/1e3*1e3);this._destinationContext2d.restore(),this._destinationContext2d.clearRect(0,0,this._factory.width,this._factory.height);for(var i=s;i<s+100;)i=Math.round((new Date).getTime()/1e3*1e3),this._destinationContext2d.rotate(Math.random()-.5),this._destinationContext2d.drawImage(t,0,0,512,4,0,z.random(256),2048,16),this._destinationContext2d.drawImage(t,0,0,512,4,0,z.random(256),828.416,6.472),this._destinationContext2d.drawImage(t,0,0,512,64,0,z.random(256),128,16),this._destinationContext2d.drawImage(t,0,0,512,64,0,z.random(256),316.4400494437577,39.55500618046971),++e;return e},__class__:hs});var ls=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.Menu"]=ls).__name__=["b10gph","scenes","Menu"],ls.__super__=rs,ls.prototype=t(rs.prototype,{_init:function(){var e=this;rs.prototype._init.call(this),this._kernel.audio.start("Engines",Jt.EFFECTS,0,0,.5),this._addBg(null,!0),this._addFg(null,!1),this._logo=new Je(this._kernel),this._logo.setPosition(270,220),this.addEntity(this._logo,null,!0,100),this.addEntity(new js(this._kernel,function(t){e._logo.set_x(t)},-this._factory.width,this._logo.x,2500,2e3,null,Gs.EASE_OUT,Vs.ELASTIC())),this.addEntity(new Xt(this._kernel,function(){e._kernel.audio.start("Driveby2",Jt.EFFECTS,0,0,1)},2500));var t=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.play"),0,0,this._kernel.factory.keyNext,ai(this,this._pressContinue)),s=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.instructions"),0,0,null,ai(this,this._pressInstructions));this._addButtons(null,t,s),this._easyTweez()},_outro:function(t){var e=this;this._defaultOutro(t),this._kernel.audio.start("Driveby1",Jt.INTERFACE,0,0,.5,0,!0),this.addEntity(new js(this._kernel,function(t){e._logo.set_x(t)},this._logo.x,this._factory.width,0,1e3,null,Gs.EASE_IN,Vs.BACK()))},__class__:ls});var cs=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.Results"]=cs).__name__=["b10gph","scenes","Results"],cs.__super__=rs,cs.prototype=t(rs.prototype,{_init:function(){rs.prototype._init.call(this),this._isFinished=4==this._session.level,this._addBg(null,!1),this._addFg();var t=new ss(this._kernel,E.replace(z.string(this._kernel.getConfig("gui.scenes.results.title")),"__X__",z.string(this._session.level)));this.addEntity(t,null,!0,19);var e=new je(this._kernel);e.setPosition(585,53),this.addEntity(e,null,!0,30);var s=new Ge(this._kernel,this._kernel.getConfig(this._isFinished?"gui.buttons.finished":"gui.buttons.continue"),0,0,this._kernel.factory.keyNext,ai(this,this._pressContinue));this._addButtons(null,s);var i=new ts(this._kernel,1,this._kernel.getConfig("gui.scenes.results.table.location"),this._kernel.getConfig("gui.scenes.results.table.position"),this._kernel.getConfig("gui.scenes.results.table.points"));i.setPosition(260,110),this.addEntity(i,null,!0,20);var n=this._createTableScoreRow(0,260,135);this.addEntity(n,null,!0,20);var r=this._createTableScoreRow(1,260,160);this.addEntity(r,null,!0,20);var a=this._createTableScoreRow(2,260,185);this.addEntity(a,null,!0,20);var _=this._createTableScoreRow(3,260,210);this.addEntity(_,null,!0,20);var o=this._getPoints(this._session.scoreLevel0)+this._getPoints(this._session.scoreLevel1)+this._getPoints(this._session.scoreLevel2)+this._getPoints(this._session.scoreLevel3),h=new ts(this._kernel,1,this._kernel.getConfig("gui.scenes.results.table.total"),"",null==o?"null":""+o);h.setPosition(260,235),this.addEntity(h,null,!0,20),4<=this._session.level&&this._session.highScore<o&&(this._session.highScore=o),this._session.coins+=10*this._getPoints(this._session.getScore(this._session.level-1));var l=new ts(this._kernel,3,this._kernel.getConfig("gui.scenes.results.table.personalBest"),"",z.string(this._session.highScore));l.setPosition(260,260),this.addEntity(l,null,!0,20);var c=this._session.getScore(this._session.level-1),u=this._getRank(c),d=this._getPoints(c),p=u.message+"<br/><br/>"+E.replace(E.replace(this._kernel.getConfig("gui.scenes.results.message"),"__SCORE__",c+u.ending),"__POINTS__",null==d?"null":""+d),g=new es(this._kernel,180,300,p,this._factory.createTextStyle(_e.BODY),!0,!1,.5);g.setPosition(this._kernel.factory.width-g.width-20,140),this.addEntity(g,null,!0,21),this._addEasyTweez(t,0),this._addEasyTweez(e,0),this._addEasyTweez(i,1,!1),this._addEasyTweez(n,2,!1),this._addEasyTweez(r,3,!1),this._addEasyTweez(a,4,!1),this._addEasyTweez(_,5,!1),this._addEasyTweez(h,6,!1),this._addEasyTweez(l,7,!1),this._addEasyTweez(g,8,!1),this._easyTweez(!0)},_outro:function(t){this._defaultOutro(t),this._isFinished&&(this._kernel.audio.stop(null,Jt.MUSIC),this._kernel.audio.start("MusicWin",Jt.MUSIC,1,0,.5))},_createTableScoreRow:function(t,e,s){var i;switch(t){case 0:i="gui.locations.a";break;case 1:i="gui.locations.b";break;case 2:i="gui.locations.c";break;default:i="gui.locations.d"}var n=this._kernel.getConfig(i),r=this._session.getScore(t),a=r+this._getRank(r).ending,_=z.string(this._getPoints(r));0==r&&(_=a="-");var o=new ts(this._kernel,2,t+1+". "+n,a,_);return o.setPosition(e,s),o},__class__:cs});var us=function(t){Yt.call(this,t,500)};(s["b10gph.scenes.SceneTransition"]=us).__name__=["b10gph","scenes","SceneTransition"],us.__super__=Yt,us.prototype=t(Yt.prototype,{_init:function(){Yt.prototype._init.call(this)},__class__:us});var ds=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.SelectLevel"]=ds).__name__=["b10gph","scenes","SelectLevel"],ds.__super__=rs,ds.prototype=t(rs.prototype,{_init:function(){rs.prototype._init.call(this),this._addBg(null,!1),this._addFg(),3<this._session.level&&(this._session.level=0),0==this._session.level&&this._session.resetGame(),this._title=new ss(this._kernel,""),this.addEntity(this._title,null,!0,19);var t=190;this.addEntity(this._locationA=new Qe(this._kernel,Te.LOCATION_A,t),null,!0,25),this.addEntity(this._locationB=new Qe(this._kernel,Te.LOCATION_B,t+=110),null,!0,25),this.addEntity(this._locationC=new Qe(this._kernel,Te.LOCATION_C,t+=110),null,!0,25),this.addEntity(this._locationD=new Qe(this._kernel,Te.LOCATION_D,t+=110),null,!0,25),this._configureLevel(this._session.level);var e=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.selectLevel"),0,0,this._kernel.factory.keyNext,ai(this,this._pressContinue));this._addButtons(null,e),this._addEasyTweez(this._title,0),this._addEasyTweez(this._locationA,1,!1),this._addEasyTweez(this._locationB,2,!1),this._addEasyTweez(this._locationC,3,!1),this._addEasyTweez(this._locationD,4,!1),this._easyTweez()},_updater:function(t){null==t&&(t=0),rs.prototype._updater.call(this,t),this._session.get_isTester()&&(this._kernel.inputs.joypad.getIsButtonPress(qt.RIGHT)&&this._configureLevel(this._session.level+1),this._kernel.inputs.joypad.getIsButtonPress(qt.LEFT)&&this._configureLevel(this._session.level-1))},_outro:function(t){this._kernel.audio.stop(null,Jt.MUSIC),this._kernel.audio.start("Engines",Jt.EFFECTS,0,0,1),this._defaultOutro(t)},_configureLevel:function(t){if(!this._isOutroCalled){this._tools;var e,s=t;e=s-4*Math.floor(s/4),this._session.level=0|e;var i=this._getLocationType(this._session.level),n=E.replace(z.string(this._kernel.getConfig("gui.scenes.selectLevel.title")),"__X__",z.string(this._session.level+1));switch(this._title.configure(n),this._locationA.configure(!1),this._locationB.configure(!1),this._locationC.configure(!1),this._locationD.configure(!1),i[1]){case 0:this._locationA.configure(!0);break;case 1:this._locationB.configure(!0);break;case 2:this._locationC.configure(!0);break;case 3:this._locationD.configure(!0)}}},_pressLevelPreview:function(t){this._configureLevel(t),this._pressContinue()},__class__:ds});var ps=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),rs.call(this,t,e,s,i,n)};(s["b10gph.scenes.Shop"]=ps).__name__=["b10gph","scenes","Shop"],ps.__super__=rs,ps.prototype=t(rs.prototype,{_init:function(){rs.prototype._init.call(this),this._addBg(null,!1),this._addFg();var t=new ss(this._kernel,this._kernel.getConfig("gui.scenes.shop.title"));this.addEntity(t,null,!0,19);var e=new je(this._kernel);e.setPosition(585,53),this.addEntity(e,null,!0,30);var s=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.continue"),0,0,this._kernel.factory.keyNext,ai(this,this._pressContinue)),i=new Ge(this._kernel,this._kernel.getConfig("gui.buttons.reset"),0,0,null,ai(this,this._pressReset));this._addButtons(null,s,1==this._session.getPercentageComplete()?i:null);var n=130,r=this._createUpgrade(Ae.UPGRADE_SPEED,250,n);this.addEntity(r,null,!0,22);var a=this._createUpgrade(Ae.UPGRADE_STEERING,250,n+=40);this.addEntity(a,null,!0,22);var _=this._createUpgrade(Ae.UPGRADE_ACCELERATION,250,n+=40);this.addEntity(_,null,!0,22);var o=this._createUpgrade(Ae.UPGRADE_BOOST,250,n+=40);this.addEntity(o,null,!0,22),this._addEasyTweez(t,0),this._addEasyTweez(e,0),this._addEasyTweez(r,1,!1),this._addEasyTweez(a,2,!1),this._addEasyTweez(_,3,!1),this._addEasyTweez(o,4,!1),this._easyTweez(!0)},_outro:function(t){this._defaultOutro(t)},_createUpgrade:function(t,e,s){var i=new is(this._kernel,t);return i.setPosition(e,s),i},__class__:ps});var gs=function(){};(s["haxe.IMap"]=gs).__name__=["haxe","IMap"];var fs=function(t){this.url=t,this.headers=new tt,this.params=new tt,this.async=!0,this.withCredentials=!1};(s["haxe.Http"]=fs).__name__=["haxe","Http"],fs.prototype={request:function(t){var i=this;i.responseData=null;var n=this.req=Bs.createXMLHttpRequest(),e=function(t){if(4==n.readyState){var e;try{e=n.status}catch(t){e=null}if(null!=e&&"undefined"!=typeof window){var s=window.location.protocol.toLowerCase();new g("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(s)&&(e=null!=n.responseText?200:404)}if(null==e&&(e=null),null!=e&&i.onStatus(e),null!=e&&200<=e&&e<400)i.req=null,i.onData(i.responseData=n.responseText);else if(null==e)i.req=null,i.onError("Failed to connect or resolve host");else switch(e){case 12007:i.req=null,i.onError("Unknown host");break;case 12029:i.req=null,i.onError("Failed to connect to host");break;default:i.req=null,i.responseData=n.responseText,i.onError("Http Error #"+n.status)}}};this.async&&(n.onreadystatechange=e);var s=this.postData;if(null!=s)t=!0;else for(var r=this.params.h;null!=r;){var a=r.item;r=r.next;var _=a;null==s?s="":s+="&";var o=_.param,h=encodeURIComponent(o)+"=",l=_.value;s+=h+encodeURIComponent(l)}try{if(t)n.open("POST",this.url,this.async);else if(null!=s){var c=this.url.split("?").length<=1;n.open("GET",this.url+(c?"?":"&")+s,this.async),s=null}else n.open("GET",this.url,this.async)}catch(t){return t instanceof Ls&&(t=t.val),i.req=null,void this.onError(t.toString())}n.withCredentials=this.withCredentials,!f.exists(this.headers,function(t){return"Content-Type"==t.header})&&t&&null==this.postData&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var u=this.headers.h;null!=u;){var d=u.item;u=u.next;var p=d;n.setRequestHeader(p.header,p.value)}n.send(s),this.async||e()},onData:function(t){},onError:function(t){},onStatus:function(t){},__class__:fs};var Es=function(){};(s["haxe.Log"]=Es).__name__=["haxe","Log"],Es.trace=function(t,e){Ms.__trace(t,e)};var ys=function(){};(s["haxe.Resource"]=ys).__name__=["haxe","Resource"],ys.getString=function(t){for(var e=0,s=ys.content;e<s.length;){var i=s[e];if(++e,i.name==t)return null!=i.str?i.str:bs.decode(i.data).toString()}return null};var vs=function(){this.buf=new U,this.cache=[],this.useCache=vs.USE_CACHE,this.useEnumIndex=vs.USE_ENUM_INDEX,this.shash=new Ns,this.scount=0};(s["haxe.Serializer"]=vs).__name__=["haxe","Serializer"],vs.run=function(t){var e=new vs;return e.serialize(t),e.toString()},vs.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash,s=null!=di[t]?e.getReserved(t):e.h[t];if(null!=s)return this.buf.b+="R",void(this.buf.b+=null==s?"null":""+s);var i=this.shash,n=this.scount++;null!=di[t]?i.setReserved(t,n):i.h[t]=n,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=z.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,s=0,i=this.cache.length;s<i;){var n=s++,r=this.cache[n];if(typeof r==e&&r==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,s=V.fields(t);e<s.length;){var i=s[e];++e,this.serializeString(i),this.serialize(V.field(t,i))}this.buf.b+="g"},serialize:function(t){var e=et.typeof(t);switch(e[1]){case 0:this.buf.b+="n";break;case 1:var s=t;if(0==s)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==s?"null":""+s;break;case 2:var i=t;isNaN(i)?this.buf.b+="k":isFinite(i)?(this.buf.b+="d",this.buf.b+=null==i?"null":""+i):this.buf.b+=i<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(Ms.__instanceof(t,ci)){var n=et.getClassName(t);this.buf.b+="A",this.serializeString(n)}else if(Ms.__instanceof(t,ui))this.buf.b+="B",this.serializeString(et.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw new Ls("Cannot serialize function");case 6:var r=e[2];if(r==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(r){case Array:var a=0;this.buf.b+="a";for(var _=0,o=t.length;_<o;){var h=_++;null==t[h]?++a:(0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a),a=0),this.serialize(t[h]))}0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a)),this.buf.b+="h";break;case Date:var l=t;this.buf.b+="v",this.buf.b+=z.string(l.getTime());break;case tt:this.buf.b+="l";for(var c=t.h;null!=c;){var u=c.item;c=c.next;var d=u;this.serialize(d)}this.buf.b+="h";break;case Is:this.buf.b+="q";for(var p=t,g=p.keys();g.hasNext();){var f=g.next();this.buf.b+=":",this.buf.b+=null==f?"null":""+f,this.serialize(p.h[f])}this.buf.b+="h";break;case ks:this.buf.b+="M";for(var E=t,y=E.keys();y.hasNext();){var v=y.next(),m=V.field(v,"__id__");V.deleteField(v,"__id__"),this.serialize(v),v.__id__=m,this.serialize(E.h[v.__id__])}this.buf.b+="h";break;case Ns:this.buf.b+="b";for(var w=t,S=w.keys();S.hasNext();){var T=S.next();this.serializeString(T),this.serialize(null!=di[T]?w.getReserved(T):w.h[T])}this.buf.b+="h";break;case Ts:var b=t;this.buf.b+="s",this.buf.b+=z.string(Math.ceil(8*b.length/6)),this.buf.b+=":";var C=0,A=b.length-2,R=vs.BASE64_CODES;if(null==R){var I=vs.BASE64.length;R=new Array(I);for(var k=0,N=vs.BASE64.length;k<N;){var x=k++;R[x]=$.cca(vs.BASE64,x)}vs.BASE64_CODES=R}for(;C<A;){var D=b.b[C++],O=b.b[C++],U=b.b[C++];this.buf.b+=String.fromCharCode(R[D>>2]),this.buf.b+=String.fromCharCode(R[63&(D<<4|O>>4)]),this.buf.b+=String.fromCharCode(R[63&(O<<2|U>>6)]),this.buf.b+=String.fromCharCode(R[63&U])}if(C==A){var P=b.b[C++],L=b.b[C++];this.buf.b+=String.fromCharCode(R[P>>2]),this.buf.b+=String.fromCharCode(R[63&(P<<4|L>>4)]),this.buf.b+=String.fromCharCode(R[L<<2&63])}else if(C==A+1){var M=b.b[C++];this.buf.b+=String.fromCharCode(R[M>>2]),this.buf.b+=String.fromCharCode(R[M<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(et.getClassName(r)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(et.getClassName(r)),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:var B=e[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=z.string(this.useEnumIndex?"j":"w"),this.serializeString(et.getEnumName(B)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=z.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";var F=t.length;this.buf.b+=z.string(F-2);for(var Y=2,H=F;Y<H;){var G=Y++;this.serialize(t[G])}this.useCache&&this.cache.push(t);break;default:throw new Ls("Cannot serialize "+z.string(t))}},__class__:vs};var ms=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};(s["haxe.Timer"]=ms).__name__=["haxe","Timer"],ms.delay=function(t,e){var s=new ms(e);return s.run=function(){s.stop(),t()},s},ms.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:ms};var ws=function(){};(s["haxe._Unserializer.DefaultResolver"]=ws).__name__=["haxe","_Unserializer","DefaultResolver"],ws.prototype={resolveClass:function(t){return et.resolveClass(t)},resolveEnum:function(t){return et.resolveEnum(t)},__class__:ws};var Ss=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=Ss.DEFAULT_RESOLVER;null==e&&(e=new ws,Ss.DEFAULT_RESOLVER=e),this.resolver=e};(s["haxe.Unserializer"]=Ss).__name__=["haxe","Unserializer"],Ss.initCodes=function(){for(var t=[],e=0,s=Ss.BASE64.length;e<s;){var i=e++;t[Ss.BASE64.charCodeAt(i)]=i}return t},Ss.run=function(t){return new Ss(t).unserialize()},Ss.prototype={readDigits:function(){for(var t=0,e=!1,s=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||57<i)break;t=10*t+(i-48),this.pos++}else{if(this.pos!=s)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(43<=e&&e<58||101==e||69==e))break;this.pos++}return parseFloat($.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw new Ls("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw new Ls("Invalid object key");var s=this.unserialize();t[e]=s}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw new Ls("Invalid enum format");var s=this.readDigits();if(0==s)return et.createEnum(t,e);for(var i=[];0<s--;)i.push(this.unserialize());return et.createEnum(t,e,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize(),e=this.resolver.resolveClass(t);if(null==e)throw new Ls("Class not found "+t);return e;case 66:var s=this.unserialize(),i=this.resolver.resolveEnum(s);if(null==i)throw new Ls("Enum not found "+s);return i;case 67:var n=this.unserialize(),r=this.resolver.resolveClass(n);if(null==r)throw new Ls("Class not found "+n);var a=et.createEmptyInstance(r);if(this.cache.push(a),a.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new Ls("Invalid custom data");return a;case 77:var _=new ks;this.cache.push(_);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var o=this.unserialize();_.set(o,this.unserialize())}return this.pos++,_;case 82:var h=this.readDigits();if(h<0||h>=this.scache.length)throw new Ls("Invalid string reference");return this.scache[h];case 97:this.buf;var l=[];for(this.cache.push(l);;){var c=this.buf.charCodeAt(this.pos);if(104==c){this.pos++;break}if(117==c){this.pos++;var u=this.readDigits();l[l.length+u-1]=null}else l.push(this.unserialize())}return l;case 98:var d=new Ns;this.cache.push(d);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var p=this.unserialize(),g=this.unserialize();null!=di[p]?d.setReserved(p,g):d.h[p]=g}return this.pos++,d;case 99:var f=this.unserialize(),E=this.resolver.resolveClass(f);if(null==E)throw new Ls("Class not found "+f);var y=et.createEmptyInstance(E);return this.cache.push(y),this.unserializeObject(y),y;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var v=this.unserialize(),m=this.resolver.resolveEnum(v);if(null==m)throw new Ls("Enum not found "+v);this.pos++;var w=this.readDigits(),S=m.__constructs__.slice()[w];if(null==S)throw new Ls("Unknown enum index "+v+"@"+w);var T=this.unserializeEnum(m,S);return this.cache.push(T),T;case 107:return NaN;case 108:var b=new tt;this.cache.push(b);for(this.buf;104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());return this.pos++,b;case 109:return-1/0;case 110:return null;case 111:var C={};return this.cache.push(C),this.unserializeObject(C),C;case 112:return 1/0;case 113:var A=new Is;this.cache.push(A);this.buf;for(var R=this.buf.charCodeAt(this.pos++);58==R;){var I=this.readDigits(),k=this.unserialize();A.h[I]=k,R=this.buf.charCodeAt(this.pos++)}if(104!=R)throw new Ls("Invalid IntMap format");return A;case 114:var N=this.readDigits();if(N<0||N>=this.cache.length)throw new Ls("Invalid reference");return this.cache[N];case 115:var x=this.readDigits(),D=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<x)throw new Ls("Invalid bytes length");var O=Ss.CODES;null==O&&(O=Ss.initCodes(),Ss.CODES=O);for(var U=this.pos,P=3&x,L=U+(x-P),M=new Ts(new pi(3*(x>>2)+(2<=P?P-1:0))),B=0;U<L;){var F=O[D.charCodeAt(U++)],Y=O[D.charCodeAt(U++)];M.b[B++]=255&(F<<2|Y>>4);var H=O[D.charCodeAt(U++)];M.b[B++]=255&(Y<<4|H>>2);var G=O[D.charCodeAt(U++)];M.b[B++]=255&(H<<6|G)}if(2<=P){var V=O[D.charCodeAt(U++)],z=O[D.charCodeAt(U++)];if(M.b[B++]=255&(V<<2|z>>4),3==P){var j=O[D.charCodeAt(U++)];M.b[B++]=255&(z<<4|j>>2)}}return this.pos+=x,this.cache.push(M),M;case 116:return!0;case 118:var W;if(48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4))W=$.strDate($.substr(this.buf,this.pos,19)),this.pos+=19;else{var X=this.readFloat();W=new Date(X)}return this.cache.push(W),W;case 119:var K=this.unserialize(),Q=this.resolver.resolveEnum(K);if(null==Q)throw new Ls("Enum not found "+K);var J=this.unserializeEnum(Q,this.unserialize());return this.cache.push(J),J;case 120:throw Ls.wrap(this.unserialize());case 121:var Z=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<Z)throw new Ls("Invalid string length");var q=$.substr(this.buf,this.pos,Z);return this.pos+=Z,q=decodeURIComponent(q.split("+").join(" ")),this.scache.push(q),q;case 122:return 0}throw this.pos--,new Ls("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Ss};var Ts=function(t){this.length=t.byteLength,this.b=new fi(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(s["haxe.io.Bytes"]=Ts).__name__=["haxe","io","Bytes"],Ts.alloc=function(t){return new Ts(new pi(t))},Ts.ofString=function(t){for(var e=[],s=0;s<t.length;){var i=t.charCodeAt(s++);55296<=i&&i<=56319&&(i=i-55232<<10|1023&t.charCodeAt(s++)),i<=127?e.push(i):(i<=2047?e.push(192|i>>6):(i<=65535?e.push(224|i>>12):(e.push(240|i>>18),e.push(128|i>>12&63)),e.push(128|i>>6&63)),e.push(128|63&i))}return new Ts(new fi(e).buffer)},Ts.ofData=function(t){var e=t.hxBytes;return null!=e?e:new Ts(t)},Ts.fastGet=function(t,e){return t.bytes[e]},Ts.prototype={getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new Ls(xs.OutsideBounds);for(var s="",i=this.b,n=String.fromCharCode,r=t,a=t+e;r<a;){var _=i[r++];if(_<128){if(0==_)break;s+=n(_)}else if(_<224)s+=n((63&_)<<6|127&i[r++]);else if(_<240){s+=n((31&_)<<12|(127&i[r++])<<6|127&i[r++])}else{var o=(15&_)<<18|(127&i[r++])<<12|(127&i[r++])<<6|127&i[r++];s+=n(55232+(o>>10)),s+=n(1023&o|56320)}}return s},toString:function(){return this.getString(0,this.length)},__class__:Ts};var bs=function(){};(s["haxe.crypto.Base64"]=bs).__name__=["haxe","crypto","Base64"],bs.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==$.cca(t,t.length-1);)t=$.substr(t,0,-1);return new Cs(bs.BYTES).decodeBytes(Ts.ofString(t))};var Cs=function(t){for(var e=t.length,s=1;1<<s<e;)++s;if(8<s||e!=1<<s)throw new Ls("BaseCode : base length must be a power of two.");this.base=t,this.nbits=s};(s["haxe.crypto.BaseCode"]=Cs).__name__=["haxe","crypto","BaseCode"],Cs.prototype={initTable:function(){for(var t=[],e=0;e<256;){t[e++]=-1}for(var s=0,i=this.base.length;s<i;){var n=s++;t[this.base.b[n]]=n}this.tbl=t},decodeBytes:function(t){var e=this.nbits;this.base;null==this.tbl&&this.initTable();for(var s=this.tbl,i=t.length*e>>3,n=new Ts(new pi(i)),r=0,a=0,_=0,o=0;o<i;){for(;a<8;){a+=e,r<<=e;var h=s[t.b[_++]];if(-1==h)throw new Ls("BaseCode : invalid encoded char");r|=h}a-=8,n.b[o++]=255&r>>a}return n},__class__:Cs};var As=function(t,e){this.elt=t,this.next=e};(s["haxe.ds.GenericCell"]=As).__name__=["haxe","ds","GenericCell"],As.prototype={__class__:As};var Rs=function(){};(s["haxe.ds.GenericStack"]=Rs).__name__=["haxe","ds","GenericStack"],Rs.prototype={remove:function(t){for(var e=null,s=this.head;null!=s;){if(s.elt==t){null==e?this.head=s.next:e.next=s.next;break}s=(e=s).next}return null!=s},iterator:function(){var e=this.head;return{hasNext:function(){return null!=e},next:function(){var t=e;return e=t.next,t.elt}}},__class__:Rs};var Is=function(){this.h={}};(s["haxe.ds.IntMap"]=Is).__name__=["haxe","ds","IntMap"],Is.__interfaces__=[gs],Is.prototype={keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return $.iter(t)},__class__:Is};var ks=function(){this.h={__keys__:{}}};(s["haxe.ds.ObjectMap"]=ks).__name__=["haxe","ds","ObjectMap"],ks.__interfaces__=[gs],ks.assignId=function(t){return t.__id__=++ks.count},ks.getId=function(t){return t.__id__},ks.prototype={set:function(t,e){var s=t.__id__||(t.__id__=++ks.count);this.h[s]=e,this.h.__keys__[s]=t},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return $.iter(t)},__class__:ks};var Ns=function(){this.h={}};(s["haxe.ds.StringMap"]=Ns).__name__=["haxe","ds","StringMap"],Ns.__interfaces__=[gs],Ns.prototype={setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=di[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return $.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:Ns};var xs=s["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};xs.Blocked=["Blocked",0],xs.Blocked.toString=i,(xs.Blocked.__enum__=xs).Overflow=["Overflow",1],xs.Overflow.toString=i,(xs.Overflow.__enum__=xs).OutsideBounds=["OutsideBounds",2],xs.OutsideBounds.toString=i,(xs.OutsideBounds.__enum__=xs).Custom=function(t){var e=["Custom",3,t];return e.__enum__=xs,e.toString=i,e};var Ds=function(){};(s["haxe.web.Request"]=Ds).__name__=["haxe","web","Request"],Ds.getParams=function(){for(var t=$.substr(window.location.search,1,null),e=new Ns,s=0,i=new g("[&;]","g").split(t);s<i.length;){var n=i[s];++s;var r=n.split("=");if(!(r.length<2)){var a=r.shift(),_=decodeURIComponent(a.split("+").join(" ")),o=r.join("="),h=decodeURIComponent(o.split("+").join(" "));null!=di[_]?e.setReserved(_,h):e.h[_]=h}}return e};var Os=function(t,e,s){this.xml=e,this.message=t,this.position=s,this.lineNumber=1;for(var i=this.positionAtLine=0,n=s;i<n;){var r=i++,a=e.charCodeAt(r);10==a?(this.lineNumber++,this.positionAtLine=0):13!=a&&this.positionAtLine++}};(s["haxe.xml.XmlParserException"]=Os).__name__=["haxe","xml","XmlParserException"],Os.prototype={toString:function(){return et.getClassName(Ms.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Os};var Us=function(){};(s["haxe.xml.Parser"]=Us).__name__=["haxe","xml","Parser"],Us.parse=function(t,e){null==e&&(e=!1);var s=P.createDocument();return Us.doParse(t,e,0,s),s},Us.doParse=function(t,e,s,i){null==s&&(s=0);for(var n=null,r=1,a=1,_=null,o=0,h=0,l=0,c=t.charCodeAt(s),u=new U,d=1,p=-1;c==c;){switch(r){case 0:switch(c){case 9:case 10:case 13:case 32:break;default:r=a;continue}break;case 1:if(60!=c){o=s,r=13;continue}r=0,a=2;break;case 2:switch(c){case 33:if(91==t.charCodeAt(s+1)){if("CDATA["!=$.substr(t,s+=2,6).toUpperCase())throw new Ls(new Os("Expected <![CDATA[",t,s));r=17,o=(s+=5)+1}else if(68==t.charCodeAt(s+1)||100==t.charCodeAt(s+1)){if("OCTYPE"!=$.substr(t,s+2,6).toUpperCase())throw new Ls(new Os("Expected <!DOCTYPE",t,s));r=16,o=(s+=8)+1}else{if(45!=t.charCodeAt(s+1)||45!=t.charCodeAt(s+2))throw new Ls(new Os("Expected \x3c!--",t,s));r=15,o=(s+=2)+1}break;case 47:if(null==i)throw new Ls(new Os("Expected node name",t,s));o=s+1,r=0,a=10;break;case 63:r=14,o=s;break;default:r=3,o=s;continue}break;case 3:if(!(97<=c&&c<=122||65<=c&&c<=90||48<=c&&c<=57||58==c||46==c||95==c||45==c)){if(s==o)throw new Ls(new Os("Expected node name",t,s));n=P.createElement($.substr(t,o,s-o)),i.addChild(n),++h,r=0,a=4;continue}break;case 4:switch(c){case 47:r=11;break;case 62:r=9;break;default:r=5,o=s;continue}break;case 5:if(!(97<=c&&c<=122||65<=c&&c<=90||48<=c&&c<=57||58==c||46==c||95==c||45==c)){if(o==s)throw new Ls(new Os("Expected attribute name",t,s));if(_=$.substr(t,o,s-o),n.exists(_))throw new Ls(new Os("Duplicate attribute ["+_+"]",t,s));r=0,a=6;continue}break;case 6:if(61!=c)throw new Ls(new Os("Expected =",t,s));r=0,a=7;break;case 7:switch(c){case 34:case 39:u=new U,r=8,o=s+1,p=c;break;default:throw new Ls(new Os('Expected "',t,s))}break;case 8:switch(c){case 38:var g=s-o;u.b+=$.substr(t,o,null==g?null:g),r=18,d=8,o=s+1;break;case 60:case 62:if(e)throw new Ls(new Os("Invalid unescaped "+String.fromCharCode(c)+" in attribute value",t,s));if(c==p){var f=s-o;u.b+=$.substr(t,o,null==f?null:f);var E=u.b;u=new U,n.set(_,E),r=0,a=4}break;default:if(c==p){var y=s-o;u.b+=$.substr(t,o,null==y?null:y);var v=u.b;u=new U,n.set(_,v),r=0,a=4}}break;case 9:o=s=Us.doParse(t,e,s,n),r=1;break;case 10:if(!(97<=c&&c<=122||65<=c&&c<=90||48<=c&&c<=57||58==c||46==c||95==c||45==c)){if(o==s)throw new Ls(new Os("Expected node name",t,s));var m=$.substr(t,o,s-o);if(i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+i.nodeType);if(m!=i.nodeName){if(i.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+i.nodeType);throw new Ls(new Os("Expected </"+i.nodeName+">",t,s))}r=0,a=12;continue}break;case 11:if(62!=c)throw new Ls(new Os("Expected >",t,s));r=1;break;case 12:if(62==c)return 0==h&&i.addChild(P.createPCData("")),s;throw new Ls(new Os("Expected >",t,s));case 13:if(60==c){var w=s-o;u.b+=$.substr(t,o,null==w?null:w);var S=P.createPCData(u.b);u=new U,i.addChild(S),++h,r=0,a=2}else if(38==c){var T=s-o;u.b+=$.substr(t,o,null==T?null:T),r=18,d=13,o=s+1}break;case 14:if(63==c&&62==t.charCodeAt(s+1)){var b=$.substr(t,o+1,++s-o-2);i.addChild(P.createProcessingInstruction(b)),++h,r=1}break;case 15:45==c&&45==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)&&(i.addChild(P.createComment($.substr(t,o,s-o))),++h,s+=2,r=1);break;case 16:91==c?++l:93==c?--l:62==c&&0==l&&(i.addChild(P.createDocType($.substr(t,o,s-o))),++h,r=1);break;case 17:if(93==c&&93==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)){var C=P.createCData($.substr(t,o,s-o));i.addChild(C),++h,s+=2,r=1}break;case 18:if(59==c){var A=$.substr(t,o,s-o);if(35==A.charCodeAt(0)){var R=120==A.charCodeAt(1)?z.parseInt("0"+$.substr(A,1,A.length-1)):z.parseInt($.substr(A,1,A.length-1));u.b+=String.fromCharCode(R)}else{var I=Us.escapes;if(null!=di[A]?I.existsReserved(A):I.h.hasOwnProperty(A)){var k=Us.escapes,N=null!=di[A]?k.getReserved(A):k.h[A];u.b+=z.string(N)}else{if(e)throw new Ls(new Os("Undefined entity: "+A,t,s));u.b+=z.string("&"+A+";")}}o=s+1,r=d}else if(!(97<=c&&c<=122||65<=c&&c<=90||48<=c&&c<=57||58==c||46==c||95==c||45==c)&&35!=c){if(e)throw new Ls(new Os("Invalid character in entity: "+String.fromCharCode(c),t,s));u.b+="&";var x=s-o;u.b+=$.substr(t,o,null==x?null:x),o=s--,r=d}}c=t.charCodeAt(++s)}if(1==r&&(o=s,r=13),13==r){if(s!=o||0==h){var D=s-o;u.b+=$.substr(t,o,null==D?null:D),i.addChild(P.createPCData(u.b)),++h}return s}if(!e&&18==r&&13==d){u.b+="&";var O=s-o;return u.b+=$.substr(t,o,null==O?null:O),i.addChild(P.createPCData(u.b)),++h,s}throw new Ls(new Os("Unexpected end",t,s))};var Ps=function(t){this.output=new U,this.pretty=t};(s["haxe.xml.Printer"]=Ps).__name__=["haxe","xml","Printer"],Ps.print=function(t,e){null==e&&(e=!1);var s=new Ps(e);return s.writeNode(t,""),s.output.b},Ps.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=z.string(e+"<"),t.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+t.nodeType);this.output.b+=z.string(t.nodeName);for(var s=t.attributes();s.hasNext();){var i=s.next();this.output.b+=z.string(" "+i+'="');var n=E.htmlEscape(t.get(i),!0);this.output.b+=z.string(n),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=P.Document&&t.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+t.nodeType);for(var r=$.iter(t.children);r.hasNext();){var a=r.next();this.writeNode(a,this.pretty?e+"\t":e)}if(this.output.b+=z.string(e+"</"),t.nodeType!=P.Element)throw new Ls("Bad node type, expected Element but found "+t.nodeType);this.output.b+=z.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==P.Document||t.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+t.nodeType);var _=t.nodeValue;if(0!=_.length){var o=e+E.htmlEscape(_);this.output.b+=z.string(o),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=z.string(e+"<![CDATA["),t.nodeType==P.Document||t.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+t.nodeType);var h=E.trim(t.nodeValue);this.output.b+=z.string(h),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==P.Document||t.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+t.nodeType);var l=t.nodeValue,c=new RegExp("[\n\r\t]+","g".split("u").join(""));l="\x3c!--"+(l=l.replace(c,""))+"--\x3e",this.output.b+=null==e?"null":""+e;var u=E.trim(l);this.output.b+=z.string(u),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==P.Document||t.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+t.nodeType);this.output.b+=z.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==P.Document||t.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+t.nodeType);this.output.b+=z.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=P.Document&&t.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+t.nodeType);for(var d=$.iter(t.children);d.hasNext();){var p=d.next();this.writeNode(p,e)}}},hasChildren:function(t){if(t.nodeType!=P.Document&&t.nodeType!=P.Element)throw new Ls("Bad node type, expected Element or Document but found "+t.nodeType);for(var e=$.iter(t.children);e.hasNext();){var s=e.next();switch(s.nodeType){case 0:case 1:return!0;case 2:case 3:if(s.nodeType==P.Document||s.nodeType==P.Element)throw new Ls("Bad node type, unexpected "+s.nodeType);if(0!=E.ltrim(s.nodeValue).length)return!0}}return!1},__class__:Ps};var Ls=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,Ls)};(s["js._Boot.HaxeError"]=Ls).__name__=["js","_Boot","HaxeError"],Ls.wrap=function(t){return t instanceof Error?t:new Ls(t)},Ls.__super__=Error,Ls.prototype=t(Error.prototype,{__class__:Ls});var Ms=function(){};(s["js.Boot"]=Ms).__name__=["js","Boot"],Ms.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},Ms.__trace=function(t,e){var s,i=null!=e?e.fileName+":"+e.lineNumber+": ":"";if(i+=Ms.__string_rec(t,""),null!=e&&null!=e.customParams)for(var n=0,r=e.customParams;n<r.length;){var a=r[n];++n,i+=","+Ms.__string_rec(a,"")}"undefined"!=typeof document&&null!=(s=document.getElementById("haxe:trace"))?s.innerHTML+=Ms.__unhtml(i)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(i)},Ms.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var s=Ms.__nativeClassName(t);return null!=s?Ms.__resolveNativeClass(s):null},Ms.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var s=typeof t;switch("function"==s&&(t.__name__||t.__ename__)&&(s="object"),s){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var i=t[0]+"(";e+="\t";for(var n=2,r=t.length;n<r;){var a=n++;i+=2!=a?","+Ms.__string_rec(t[a],e):Ms.__string_rec(t[a],e)}return i+")"}var _="[";e+="\t";for(var o=0,h=t.length;o<h;){var l=o++;_+=(0<l?",":"")+Ms.__string_rec(t[l],e)}return _+="]"}var c;try{c=t.toString}catch(t){return"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c){var u=t.toString();if("[object Object]"!=u)return u}var d=null,p="{\n";e+="\t";var g=null!=t.hasOwnProperty;for(var d in t)g&&!t.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=p.length&&(p+=", \n"),p+=e+d+" : "+Ms.__string_rec(t[d],e));return p+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},Ms.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var s=t.__interfaces__;if(null!=s)for(var i=0,n=s.length;i<n;){var r=s[i++];if(r==e||Ms.__interfLoop(r,e))return!0}return Ms.__interfLoop(t.__super__,e)},Ms.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case li:return"boolean"==typeof t;case oi:return!0;case hi:return"number"==typeof t;case _i:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(Ms.__interfLoop(Ms.getClass(t),e))return!0}else if("object"==typeof e&&Ms.__isNativeObj(e)&&t instanceof e)return!0;return e==ci&&null!=t.__name__||(e==ui&&null!=t.__ename__||t.__enum__==e)}},Ms.__cast=function(t,e){if(Ms.__instanceof(t,e))return t;throw new Ls("Cannot cast "+z.string(t)+" to "+z.string(e))},Ms.__nativeClassName=function(t){var e=Ms.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},Ms.__isNativeObj=function(t){return null!=Ms.__nativeClassName(t)},Ms.__resolveNativeClass=function(t){return e[t]};var Bs=function(){};(s["js.Browser"]=Bs).__name__=["js","Browser"],Bs.getLocalStorage=function(){try{var t=window.localStorage;return t.getItem(""),t}catch(t){return null}},Bs.getSessionStorage=function(){try{var t=window.sessionStorage;return t.getItem(""),t}catch(t){return null}},Bs.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new Ls("Unable to create XMLHttpRequest object.")};var Fs=function(){};(s["js.Cookie"]=Fs).__name__=["js","Cookie"],Fs.set=function(t,e,s,i,n){var r=t+"="+encodeURIComponent(e);if(null!=s){var a=(new Date).getTime()+1e3*s;r+=";expires="+new Date(a).toGMTString()}null!=i&&(r+=";path="+i),null!=n&&(r+=";domain="+n),window.document.cookie=r},Fs.all=function(){for(var t=new Ns,e=window.document.cookie.split(";"),s=0;s<e.length;){var i=e[s];++s;var n=(i=E.ltrim(i)).split("=");if(!(n.length<2)){var r=n[0],a=decodeURIComponent(n[1].split("+").join(" "));null!=di[r]?t.setReserved(r,a):t.h[r]=a}}return t},Fs.get=function(t){var e=Fs.all();return null!=di[t]?e.getReserved(t):e.h[t]},Fs.exists=function(t){var e=Fs.all();return null!=di[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},Fs.remove=function(t,e,s){Fs.set(t,"",-10,e,s)};var Ys=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var s=0,i=e;s<i;){var n=s++;this.a[n]=0}this.byteLength=e}};(s["js.html.compat.ArrayBuffer"]=Ys).__name__=["js","html","compat","ArrayBuffer"],Ys.sliceImpl=function(t,e){var s=new fi(this,t,null==e?null:e-t),i=new pi(s.byteLength);return new fi(i).set(s),i},Ys.prototype={slice:function(t,e){return new Ys(this.a.slice(t,e))},__class__:Ys};var Hs=function(){};(s["js.html.compat.Uint8Array"]=Hs).__name__=["js","html","compat","Uint8Array"],Hs._new=function(t,e,s){var i;if("number"==typeof t){i=[];for(var n=0,r=t;n<r;){i[n++]=0}i.byteLength=i.length,i.byteOffset=0,i.buffer=new Ys(i)}else if(Ms.__instanceof(t,Ys)){var a=t;null==e&&(e=0),null==s&&(s=a.byteLength-e),(i=0==e?a.a:a.a.slice(e,e+s)).byteLength=i.length,i.byteOffset=e,i.buffer=a}else{if(!(t instanceof Array&&null==t.__enum__))throw new Ls("TODO "+z.string(t));(i=t.slice()).byteLength=i.length,i.byteOffset=0,i.buffer=new Ys(i)}return i.subarray=Hs._subarray,i.set=Hs._set,i},Hs._set=function(t,e){if(Ms.__instanceof(t.buffer,Ys)){var s=t;if(t.byteLength+e>this.byteLength)throw new Ls("set() outside of range");for(var i=0,n=t.byteLength;i<n;){var r=i++;this[r+e]=s[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new Ls("TODO");var a=t;if(a.length+e>this.byteLength)throw new Ls("set() outside of range");for(var _=0,o=a.length;_<o;){var h=_++;this[h+e]=a[h]}}},Hs._subarray=function(t,e){var s=Hs._new(this.slice(t,e));return s.byteOffset=t,s};var Gs=s["tweezer.EEase"]={__ename__:["tweezer","EEase"],__constructs__:["EASE_IN","EASE_IN_OUT","EASE_OUT","EASE_OUT_IN"]};Gs.EASE_IN=["EASE_IN",0],Gs.EASE_IN.toString=i,(Gs.EASE_IN.__enum__=Gs).EASE_IN_OUT=["EASE_IN_OUT",1],Gs.EASE_IN_OUT.toString=i,(Gs.EASE_IN_OUT.__enum__=Gs).EASE_OUT=["EASE_OUT",2],Gs.EASE_OUT.toString=i,(Gs.EASE_OUT.__enum__=Gs).EASE_OUT_IN=["EASE_OUT_IN",3],Gs.EASE_OUT_IN.toString=i,Gs.EASE_OUT_IN.__enum__=Gs;var Vs=s["tweezer.ETween"]={__ename__:["tweezer","ETween"],__constructs__:["BACK","BOUNCE","CIRCULAR","CUBIC","ELASTIC","EXPONENTIAL","LINEAR","QUADRATIC","QUARTIC","QUINTIC","SINE"]};Vs.BACK=function(t){var e=["BACK",0,t];return e.__enum__=Vs,e.toString=i,e},Vs.BOUNCE=["BOUNCE",1],Vs.BOUNCE.toString=i,(Vs.BOUNCE.__enum__=Vs).CIRCULAR=["CIRCULAR",2],Vs.CIRCULAR.toString=i,(Vs.CIRCULAR.__enum__=Vs).CUBIC=["CUBIC",3],Vs.CUBIC.toString=i,(Vs.CUBIC.__enum__=Vs).ELASTIC=function(t,e){var s=["ELASTIC",4,t,e];return s.__enum__=Vs,s.toString=i,s},Vs.EXPONENTIAL=["EXPONENTIAL",5],Vs.EXPONENTIAL.toString=i,(Vs.EXPONENTIAL.__enum__=Vs).LINEAR=["LINEAR",6],Vs.LINEAR.toString=i,(Vs.LINEAR.__enum__=Vs).QUADRATIC=["QUADRATIC",7],Vs.QUADRATIC.toString=i,(Vs.QUADRATIC.__enum__=Vs).QUARTIC=["QUARTIC",8],Vs.QUARTIC.toString=i,(Vs.QUARTIC.__enum__=Vs).QUINTIC=["QUINTIC",9],Vs.QUINTIC.toString=i,(Vs.QUINTIC.__enum__=Vs).SINE=["SINE",10],Vs.SINE.toString=i,Vs.SINE.__enum__=Vs;var zs=function(){};(s["tweezer.TweenFactory"]=zs).__name__=["tweezer","TweenFactory"],zs.createTweenFunction=function(e,s,i,t,n){switch(null==t&&(t=Gs.EASE_IN),null==n&&(n=Vs.LINEAR),n[1]){case 0:var r=n[2];switch(null==r&&(r=1.70158),t[1]){case 0:return function(t){return Ws.easeIn(t,e,s,i,r)};case 1:return function(t){return Ws.easeInOut(t,e,s,i,r)};case 2:return function(t){return Ws.easeOut(t,e,s,i,r)};case 3:return function(t){return Ws.easeOutIn(t,e,s,i,r)}}break;case 1:switch(t[1]){case 0:return function(t){return Xs.easeIn(t,e,s,i)};case 1:return function(t){return Xs.easeInOut(t,e,s,i)};case 2:return function(t){return Xs.easeOut(t,e,s,i)};case 3:return function(t){return Xs.easeOutIn(t,e,s,i)}}break;case 2:switch(t[1]){case 0:return function(t){return Ks.easeIn(t,e,s,i)};case 1:return function(t){return Ks.easeInOut(t,e,s,i)};case 2:return function(t){return Ks.easeOut(t,e,s,i)};case 3:return function(t){return Ks.easeOutIn(t,e,s,i)}}break;case 3:switch(t[1]){case 0:return function(t){return Qs.easeIn(t,e,s,i)};case 1:return function(t){return Qs.easeInOut(t,e,s,i)};case 2:return function(t){return Qs.easeOut(t,e,s,i)};case 3:return function(t){return Qs.easeOutIn(t,e,s,i)}}break;case 4:var a=n[3],_=n[2];switch(null==_&&(_=.3*i*(t==Gs.EASE_IN_OUT?1.5:1)),null==a&&(a=0),t[1]){case 0:return function(t){return Js.easeIn(t,e,s,i,_,a)};case 1:return function(t){return Js.easeInOut(t,e,s,i,_,a)};case 2:return function(t){return Js.easeOut(t,e,s,i,_,a)};case 3:return function(t){return Js.easeOutIn(t,e,s,i,_,a)}}break;case 5:switch(t[1]){case 0:return function(t){return Zs.easeIn(t,e,s,i)};case 1:return function(t){return Zs.easeInOut(t,e,s,i)};case 2:return function(t){return Zs.easeOut(t,e,s,i)};case 3:return function(t){return Zs.easeOutIn(t,e,s,i)}}break;case 6:return function(t){return qs.ease(t,e,s,i)};case 7:switch(t[1]){case 0:return function(t){return $s.easeIn(t,e,s,i)};case 1:return function(t){return $s.easeInOut(t,e,s,i)};case 2:return function(t){return $s.easeOut(t,e,s,i)};case 3:return function(t){return $s.easeOutIn(t,e,s,i)}}break;case 8:switch(t[1]){case 0:return function(t){return ti.easeIn(t,e,s,i)};case 1:return function(t){return ti.easeInOut(t,e,s,i)};case 2:return function(t){return ti.easeOut(t,e,s,i)};case 3:return function(t){return ti.easeOutIn(t,e,s,i)}}break;case 9:switch(t[1]){case 0:return function(t){return ei.easeIn(t,e,s,i)};case 1:return function(t){return ei.easeInOut(t,e,s,i)};case 2:return function(t){return ei.easeOut(t,e,s,i)};case 3:return function(t){return ei.easeOutIn(t,e,s,i)}}break;case 10:switch(t[1]){case 0:return function(t){return si.easeIn(t,e,s,i)};case 1:return function(t){return si.easeInOut(t,e,s,i)};case 2:return function(t){return si.easeOut(t,e,s,i)};case 3:return function(t){return si.easeOutIn(t,e,s,i)}}}};var js=function(t,e,s,i,n,r,a,_,o,h,l){null==a&&(a=0),null==r&&(r=1e3),null==n&&(n=0),this._updateCallback=e,this._startValue=s,this._endValue=i,this._startDelay=n,this._duration=r,this._endDelay=a,this._easeType=_,this._tweenType=o,this._completeCallback=h,this._isSnap=l,v.call(this,t),this._updater(),this._updates=0};(s["tweezer.Tweezer"]=js).__name__=["tweezer","Tweezer"],js.__super__=v,js.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this),this._tweenFunction=zs.createTweenFunction(this._startValue,this._endValue-this._startValue,this._duration,this._easeType,this._tweenType)},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),null!=this._updateCallback){var e=this._tweenFunction(Math.min(Math.max(0,this._age-this._startDelay),this._duration));this._updateCallback(this._isSnap?Math.round(e):e)}this._age>=this._startDelay+this._duration+this._endDelay&&(null!=this._completeCallback&&this._completeCallback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:js});var Ws=function(){};(s["tweezer.tweens.Back"]=Ws).__name__=["tweezer","tweens","Back"],Ws.easeIn=function(t,e,s,i,n){return s*(t/=i)*t*((n+1)*t-n)+e},Ws.easeOut=function(t,e,s,i,n){return s*((t=t/i-1)*t*((n+1)*t+n)+1)+e},Ws.easeInOut=function(t,e,s,i,n){return(t/=i/2)<1?s/2*(t*t*((1+(n*=1.525))*t-n))+e:s/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},Ws.easeOutIn=function(t,e,s,i,n){return t<i/2?Ws.easeOut(2*t,e,s/2,i,n):Ws.easeIn(2*t-i,e+s/2,s/2,i,n)};var Xs=function(){};(s["tweezer.tweens.Bounce"]=Xs).__name__=["tweezer","tweens","Bounce"],Xs.easeIn=function(t,e,s,i){return s-Xs.easeOut(i-t,0,s,i)+e},Xs.easeOut=function(t,e,s,i){return(t/=i)<.36363636363636365?s*(7.5625*t*t)+e:t<.7272727272727273?s*(7.5625*(t-=.5454545454545454)*t+.75)+e:t<.9090909090909091?s*(7.5625*(t-=.8181818181818182)*t+.9375)+e:s*(7.5625*(t-=.9545454545454546)*t+.984375)+e},Xs.easeInOut=function(t,e,s,i){return t<i/2?.5*Xs.easeIn(2*t,0,s,i)+e:.5*Xs.easeOut(2*t-i,0,s,i)+.5*s+e},Xs.easeOutIn=function(t,e,s,i){return t<i/2?Xs.easeOut(2*t,e,s/2,i):Xs.easeIn(2*t-i,e+s/2,s/2,i)};var Ks=function(){};(s["tweezer.tweens.Circular"]=Ks).__name__=["tweezer","tweens","Circular"],Ks.easeIn=function(t,e,s,i){return-s*(Math.sqrt(1-(t/=i)*t)-1)+e},Ks.easeOut=function(t,e,s,i){return t=t/i-1,s*Math.sqrt(1-t*t)+e},Ks.easeInOut=function(t,e,s,i){return(t/=i/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},Ks.easeOutIn=function(t,e,s,i){return t<i/2?Ks.easeOut(2*t,e,s/2,i):Ks.easeIn(2*t-i,e+s/2,s/2,i)};var Qs=function(){};(s["tweezer.tweens.Cubic"]=Qs).__name__=["tweezer","tweens","Cubic"],Qs.easeIn=function(t,e,s,i){return s*(t/=i)*t*t+e},Qs.easeOut=function(t,e,s,i){return s*((t=t/i-1)*t*t+1)+e},Qs.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},Qs.easeOutIn=function(t,e,s,i){return t<i/2?Qs.easeOut(2*t,e,s/2,i):Qs.easeIn(2*t-i,e+s/2,s/2,i)};var Js=function(){};(s["tweezer.tweens.Elastic"]=Js).__name__=["tweezer","tweens","Elastic"],Js.easeIn=function(t,e,s,i,n,r){return 0==t?e:1==(t/=i)?e+s:(0==r||r<Math.abs(s)?(r=s,a=n/4):a=n/(2*Math.PI)*Math.asin(s/r),-r*Math.pow(2,10*--t)*Math.sin((t*i-a)*(2*Math.PI)/n)+e);var a},Js.easeOut=function(t,e,s,i,n,r){return 0==t?e:1==(t/=i)?e+s:(0==r||r<Math.abs(s)?(r=s,a=n/4):a=n/(2*Math.PI)*Math.asin(s/r),r*Math.pow(2,-10*t)*Math.sin((t*i-a)*(2*Math.PI)/n)+s+e);var a},Js.easeInOut=function(t,e,s,i,n,r){return 0==t?e:2==(t/=i/2)?e+s:(0==r||r<Math.abs(s)?(r=s,a=n/4):a=n/(2*Math.PI)*Math.asin(s/r),t<1?r*Math.pow(2,10*--t)*Math.sin((t*i-a)*(2*Math.PI)/n)*-.5+e:r*Math.pow(2,-10*--t)*Math.sin((t*i-a)*(2*Math.PI)/n)*.5+s+e);var a},Js.easeOutIn=function(t,e,s,i,n,r){return t<i/2?Js.easeOut(2*t,e,s/2,i,n,r):Js.easeIn(2*t-i,e+s/2,s/2,i,n,r)};var Zs=function(){};(s["tweezer.tweens.Exponential"]=Zs).__name__=["tweezer","tweens","Exponential"],Zs.easeIn=function(t,e,s,i){return 0==t?e:s*Math.pow(2,10*(t/i-1))+e-.001*s},Zs.easeOut=function(t,e,s,i){return t==i?e+s:1.001*s*(1-Math.pow(2,-10*t/i))+e},Zs.easeInOut=function(t,e,s,i){return 0==t?e:t==i?e+s:(t/=i/2)<1?s/2*Math.pow(2,10*(t-1))+e-5e-4*s:s/2*1.0005*(2-Math.pow(2,-10*--t))+e},Zs.easeOutIn=function(t,e,s,i){return t<i/2?Zs.easeOut(2*t,e,s/2,i):Zs.easeIn(2*t-i,e+s/2,s/2,i)};var qs=function(){};(s["tweezer.tweens.Linear"]=qs).__name__=["tweezer","tweens","Linear"],qs.ease=function(t,e,s,i){return s*t/i+e};var $s=function(){};(s["tweezer.tweens.Quadratic"]=$s).__name__=["tweezer","tweens","Quadratic"],$s.easeIn=function(t,e,s,i){return s*(t/=i)*t+e},$s.easeOut=function(t,e,s,i){return-s*(t/=i)*(t-2)+e},$s.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},$s.easeOutIn=function(t,e,s,i){return t<i/2?$s.easeOut(2*t,e,s/2,i):$s.easeIn(2*t-i,e+s/2,s/2,i)};var ti=function(){};(s["tweezer.tweens.Quartic"]=ti).__name__=["tweezer","tweens","Quartic"],ti.easeIn=function(t,e,s,i){return s*(t/=i)*t*t*t+e},ti.easeOut=function(t,e,s,i){return-s*((t=t/i-1)*t*t*t-1)+e},ti.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},ti.easeOutIn=function(t,e,s,i){return t<i/2?ti.easeOut(2*t,e,s/2,i):ti.easeIn(2*t-i,e+s/2,s/2,i)};var ei=function(){};(s["tweezer.tweens.Quintic"]=ei).__name__=["tweezer","tweens","Quintic"],ei.easeIn=function(t,e,s,i){return s*(t/=i)*t*t*t*t+e},ei.easeOut=function(t,e,s,i){return s*((t=t/i-1)*t*t*t*t+1)+e},ei.easeInOut=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},ei.easeOutIn=function(t,e,s,i){return t<i/2?ei.easeOut(2*t,e,s/2,i):ei.easeIn(2*t-i,e+s/2,s/2,i)};var si=function(){};function ii(t){return t instanceof Array?function(){return $.iter(t)}:"function"==typeof t.iterator?ai(t,t.iterator):t.iterator}(s["tweezer.tweens.Sine"]=si).__name__=["tweezer","tweens","Sine"],si.easeIn=function(t,e,s,i){return-s*Math.cos(t/i*(Math.PI/2))+s+e},si.easeOut=function(t,e,s,i){return s*Math.sin(t/i*(Math.PI/2))+e},si.easeInOut=function(t,e,s,i){return-s/2*(Math.cos(Math.PI*t/i)-1)+e},si.easeOutIn=function(t,e,s,i){return t<i/2?si.easeOut(2*t,e,s/2,i):si.easeIn(2*t-i,e+s/2,s/2,i)};var ni,ri=0;function ai(t,e){return null==e?null:(null==e.__id__&&(e.__id__=ri++),null==t.hx__closures__?t.hx__closures__={}:s=t.hx__closures__[e.__id__],null==s&&((s=function(){return s.method.apply(s.scope,arguments)}).scope=t,s.method=e,t.hx__closures__[e.__id__]=s),s);var s}s.Math=Math,String.prototype.__class__=s.String=String,String.__name__=["String"],s.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=s.Date=Date,Date.__name__=["Date"];var _i=s.Int={__name__:["Int"]},oi=s.Dynamic={__name__:["Dynamic"]},hi=s.Float=Number;hi.__name__=["Float"];var li=s.Bool=Boolean;li.__ename__=["Bool"];var ci=s.Class={__name__:["Class"]},ui={};ys.content=[{name:"revision",data:"MTI1DQoyMDE5LzAxLzIzIDE4OjQ0OjAzDQo"},{name:"config",data:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxkYXRhPg0KCTxzZXR0aW5ncz4NCgkJPGFzc2V0cz4NCgkJCTxwYWNrYWdlcyBkZWZhdWx0PSJhc3NldHMiIGF1ZGlvPSJhc3NldHMuYXVkaW8iIC8+DQoJCTwvYXNzZXRzPg0KCQk8Zm9udCBuYW1lPSJyb2JvdG8td2ViZm9udCIgLz4NCgkJPGFzY2lpQXJ0Pg0KICBfX19fX19fXyAgX19fICAgXyAgX19fX18gICAgX19fICBfX18gIF9fX19fICBfXyAgX18gX19fX19fX19fICBfX19fIA0KIC8gX19fLyBfIFwvIF8gfCAvIHwvIC8gXyBcICAvIF8gXC8gXyBcLyAgXy8gfC9fLyAvIC8vIC8gX18vIF8gXC8gX18gXA0KLyAvICAvICwgXy8gX18gfC8gICAgLyAvLyAvIC8gX19fLyAsIF8vLyAvXykgICggIC8gXyAgLyBfLy8gLCBfLyAvXy8gLw0KXF9fXy9fL3xfL18vIHxfL18vfF8vX19fXy8gL18vICAvXy98Xy9fX18vXy98X3wgL18vL18vX19fL18vfF98XF9fX18vIA0KDQoJCTwvYXNjaWlBcnQ+DQoJCTx1cmxzPg0KCQkJPHdlYnNpdGU+aHR0cDovL2IxMGIuY29tPC93ZWJzaXRlPg0KCQkJPGF1dGhvcj5odHRwOi8vYjEwYi5jb208L2F1dGhvcj4NCgkJPC91cmxzPg0KCQk8Z29vZ2xlQW5hbHl0aWNzIGlkPSJVQS0yMjQwNjMzNy0xMiIgZW5hYmxlZD0idHJ1ZSIgLz4NCgkJPGF1ZGlvSG9sZERlbGF5PjUwMDA8L2F1ZGlvSG9sZERlbGF5Pg0KCQk8ZGlzYWJsZUV5ZUNhbmR5PmZhbHNlPC9kaXNhYmxlRXllQ2FuZHk+DQoJCTxkaXNhYmxlRGV2aWNlTW90aW9uPmZhbHNlPC9kaXNhYmxlRGV2aWNlTW90aW9uPg0KCQk8b3JpZW50YXRpb25BcHByb3hpbWF0aW9uPmZhbHNlPC9vcmllbnRhdGlvbkFwcHJveGltYXRpb24+DQoJCTxzdGFydGluZ0xldmVsPjA8L3N0YXJ0aW5nTGV2ZWw+DQoJPC9zZXR0aW5ncz4NCgk8Z3VpPg0KCQk8YXVkaW9Ib2xkTWVzc2FnZT5QUkVTUyBUTyBDT05USU5VRTwvYXVkaW9Ib2xkTWVzc2FnZT4NCgkJPGJ1dHRvbnM+DQoJCQk8d2Vic2l0ZT5Nb3JlIGdhbWVzPC93ZWJzaXRlPg0KCQkJPGluc3RydWN0aW9ucz5Ib3cgdG8gcGxheTwvaW5zdHJ1Y3Rpb25zPg0KCQkJPHBsYXk+UGxheSBub3c8L3BsYXk+DQoJCQk8c2VsZWN0TGV2ZWw+U3RhcnQgcmFjZTwvc2VsZWN0TGV2ZWw+DQoJCQk8cmVwbGF5PlBsYXkgYWdhaW48L3JlcGxheT4NCgkJCTxjb250aW51ZT5Db250aW51ZSBnYW1lPC9jb250aW51ZT4NCgkJCTxmaW5pc2hlZD5HYW1lIG92ZXI8L2ZpbmlzaGVkPg0KCQkJPHJlc2V0PlJlc2V0IGdhbWU8L3Jlc2V0Pg0KCQkJPGJ1eT5CdXk8L2J1eT4NCgkJCTxjb3VudGRvd24+QXV0byBzdGFydDwvY291bnRkb3duPg0KCQkJPHVucGF1c2U+UmVzdW1lPC91bnBhdXNlPg0KCQkJPGF1ZGlvT24+U291bmQgT248L2F1ZGlvT24+DQoJCQk8YXVkaW9PZmY+U291bmQgT2ZmPC9hdWRpb09mZj4NCgkJCTxmdWxsU2NyZWVuT24+RnVsbCBzY3JlZW48L2Z1bGxTY3JlZW5Pbj4NCgkJCTxmdWxsU2NyZWVuT2ZmPkV4aXQgZnVsbCBzY3JlZW48L2Z1bGxTY3JlZW5PZmY+DQoJCQk8YmFjaz5RdWl0IGdhbWU8L2JhY2s+DQoJCQk8dGVzdE1vZGU+DQoJCQkJPGZpbmlzaD5GaW5pc2g8L2ZpbmlzaD4NCgkJCQk8c2tpcD5Ta2lwPC9za2lwPg0KCQkJPC90ZXN0TW9kZT4NCgkJPC9idXR0b25zPg0KCQk8bG9jYXRpb25zPg0KCQkJPGEgYWx0PSJJdGFsaWFuIj5JdGFseTwvYT4NCgkJCTxiIGFsdD0iQnJpdGlzaCI+QnJpdGFpbjwvYj4NCgkJCTxjIGFsdD0iSmFwYW5lc2UiPkphcGFuPC9jPg0KCQkJPGQgYWx0PSJNb25hY28iPk1vbmFjbzwvZD4NCgkJPC9sb2NhdGlvbnM+DQoJCTx1cGdyYWRlcz4NCgkJCTxzcGVlZD5Ub3Agc3BlZWQ8L3NwZWVkPg0KCQkJPHN0ZWVyaW5nPkdyaXA8L3N0ZWVyaW5nPg0KCQkJPGFjY2VsZXJhdGlvbj5BY2NlbGVyYXRpb248L2FjY2VsZXJhdGlvbj4NCgkJCTxib29zdD5Cb29zdDwvYm9vc3Q+DQoJCTwvdXBncmFkZXM+DQoJCTxyYW5rPg0KCQkJPGdvb2Q+RXhjZWxsZW50LCB5b3UgYXJlIHRoZSBHcmFuZCBQcml4IEhlcm8hPC9nb29kPg0KCQkJPG9rICA+V2VsbCBkb25lLCB5b3UgYXJlIG9uIHRoZSBwb2RpdW0hPC9vaz4NCgkJCTxwb29yPkJldHRlciBsdWNrIG5leHQgdGltZSwgdXBncmFkZSB5b3VyIGNhciE8L3Bvb3I+DQoJCTwvcmFuaz4NCgkJPHNjZW5lcz4NCgkJCTxpbnN0cnVjdGlvbnM+DQoJCQkJPHRpdGxlPkhvdyB0byBwbGF5PC90aXRsZT4NCgkJCQk8bWVzc2FnZT48IVtDREFUQVtDb21wZXRlIGFjcm9zcyA0IHJhY2VzIGluIHRoZSBHcmFuZCBQcml4IFNlcmllcy48YnIvPjxici8+RG9kZ2UgdHJhZmZpYywgYm9vc3QsIGNvbGxlY3QgY29pbnMgYW5kIHVwZ3JhZGUgeW91ciBjYXIgZm9yIHRoZSBuZXh0IHJhY2UuPGJyLz48YnIvPkFyZSB5b3UgdGhlIEdyYW5kIFByaXggSGVybz9dXT48L21lc3NhZ2U+DQoJCQk8L2luc3RydWN0aW9ucz4NCgkJCTxzZWxlY3RMZXZlbD4NCgkJCQk8dGl0bGU+UmFjZSBfX1hfXyBvZiA0PC90aXRsZT4NCgkJCQk8YWx0VGl0bGU+R3JhbmQgUHJpeDwvYWx0VGl0bGU+DQoJCQk8L3NlbGVjdExldmVsPg0KCQkJPGludGVyc3RpdGlhbD4NCgkJCQk8dG90YWw+VG90YWwgcG9pbnRzPC90b3RhbD4NCgkJCQk8cGVyc29uYWxCZXN0PlBlcnNvbmFsIGJlc3Q8L3BlcnNvbmFsQmVzdD4NCgkJCTwvaW50ZXJzdGl0aWFsPg0KCQkJPHJlc3VsdHM+DQoJCQkJPHRpdGxlPlJhY2UgX19YX18gb2YgNCBjb21wbGV0ZTwvdGl0bGU+DQoJCQkJPHRhYmxlPg0KCQkJCQk8bG9jYXRpb24+UmFjZTwvbG9jYXRpb24+DQoJCQkJCTxwb3NpdGlvbj5Qb3NpdGlvbjwvcG9zaXRpb24+DQoJCQkJCTxwb2ludHM+UG9pbnRzPC9wb2ludHM+DQoJCQkJCTx0b3RhbD5Ub3RhbCBwb2ludHM8L3RvdGFsPg0KCQkJCQk8cGVyc29uYWxCZXN0PlBlcnNvbmFsIGJlc3Q8L3BlcnNvbmFsQmVzdD4NCgkJCQk8L3RhYmxlPg0KCQkJCTxtZXNzYWdlPllvdSBjb21wbGV0ZWQgdGhlIHJhY2UgaW4gX19TQ09SRV9fIHBvc2l0aW9uIGFuZCBzY29yZWQgX19QT0lOVFNfXyBwb2ludHMuPC9tZXNzYWdlPg0KCQkJPC9yZXN1bHRzPg0KCQkJPHNob3A+DQoJCQkJPHRpdGxlPlVwZ3JhZGUgeW91ciBjYXI8L3RpdGxlPg0KCQkJCTxtYXhlZD5NYXhlZDwvbWF4ZWQ+DQoJCQkJPGluc3VmZmljaWVudD5FYXJuIEZ1bmRzPC9pbnN1ZmZpY2llbnQ+DQoJCQk8L3Nob3A+DQoJCTwvc2NlbmVzPg0KCTwvZ3VpPg0KPC9kYXRhPg0K"}];var di={},pi=e.ArrayBuffer||Ys;null==pi.prototype.slice&&(pi.prototype.slice=Ys.sliceImpl);var gi,fi=e.Uint8Array||Hs._new;P.Element=0,P.PCData=1,P.CData=2,P.Comment=3,P.DocType=4,P.ProcessingInstruction=5,P.Document=6,Ge.WIDTH=200,Ge.HEIGHT=65,vs.USE_CACHE=!1,vs.USE_ENUM_INDEX=!1,vs.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ss.DEFAULT_RESOLVER=new ws,Ss.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",bs.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bs.BYTES=Ts.ofString(bs.CHARS),ks.count=0,Us.escapes=(gi=new Ns,null!=di.lt?gi.setReserved("lt","<"):gi.h.lt="<",null!=di.gt?gi.setReserved("gt",">"):gi.h.gt=">",null!=di.amp?gi.setReserved("amp","&"):gi.h.amp="&",null!=di.quot?gi.setReserved("quot",'"'):gi.h.quot='"',null!=di.apos?gi.setReserved("apos","'"):gi.h.apos="'",gi),Ms.__toStr={}.toString,Hs.BYTES_PER_ELEMENT=1,pe.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);