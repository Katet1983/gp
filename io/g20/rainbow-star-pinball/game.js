!function(d){"use strict";function i(){return cs.__string_rec(this,"")}var _,e={},E=E||{};function t(t,e){var i=Object.create(t);for(var s in e)i[s]=e[s];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}function g(t,e){this.r=new RegExp(t,e.split("u").join(""))}(e.EReg=g).__name__="EReg",g.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw ii.thrown("EReg::matched")},__class__:g};function P(){}(e.HxOverrides=P).__name__="HxOverrides",P.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:e=t.split("-");return new Date(e[0],e[1]-1,e[2],0,0,0);case 19:var s=(e=t.split(" "))[0].split("-"),n=e[1].split(":");return new Date(s[0],s[1]-1,s[2],n[0],n[1],n[2]);default:throw ii.thrown("Invalid date format : "+t)}},P.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},P.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},P.remove=function(t,e){var i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)},P.now=function(){return Date.now()};function f(){}(e.Lambda=f).__name__="Lambda",f.has=function(t,e){for(var i=Ps(t);i.hasNext();){if(i.next()==e)return!0}return!1},f.exists=function(t,e){for(var i=Ps(t);i.hasNext();){if(e(i.next()))return!0}return!1},Math.__name__="Math";function C(){}(e.Reflect=C).__name__="Reflect",C.field=function(t,e){try{return t[e]}catch(t){return null}},C.getProperty=function(t,e){var i;if(null==t)return null;var s=!!t.__properties__&&(i=t.__properties__["get_"+e]);return s?t[i]():t[e]},C.setProperty=function(t,e,i){var s,n=!!t.__properties__&&(s=t.__properties__["set_"+e]);n?t[s](i):t[e]=i},C.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var s in t)"__id__"!=s&&"hx__closures__"!=s&&i.call(t,s)&&e.push(s)}return e},C.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},C.compareMethods=function(t,e){return t==e||!(!C.isFunction(t)||!C.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},C.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};function M(){}(e.Std=M).__name__="Std",M.string=function(t){return cs.__string_rec(t,"")},M.parseInt=function(t){if(null!=t)for(var e=0,i=t.length;e<i;){var s=e++,n=t.charCodeAt(s);if(n<=8||14<=n&&32!=n&&45!=n){var r=t.charCodeAt(1+s),o=parseInt(t,120==r||88==r?16:10);return isNaN(o)?null:o}}return null},M.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};function k(){this.b=""}(e.StringBuf=k).__name__="StringBuf",k.prototype={__class__:k};function c(){}(e.StringTools=c).__name__="StringTools",c.htmlEscape=function(t,e){for(var i="",s=0,n=t;s<n.length;){var r=s++,o=(t=n).charCodeAt(r);55296<=o&&o<=56319&&(o=o-55232<<10|1023&t.charCodeAt(1+r)),65536<=o&&++s;var a=o;switch(a){case 34:i+=e?"&quot;":String.fromCodePoint(a);break;case 38:i+="&amp;";break;case 39:i+=e?"&#039;":String.fromCodePoint(a);break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=String.fromCodePoint(a)}}return i},c.isSpace=function(t,e){var i=P.cca(t,e);return 8<i&&i<14||32==i},c.ltrim=function(t){for(var e=t.length,i=0;i<e&&c.isSpace(t,i);)++i;return 0<i?P.substr(t,i,e-i):t},c.rtrim=function(t){for(var e=t.length,i=0;i<e&&c.isSpace(t,e-i-1);)++i;return 0<i?P.substr(t,0,e-i):t},c.trim=function(t){return c.ltrim(c.rtrim(t))},c.replace=function(t,e,i){return t.split(e).join(i)},c.hex=function(t,e){for(var i="";i="0123456789ABCDEF".charAt(15&t)+i,0<(t>>>=4););if(null!=e)for(;i.length<e;)i="0"+i;return i};function T(){}var s=E.ValueType={__ename__:"ValueType",__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:i},TInt:{_hx_index:1,__enum__:"ValueType",toString:i},TFloat:{_hx_index:2,__enum__:"ValueType",toString:i},TBool:{_hx_index:3,__enum__:"ValueType",toString:i},TObject:{_hx_index:4,__enum__:"ValueType",toString:i},TFunction:{_hx_index:5,__enum__:"ValueType",toString:i},TClass:((_=function(t){return{_hx_index:6,c:t,__enum__:"ValueType",toString:i}}).__params__=["c"],_),TEnum:((_=function(t){return{_hx_index:7,e:t,__enum__:"ValueType",toString:i}}).__params__=["e"],_),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:i}};(e.Type=T).__name__="Type",T.getEnum=function(t){return null==t?null:E[t.__enum__]},T.createInstance=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},T.createEnum=function(t,e,i){var s=C.field(t,e);if(null==s)throw ii.thrown("No such constructor "+e);if(C.isFunction(s)){if(null==i)throw ii.thrown("Constructor "+e+" need parameters");return s.apply(t,i)}if(null!=i&&0!=i.length)throw ii.thrown("Constructor "+e+" does not need parameters");return s},T.typeof=function(t){switch(typeof t){case"boolean":return s.TBool;case"function":return t.__name__||t.__ename__?s.TObject:s.TFunction;case"number":return Math.ceil(t)==t%2147483648?s.TInt:s.TFloat;case"object":if(null==t)return s.TNull;var e=t.__enum__;if(null!=e)return s.TEnum(E[e]);var i=cs.getClass(t);return null!=i?s.TClass(i):s.TObject;case"string":return s.TClass(String);case"undefined":return s.TNull;default:return s.TUnknown}},T.enumEq=function(t,e){if(t==e)return!0;try{var i=t.__enum__;if(null==i||i!=e.__enum__)return!1;if(t._hx_index!=e._hx_index)return!1;for(var s=E[i],n=s[s.__constructs__[t._hx_index]].__params__,r=0;r<n.length;){var o=n[r];if(++r,!T.enumEq(t[o],e[o]))return!1}}catch(r){return!1}return!0},T.enumParameters=function(t){var e=E[t.__enum__],i=e[e.__constructs__[t._hx_index]].__params__;if(null==i)return[];for(var s=[],n=0;n<i.length;){var r=i[n];++n,s.push(t[r])}return s};function O(t){this.nodeType=t,this.children=[],this.attributeMap=new Si}var D={toString:function(t){switch(t){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}};(e.Xml=O).__name__="Xml",O.parse=function(t){return Mi.parse(t)},O.createElement=function(t){var e=new O(O.Element);if(e.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":D.toString(e.nodeType)));return e.nodeName=t,e},O.createPCData=function(t){var e=new O(O.PCData);if(e.nodeType==O.Document||e.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":D.toString(e.nodeType)));return e.nodeValue=t,e},O.createCData=function(t){var e=new O(O.CData);if(e.nodeType==O.Document||e.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":D.toString(e.nodeType)));return e.nodeValue=t,e},O.createComment=function(t){var e=new O(O.Comment);if(e.nodeType==O.Document||e.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":D.toString(e.nodeType)));return e.nodeValue=t,e},O.createDocType=function(t){var e=new O(O.DocType);if(e.nodeType==O.Document||e.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":D.toString(e.nodeType)));return e.nodeValue=t,e},O.createProcessingInstruction=function(t){var e=new O(O.ProcessingInstruction);if(e.nodeType==O.Document||e.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":D.toString(e.nodeType)));return e.nodeValue=t,e},O.createDocument=function(){return new O(O.Document)},O.prototype={get:function(t){if(this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));return this.attributeMap.h[t]},set:function(t,e){if(this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));this.attributeMap.h[t]=e},exists:function(t){if(this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,t)},attributes:function(){if(this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));return Si.keysIterator(this.attributeMap.h)},elements:function(){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));for(var t=[],e=0,i=this.children;e<i.length;){var s=i[e];++e,s.nodeType==O.Element&&t.push(s)}return new Ei(t)},elementsNamed:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));for(var e=[],i=0,s=this.children;i<s.length;){var n,r=s[i];if(++i,r.nodeType==O.Element){if(r.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==r.nodeType?"null":D.toString(r.nodeType)));n=r.nodeName==t}else n=!1;n&&e.push(r)}return new Ei(e)},firstElement:function(){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));for(var t=0,e=this.children;t<e.length;){var i=e[t];if(++t,i.nodeType==O.Element)return i}return null},addChild:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":D.toString(this.nodeType)));return!!P.remove(this.children,t)&&!(t.parent=null)},toString:function(){return ki.print(this)},__class__:O};function n(){}(e["awe6.interfaces.IPauseable"]=n).__name__="awe6.interfaces.IPauseable",n.__isInterface__=!0,n.prototype={__class__:n};function r(){}(e["awe6.interfaces.IDisposable"]=r).__name__="awe6.interfaces.IDisposable",r.__isInterface__=!0,r.prototype={__class__:r};function o(){}(e["awe6.interfaces.IUpdateable"]=o).__name__="awe6.interfaces.IUpdateable",o.__isInterface__=!0,o.prototype={__class__:o};function a(){}(e["awe6.interfaces.IProcess"]=a).__name__="awe6.interfaces.IProcess",a.__isInterface__=!0,a.__interfaces__=[n,r,o];function l(t){this._kernel=t,this._tools=this._kernel.tools,this._isEntity=cs.__implements(this,y),this._init()}(e["awe6.core.Process"]=l).__name__="awe6.core.Process",l.__interfaces__=[a],l.prototype={_init:function(){this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this.isDisposed=!1,this._age=0,this._updates=0},dispose:function(){this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())},_disposer:function(){},getAge:function(t){return null==t&&(t=!0),t?this._age:this._updates},update:function(t){null==t&&(t=0),this.isActive&&!this.isDisposed&&(this._age+=t,this._updates++,this._updater(t))},_updater:function(t){null==t&&(t=0)},set_isActive:function(t){return this.isDisposed?this.isActive=!1:(t!=this.isActive&&(this._isIsActiveSetterBypassed?this.isActive=t:t?this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ie.RESUME,this,!0,!0,!0)):this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ie.PAUSE,this,!0,!0,!0))),this._isIsActiveSetterBypassed=!1,this.isActive)},pause:function(){this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ie.PAUSE,this,!0,!0,!0))},_pauser:function(){},resume:function(){this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ie.RESUME,this,!0,!0,!0))},_resumer:function(){},__class__:l,__properties__:{set_isActive:"set_isActive"}};function h(){}(e["awe6.interfaces.IAgendaManager"]=h).__name__="awe6.interfaces.IAgendaManager",h.__isInterface__=!0,h.prototype={__class__:h};function u(){}(e["awe6.interfaces.IEntityCollection"]=u).__name__="awe6.interfaces.IEntityCollection",u.__isInterface__=!0,u.__interfaces__=[h],u.prototype={__class__:u};function p(){}(e["awe6.interfaces.IViewable"]=p).__name__="awe6.interfaces.IViewable",p.__isInterface__=!0,p.prototype={__class__:p,__properties__:{get_view:"get_view"}};var y=function(){};(e["awe6.interfaces.IEntity"]=y).__name__="awe6.interfaces.IEntity",y.__isInterface__=!0,y.__interfaces__=[u,p,a],y.prototype={__class__:y,__properties__:{get_parent:"get_parent"}};function m(t,e,i){null==this.get_view()&&(this.view=new Kt(t,i,0,this)),this.set_id(null==e?t.tools.createGuid():e),l.call(this,t)}(e["awe6.core.Entity"]=m).__name__="awe6.core.Entity",m.__interfaces__=[y],m.__super__=l,m.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this.agenda=Qt.ALWAYS,this._entityAgendaPairs=new gi,this._isAgendaDirty=!0,this._cachedEntities=[]},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t),this._isAgendaDirty&&(this._cachedEntities=this._getEntities(this.get_agenda()),T.enumEq(this.get_agenda(),Qt.ALWAYS)||(this._cachedEntities=this._cachedEntities.concat(this._getEntities(Qt.ALWAYS))),this._isAgendaDirty=!1);for(var e=0,i=this._cachedEntities;e<i.length;){var s=i[e];++e,s.update(t)}},_disposer:function(){this.remove(),this._kernel.messenger.removeSubscribers(this),this._kernel.messenger.removeSubscribers(null,null,null,this,null);var t=this._getEntities();t.reverse();for(var e=0;e<t.length;){var i=t[e];++e,i.dispose()}for(i=this._entityAgendaPairs.iterator();i.hasNext();){var s=i.next();this._entityAgendaPairs.remove(s)}this.get_view().dispose(),l.prototype._disposer.call(this)},addEntity:function(t,e,i,s){if(null==s&&(s=0),null==i&&(i=!1),this.isDisposed||null==t)return null;null==e&&(e=Qt.ALWAYS);for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();if(r.entity==t&&T.enumEq(r.agenda,e))return t}this._isAgendaDirty=!0,t.get_parent()!=this&&(t.remove(i),t instanceof m&&t._setParent(this));var o=new I(t,e),a=this._entityAgendaPairs;return a.head=new di(o,a.head),i&&(T.enumEq(e,this.get_agenda())||e==Qt.ALWAYS?this.get_view().addChild(t.get_view(),s):(t.get_view().set_priority(s),o.isAddedToView=!0)),t},removeEntity:function(t,e,i){if(null==i&&(i=!1),!this.isDisposed&&null!=t){for(var s=!1,n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();r.entity!=t||null!=e&&!T.enumEq(r.agenda,e)||(this._entityAgendaPairs.remove(r),s=!0)}s&&(this._isAgendaDirty=!0,t instanceof m&&t._setParent(null),i&&t.get_view().remove())}},remove:function(t){null==t&&(t=!1),null!=this.get_parent()&&this.get_parent().removeEntity(this,null,t)},getEntities:function(t){return this._getEntities(t)},_getEntities:function(t){if(!this._isAgendaDirty&&(null==t||T.enumEq(t,this.get_agenda())))return this._cachedEntities;for(var e=[],i=this._entityAgendaPairs.iterator();i.hasNext();){var s=i.next();null!=t&&!T.enumEq(t,s.agenda)||e.push(s.entity)}return e.reverse(),e},getEntitiesByClass:function(t,e,i,s,n){if(null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),n&&null!=this._kernel.scenes.get_scene())return this._kernel.scenes.get_scene().getEntitiesByClass(t,e,!0);for(var r=[],o=this._getEntities(e),a=0;a<o.length;){var l=o[a];++a,cs.__instanceof(l,t)&&r.push(l),i&&(r=r.concat(l.getEntitiesByClass(t,e,!0)))}return s&&null!=this.get_parent()&&(r=r.concat(this.get_parent().getEntitiesByClass(t,e,!1,!0))),r},setAgenda:function(t){if(null==t&&(t=Qt.ALWAYS),T.enumEq(this.get_agenda(),t))return!1;this._isAgendaDirty=!0;for(var e=this._entityAgendaPairs.iterator();e.hasNext();){var i=e.next(),s=T.enumEq(this.get_agenda(),i.agenda)&&i.entity.get_view().get_parent()==this.get_view();s&&i.entity.get_view().remove(),i.isAddedToView=i.isAddedToView||s}this.agenda=t;for(e=this._entityAgendaPairs.iterator();e.hasNext();){(i=e.next()).isAddedToView&&(T.enumEq(Qt.ALWAYS,i.agenda)||T.enumEq(this.get_agenda(),i.agenda))&&this.get_view().addChild(i.entity.get_view())}return!0},_setParent:function(t){this.parent=t},set_id:function(t){return this.id=t,this.id},get_agenda:function(){return this.agenda},get_parent:function(){return this.parent},get_view:function(){return this.view},__class__:m,__properties__:t(l.prototype.__properties__,{get_view:"get_view",get_parent:"get_parent",get_agenda:"get_agenda",set_id:"set_id"})});function b(){}(e["awe6.interfaces.IPositionable"]=b).__name__="awe6.interfaces.IPositionable",b.__isInterface__=!0,b.prototype={__class__:b,__properties__:{set_y:"set_y",set_x:"set_x"}};function S(t,e,i,s,n,r,o,a,l,h,_){null==o&&(o=0),null==r&&(r=0),null==n&&(n=20),null==s&&(s=100),this._stateUp=new v(t,e),this._stateOver=new v(t,i),this.x=r,this.y=o,this.set_width(s),this.set_height(n),this._keyType=a,this.onClickCallback=l,this.onRollOverCallback=h,this.onRollOutCallback=_,m.call(this,t)}(e["awe6.core.BasicButton"]=S).__name__="awe6.core.BasicButton",S.__interfaces__=[b],S.__super__=m,S.prototype=t(m.prototype,{_init:function(){m.prototype._init.call(this),this.get_view().set_x(this.x),this.get_view().set_y(this.y),this.isOver=!1,this.addEntity(this._stateUp,Qt.SUB_TYPE(x.UP),!0),this.addEntity(this._stateOver,Qt.SUB_TYPE(x.OVER),!0),this.setAgenda(Qt.SUB_TYPE(x.UP))},_updater:function(t){null==t&&(t=0),m.prototype._updater.call(this,t);var e=this._kernel.inputs.mouse,i=this._isPointInsideRectangle(e.x+this.get_view().x-this.get_view().globalX,e.y+this.get_view().y-this.get_view().globalY,this.x,this.y,this.width,this.height);i&&e.set_cursorType(ne.BUTTON),i&&!this.isOver&&this.onRollOver(),!i&&this.isOver&&(e.set_cursorType(ne.AUTO),this.onRollOut()),this.isOver=i,this.isOver&&e.getIsButtonDown()&&this.setAgenda(Qt.SUB_TYPE(x.OVER)),this.isOver&&e.getIsButtonRelease()&&this.onClick(),null!=this._keyType&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyType)&&this.onClick()},_isPointInsideRectangle:function(t,e,i,s,n,r){return!(t<i)&&(!(e<s)&&(!(i+n<t)&&!(s+r<e)))},onClick:function(){this.setAgenda(Qt.SUB_TYPE(x.UP)),null!=this.onClickCallback&&this.onClickCallback()},onRollOver:function(){this.setAgenda(Qt.SUB_TYPE(x.OVER)),null!=this.onRollOverCallback&&this.onRollOverCallback()},onRollOut:function(){this.setAgenda(Qt.SUB_TYPE(x.UP)),null!=this.onRollOutCallback&&this.onRollOutCallback()},set_x:function(t){return this.x=t,null!=this.get_view()&&this.get_view().set_x(this.x),this.x},set_y:function(t){return this.y=t,null!=this.get_view()&&this.get_view().set_y(this.y),this.y},set_width:function(t){return this.width=t,this.width},set_height:function(t){return this.height=t,this.height},__class__:S,__properties__:t(m.prototype.__properties__,{set_height:"set_height",set_width:"set_width",set_y:"set_y",set_x:"set_x"})});var v=function(t,e){m.call(this,t),this.view=e};(e["awe6.core._BasicButton._HelperState"]=v).__name__="awe6.core._BasicButton._HelperState",v.__super__=m,v.prototype=t(m.prototype,{__class__:v});function w(){}var x=E["awe6.core._BasicButton._HelperEState"]={__ename__:"awe6.core._BasicButton._HelperEState",__constructs__:["UP","OVER"],UP:{_hx_index:0,__enum__:"awe6.core._BasicButton._HelperEState",toString:i},OVER:{_hx_index:1,__enum__:"awe6.core._BasicButton._HelperEState",toString:i}};(e["awe6.interfaces.IEncrypter"]=w).__name__="awe6.interfaces.IEncrypter",w.__isInterface__=!0,w.prototype={__class__:w};function A(t){this._defaultSecret=t}(e["awe6.core.Encrypter"]=A).__name__="awe6.core.Encrypter",A.__interfaces__=[w],A.prototype={decrypt:function(t,e){null==e&&(e="");var i=""!=e?e:this._defaultSecret;return this._xor(t,i)},_xor:function(t,e){for(var i=new _i(new ArrayBuffer(t.length)),s=0,n=0,r=i.length;n<r;){var o=n++;i.b[o]=t.b[o]^P.cca(e,s),++s>=e.length&&(s=0)}return i},__class__:A};var I=function(t,e){this.entity=t,this.agenda=e,this.isAddedToView=!1};(e["awe6.core._Entity._HelperEntityAgendaPair"]=I).__name__="awe6.core._Entity._HelperEntityAgendaPair",I.prototype={__class__:I};function B(){}(e["awe6.interfaces.IInputJoypad"]=B).__name__="awe6.interfaces.IInputJoypad",B.__isInterface__=!0,B.prototype={__class__:B};function R(t,e,i,s,n,r,o,a,l,h,_,c,u,p){this._kernel=t,this._keyUp=null!=e?e:ee.UP,this._keyRight=null!=i?i:ee.RIGHT,this._keyDown=null!=s?s:ee.DOWN,this._keyLeft=null!=n?n:ee.LEFT,this._keyPrimary=null!=r?r:ee.SPACE,this._keySecondary=null!=o?o:ee.Z,this._keyUpAlt=null!=a?a:ee.W,this._keyRightAlt=null!=l?l:ee.D,this._keyDownAlt=null!=h?h:ee.S,this._keyLeftAlt=null!=_?_:ee.A,this._keyPrimaryAlt=null!=c?c:ee.Q,this._keySecondaryAlt=null!=u?u:ee.E,this._joypadTouchType=null!=p?p:this._kernel.factory.joypadTouchType,this._isTouchEnabled=this._kernel.factory.joypadTouchType!=te.DISABLED,this._joypadStateCache={age:0,isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:!1,isPrevUp:!1,isPrevRight:!1,isPrevDown:!1,isPrevLeft:!1}}(e["awe6.core.InputJoypad"]=R).__name__="awe6.core.InputJoypad",R.__interfaces__=[B],R.prototype={_checkKeyboard:function(t,e){switch(t._hx_index){case 0:return!!this._checkKeyboard($t.PRIMARY,e)||this._checkKeyboard($t.SECONDARY,e);case 1:return!!e(this._keyUp)||e(this._keyUpAlt);case 2:return!!e(this._keyRight)||e(this._keyRightAlt);case 3:return!!e(this._keyDown)||e(this._keyDownAlt);case 4:return!!e(this._keyLeft)||e(this._keyLeftAlt);case 5:return!!e(this._keyPrimary)||e(this._keyPrimaryAlt);case 6:return!!e(this._keySecondary)||e(this._keySecondaryAlt)}},getIsButtonDown:function(t){return!!this._checkKeyboard(t,Ms(_=this._kernel.inputs.keyboard,_.getIsKeyDown))||!!this._isTouchEnabled&&this._checkTouchIsDown(t)},_getTouchButtonPosition:function(t){switch(t._hx_index){case 1:return{x:.5*this._kernel.factory.width,y:.25*this._kernel.factory.height};case 2:return{x:.75*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 3:return{x:.5*this._kernel.factory.width,y:.75*this._kernel.factory.height};case 4:return{x:.25*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 0:case 5:case 6:return{x:.5*this._kernel.factory.width,y:.5*this._kernel.factory.height}}},_getClosestTouchButton:function(t,e){null==t&&(t=this._mouse.x),null==e&&(e=this._mouse.y);var i=99999999,s=$t.FIRE,n=$t.FIRE,r=this._getTouchButtonPosition(n),o=this._kernel.tools.distance(t,e,r.x,r.y,!0);o<i&&(i=o,s=n);n=$t.UP,r=this._getTouchButtonPosition(n);(o=this._kernel.tools.distance(t,e,r.x,r.y,!0))<i&&(i=o,s=n);n=$t.RIGHT,r=this._getTouchButtonPosition(n);(o=this._kernel.tools.distance(t,e,r.x,r.y,!0))<i&&(i=o,s=n);n=$t.DOWN,r=this._getTouchButtonPosition(n);(o=this._kernel.tools.distance(t,e,r.x,r.y,!0))<i&&(i=o,s=n);n=$t.LEFT,r=this._getTouchButtonPosition(n);(o=this._kernel.tools.distance(t,e,r.x,r.y,!0))<i&&(i=o,s=n);n=$t.PRIMARY,r=this._getTouchButtonPosition(n);return(o=this._kernel.tools.distance(t,e,r.x,r.y,!0))<i&&(i=o,s=n),s},_getTouchState:function(){var t=null!=this._mouse||this._kernel.inputs.mouse instanceof Rt&&(this._mouse=cs.__cast(this._kernel.inputs.mouse,Rt),!0);if(!t||this._mouse.getAge()==this._joypadStateCache.age)return this._joypadStateCache;var e={age:this._mouse.getAge(),isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:this._joypadStateCache.isFire,isPrevUp:this._joypadStateCache.isUp,isPrevRight:this._joypadStateCache.isRight,isPrevDown:this._joypadStateCache.isDown,isPrevLeft:this._joypadStateCache.isLeft},i=this._joypadTouchType;switch(i._hx_index){case 1:var s=this._getClosestTouchButton();e.isFire=s==$t.FIRE&&this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._mouse.getIsButtonDown()&&(e.isUp=s==$t.UP,e.isRight=s==$t.RIGHT,e.isDown=s==$t.DOWN,e.isLeft=s==$t.LEFT);break;case 2:var n=i.distance;null==n&&(n=20),e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,e.isUp=this._mouse.getButtonDragHeight()<-n,e.isRight=this._mouse.getButtonDragWidth()>n,e.isDown=this._mouse.getButtonDragHeight()>n,e.isLeft=this._mouse.getButtonDragWidth()<-n;break;case 3:var r,o,a=i.speed;e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._kernel.inputs.mouse.getIsButtonDown()&&(null==a&&(a=100),r=this._mouse.getDeltaX(),o=this._mouse.getDeltaY(),e.isUp=o<-a,e.isRight=a<r,e.isDown=a<o,e.isLeft=r<-a)}return this._joypadStateCache=e,this._joypadStateCache},_checkTouchIsDown:function(t){var e=this._getTouchState();switch(t._hx_index){case 1:return e.isUp;case 2:return e.isRight;case 3:return e.isDown;case 4:return e.isLeft;case 0:case 5:case 6:return e.isFire}},__class__:R};function L(){}(e["awe6.interfaces.IResettable"]=L).__name__="awe6.interfaces.IResettable",L.__isInterface__=!0,L.prototype={__class__:L};function F(){}(e["awe6.interfaces.IInputManager"]=F).__name__="awe6.interfaces.IInputManager",F.__isInterface__=!0,F.__interfaces__=[L],F.prototype={__class__:F};function j(t){l.call(this,t)}(e["awe6.core.InputManager"]=j).__name__="awe6.core.InputManager",j.__interfaces__=[F],j.__super__=l,j.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this.joypad=this.createJoypad(),this.keyboard=this._inputKeyboard=new Bt(this._kernel),this.mouse=this._inputMouse=new Rt(this._kernel)},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t);var e=this._inputKeyboard,i=t;null==i&&(i=0),e.isActive&&!e.isDisposed&&(e._age+=i,e._updates++,e._updater(i)),null==(i=t)&&(i=0),(e=this._inputMouse).isActive&&!e.isDisposed&&(e._age+=i,e._updates++,e._updater(i))},_disposer:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),(t=this._inputMouse).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),l.prototype._disposer.call(this)},createJoypad:function(t,e,i,s,n,r,o,a,l,h,_,c,u){return new R(this._kernel,t,e,i,s,n,r,o,a,l,h,_,c,u)},reset:function(){var t=this._inputKeyboard;return t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),(t=this._inputMouse).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),this._init(),!0},__class__:j});function U(){}(e["awe6.interfaces.IMessageManager"]=U).__name__="awe6.interfaces.IMessageManager",U.__isInterface__=!0,U.__interfaces__=[L],U.prototype={__class__:U};function N(t){l.call(this,t)}(e["awe6.core.MessageManager"]=N).__name__="awe6.core.MessageManager",N.__interfaces__=[U],N.__super__=l,N.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this._isVerbose=!1,this._subscriptions=new gi,this._messageQueue=new yi},removeSubscribers:function(t,e,i,s,n){for(var r=this._getSubscriptions(t,e,i,s,n,!0).iterator();r.hasNext();){var o=r.next();this._subscriptions.remove(o),this._isVerbose&&si.trace("Removing "+M.string(o.sender)+":"+M.string(o.message),{fileName:"awe6/core/MessageManager.hx",lineNumber:80,className:"awe6.core.MessageManager",methodName:"removeSubscribers"})}},sendMessage:function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),this._sendMessage(t,e,e,i,s,n)},reset:function(){return this.removeSubscribers(),this._messageQueue=new yi,!0},_updater:function(t){if(null==t&&(t=0),l.prototype._updater.call(this,t),this._isOkToSendMessage())for(var e=this._messageQueue.h;null!=e;){var i=e.item,e=e.next,s=i;this._sendMessage(s.message,s.sender,s.target,s.isBubbleDown,s.isBubbleUp,s.isBubbleEverywhere),this._messageQueue.remove(s)}},_isOkToSendMessage:function(){return null!=this._kernel.scenes.get_scene()},_sendMessage:function(t,e,i,s,n,r){if(null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=!1),this._isVerbose&&si.trace("Sending message: "+M.string(t)+" from "+e.id+"("+M.string(cs.getClass(e))+") via "+i.id+" ("+M.string(cs.getClass(i))+")",{fileName:"awe6/core/MessageManager.hx",lineNumber:119,className:"awe6.core.MessageManager",methodName:"_sendMessage"}),this._isOkToSendMessage()){if(r){var o=this._kernel.scenes.get_scene().getEntities()[0];if(null!=o&&null!=o.get_parent())return void this._sendMessage(t,e,this._kernel.scenes.get_scene().getEntities()[0].get_parent(),!0)}for(var a=this._getSubscriptions(i,t,null,e).iterator();a.hasNext();){var l=a.next();if(!this._send(l,t,e))return}if(s)for(var h=i.getEntities(),_=0;_<h.length;){var c=h[_];++_,this._sendMessage(t,e,c,!0)}n&&null!=i.get_parent()&&cs.__implements(i.get_parent(),y)&&this._sendMessage(t,e,i.get_parent(),!1,!0)}else this._messageQueue.push(new H(t,e,i,s,n,r))},_send:function(t,e,i){var s=t.handler.apply(t.subscriber,[e,i]);return t.isRemovedAfterFirstSend&&this._subscriptions.remove(t),s},_getSubscriptions:function(t,e,i,s,n,r){null==r&&(r=!1);for(var o=new gi,a=this._subscriptions.iterator();a.hasNext();){var l=a.next();if(null==t||t==l.subscriber||t==l.sender){if(null!=e&&!cs.__instanceof(e,l.messageClass)){var h=T.typeof(e);if(7==h._hx_index){var _;h.e;if(T.getEnum(e)!=T.getEnum(l.message)||(_=l.message,E[e.__enum__].__constructs__[e._hx_index]!=E[_.__enum__].__constructs__[_._hx_index])||T.enumParameters(e).toString()!=T.enumParameters(l.message).toString())continue}else if(e!=l.message)continue}if(null==i||C.compareMethods(l.handler,i)){if(null!=s){if(r){if(null!=l.senderClassType)continue;if(null==l.sender)continue}if(null!=l.senderClassType&&!cs.__instanceof(s,l.senderClassType))continue;if(null!=l.sender&&l.sender!=s)continue}o.head=new di(l,o.head)}}}return o},__class__:N});function G(t,e,i,s,n,r){null==r&&(r=!1),this.subscriber=t,this.message=e,this.handler=i,this.sender=s,this.senderClassType=n,this.isRemovedAfterFirstSend=r,this.messageClass=cs.getClass(e)}(e["awe6.core._MessageManager._HelperSubscription"]=G).__name__="awe6.core._MessageManager._HelperSubscription",G.prototype={__class__:G};var H=function(t,e,i,s,n,r){null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=!1),this.message=t,this.sender=e,this.target=i,this.isBubbleDown=s,this.isBubbleUp=n,this.isBubbleEverywhere=r};(e["awe6.core._MessageManager._HelperMessage"]=H).__name__="awe6.core._MessageManager._HelperMessage",H.prototype={__class__:H};function K(){}(e["awe6.interfaces.IScene"]=K).__name__="awe6.interfaces.IScene",K.__isInterface__=!0,K.__interfaces__=[p,u,a],K.prototype={__class__:K};function V(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),this.type=e,this.isPauseable=i,this.isMuteable=s,this.isSessionSavedOnNext=n,l.call(this,t)}(e["awe6.core.Scene"]=V).__name__="awe6.core.Scene",V.__interfaces__=[K],V.__super__=l,V.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this.isDisposable=!0,this._entity=new m(this._kernel),this.view=this._entity.get_view()},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t),this._entity.update(t)},_disposer:function(){this._entity.dispose(),this.get_view().dispose(),l.prototype._disposer.call(this)},addEntity:function(t,e,i,s){return null==s&&(s=0),null==i&&(i=!1),this._entity.addEntity(t,e,i,s)},removeEntity:function(t,e,i){null==i&&(i=!1),this._entity.removeEntity(t,e,i)},getEntities:function(t){return this._entity.getEntities(t)},getEntitiesByClass:function(t,e,i,s,n){return null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),this._entity.getEntitiesByClass(t,e,i,s,!1)},get_view:function(){return this.view},setAgenda:function(t){return this._entity.setAgenda(t)},__class__:V,__properties__:t(l.prototype.__properties__,{get_view:"get_view"})});function Y(){}(e["awe6.interfaces.ISceneManager"]=Y).__name__="awe6.interfaces.ISceneManager",Y.__isInterface__=!0,Y.prototype={__class__:Y,__properties__:{get_scene:"get_scene"}};function X(t){l.call(this,t)}(e["awe6.core.SceneManager"]=X).__name__="awe6.core.SceneManager",X.__interfaces__=[Y],X.__super__=l,X.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this.view=new Kt(this._kernel)},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t),null!=this.get_scene()&&this.get_scene().update(t),null!=this._sceneTransition&&this._sceneTransition.update(t)},_disposer:function(){null!=this.get_scene()&&this.get_scene().dispose(),null!=this._sceneTransition&&this._sceneTransition.dispose(),this.view.dispose(),l.prototype._disposer.call(this)},setScene:function(t){var e,i=null;null!=this.get_scene()&&(i=this.get_scene().type,e=this._kernel.factory.createSceneTransition(t,i),null!=this._sceneTransition&&this._sceneTransition.dispose(),this._sceneTransition=e,this._kernel.inputs.reset(),this.get_scene().isDisposable&&(this.get_scene().dispose(),this._kernel.messenger.reset()),this.scene=null),this._kernel.overlay.hideButtons(),this.scene=this._kernel.factory.createScene(t),this._kernel.overlay.showButton(re.BACK,null!=this._kernel.factory.getBackSceneType(this.get_scene().type)),this._kernel.overlay.showButton(re.MUTE,this.get_scene().isMuteable&&!this._kernel.audio.isMute),this._kernel.overlay.showButton(re.UNMUTE,this.get_scene().isMuteable&&this._kernel.audio.isMute),this._kernel.overlay.showButton(re.PAUSE,this.get_scene().isPauseable&&this._kernel.isActive),this._kernel.overlay.showButton(re.UNPAUSE,this.get_scene().isPauseable&&!this._kernel.isActive),this.view.addChild(this.get_scene().get_view()),null!=this._sceneTransition&&this.get_scene().get_view().addChild(this._sceneTransition.get_view(),this._tools.BIG_NUMBER+1)},back:function(){var t=this._kernel.factory.getBackSceneType(this.get_scene().type);null!=t&&this.setScene(t)},next:function(){this.get_scene().isSessionSavedOnNext&&null!=this._kernel.get_session()&&this._kernel.get_session().save();var t=this._kernel.factory.getNextSceneType(this.get_scene().type);null!=t&&this.setScene(t)},restart:function(){null==this.get_scene()?this.setScene(this._kernel.factory.startingSceneType):this.setScene(this.get_scene().type)},get_scene:function(){return this.scene},__class__:X,__properties__:t(l.prototype.__properties__,{get_scene:"get_scene"})});function z(){}(e["awe6.interfaces.ITextStyle"]=z).__name__="awe6.interfaces.ITextStyle",z.__isInterface__=!0,z.prototype={__class__:z};function W(t,e,i,s,n,r,o,a,l,h){null==l&&(l=0),null==n&&(n=!1),null==s&&(s=!1),this.font=null!=t?t:"_sans",this.size=null!=e?e:12,this.color=null!=i?i:0,this.isBold=s,this.isItalic=n,this.align=null!=r?r:ae.LEFT,this.spacingHorizontal=null!=o?o:0,this.spacingVertical=null!=a?a:0,this.thickness=l,this.filters=h}(e["awe6.core.TextStyle"]=W).__name__="awe6.core.TextStyle",W.__interfaces__=[z],W.prototype={toString:function(){return M.string(this.font+","+this.size+","+this.color+","+M.string(this.isBold)+","+M.string(this.isItalic)+","+M.string(this.align)+","+this.spacingHorizontal+","+this.spacingVertical+","+this.thickness+","+M.string(this.filters))},__class__:W};function J(){}(e["awe6.interfaces.ITools"]=J).__name__="awe6.interfaces.ITools",J.__isInterface__=!0,J.__interfaces__=[w],J.prototype={__class__:J};function Q(t){this._kernel=t,this.BIG_NUMBER=9999998,this._encrypter=this._kernel.factory.createEncrypter()}(e["awe6.core.Tools"]=Q).__name__="awe6.core.Tools",Q.__interfaces__=[J],Q.prototype={createGuid:function(t,e){return null==e&&(e=""),null==t&&(t=!1),t?e+P.substr(this._randomCharacter()+this._randomCharacter()+this._randomCharacter(),0,10):e+(this._randomCharacter()+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+this._randomCharacter()+this._randomCharacter())},_randomCharacter:function(){return P.substr(c.hex(65536*(1+Math.random())|0,1),1,null)},sortByPriority:function(t,e){var i=t.get_priority(),s=e.get_priority();return i<s?-1:s<i?1:0},_isCamelCase:function(t){return t.toUpperCase()!=t&&(!(-1<t.indexOf(" "))&&!(-1<t.indexOf("_")))},_isConstCase:function(t){return t.toUpperCase()==t&&!(-1<t.indexOf(" "))},fromCamelCase:function(t){if(null==t||""==t)return"";for(var e="",i=t.split(""),s="",n=0;n<i.length;){var r=i[n];++n,r.toLowerCase()!=r&&(e+=s),e+=r,s=" "}return e},toConstCase:function(t){if(null==t||""==t)return"";if(this._isConstCase(t))return t;this._isCamelCase(t)&&(t=this.fromCamelCase(t));return t=c.replace(t,"     "," "),t=c.replace(t,"    "," "),t=c.replace(t,"   "," "),t=c.replace(t,"  "," "),(t=c.replace(t," ","_")).toUpperCase()},distance:function(t,e,i,s,n){null==n&&(n=!1);var r=i-t,o=s-e,a=r*r+o*o;return n?a:Math.sqrt(a)},shuffle:function(t){for(var e=t.slice(),i=e.length;1<i;){var s=M.random(i),n=e[--i];e[i]=e[s],e[s]=n}return e},serialize:function(t){return ri.run(t)},unserialize:function(t){return li.run(t)},decrypt:function(t,e){return null==e&&(e=""),this._encrypter.decrypt(t,e)},__class__:Q};function q(){}(e["awe6.interfaces.IAssetManager"]=q).__name__="awe6.interfaces.IAssetManager",q.__isInterface__=!0,q.prototype={__class__:q};function Z(){}(e["awe6.interfaces.IAssetManagerProcess"]=Z).__name__="awe6.interfaces.IAssetManagerProcess",Z.__isInterface__=!0,Z.__interfaces__=[a,q];function $(t){l.call(this,t)}(e["awe6.core.drivers.AAssetManager"]=$).__name__="awe6.core.drivers.AAssetManager",$.__interfaces__=[Z],$.__super__=l,$.prototype=t(l.prototype,{_init:function(){this._packageId=this._kernel.getConfig("settings.assets.packages.default"),null==this._packageId&&(this._packageId="assets"),l.prototype._init.call(this)},getAsset:function(t,e,i){return null==e&&(e=this._packageId),this._driverGetAsset(t,e,i)},_driverGetAsset:function(t,e,i){return null},__class__:$});function tt(){}(e["awe6.interfaces.IAudioManager"]=tt).__name__="awe6.interfaces.IAudioManager",tt.__isInterface__=!0,tt.prototype={__class__:tt,__properties__:{set_isMute:"set_isMute"}};function et(t){l.call(this,t)}(e["awe6.core.drivers.AAudioManager"]=et).__name__="awe6.core.drivers.AAudioManager",et.__interfaces__=[tt],et.__super__=l,et.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this._sounds=[],this._packageId=this._kernel.getConfig("settings.assets.packages.audio"),null==this._packageId&&(this._packageId=this._kernel.getConfig("settings.assets.packages.default")),null==this._packageId&&(this._packageId="assets.audio"),this.set_isMute(!1)},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t);for(var e=0,i=this._sounds;e<i.length;){var s=i[e];++e,s.isDisposed&&P.remove(this._sounds,s)}},_disposer:function(){for(var t=0,e=this._sounds;t<e.length;){var i=e[t];++t,i.dispose()}this.set_isMute(!1),l.prototype._disposer.call(this)},start:function(t,e,i,s,n,r,o,a){if((null==o&&(o=!1),null==r&&(r=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),null==e&&(e=qt.DEFAULT),o)&&0!=this._getSounds(t,e).length)return;this._sounds.push(this._driverSoundFactory(t,e,i,s,n,r,a))},_driverSoundFactory:function(t,e,i,s,n,r,o){return null==r&&(r=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),new it(this._kernel,t,this._packageId,e,i,s,n,r,o)},stop:function(t,e){for(var i=this._getSounds(t,e),s=0;s<i.length;){var n=i[s];++s,n.stop()}},set_isMute:function(t){return this.isMute=t,this._driverSetIsMute(t),this.isMute},_driverSetIsMute:function(t){},_getSounds:function(t,e){var i=[];if(null==t&&null==e)i=this._sounds.slice();else if(null==e)for(var s=0,n=this._sounds;s<n.length;){var r=n[s];++s,r.id==t&&i.push(r)}else if(null==t)for(s=0,n=this._sounds;s<n.length;){r=n[s];++s,T.enumEq(r.audioChannelType,e)&&i.push(r)}else for(s=0,n=this._sounds;s<n.length;){r=n[s];++s,r.id==t&&T.enumEq(r.audioChannelType,e)&&i.push(r)}return i},__class__:et,__properties__:t(l.prototype.__properties__,{set_isMute:"set_isMute"})});var it=function(t,e,i,s,n,r,o,a,l){null==a&&(a=0),null==o&&(o=1),null==r&&(r=0),null==n&&(n=1),this._kernel=t,this.isDisposed=!1,this.id=e,this._packageId=i,this.audioChannelType=null!=s?s:qt.DEFAULT,-1==n&&(n=this._kernel.tools.BIG_NUMBER),this._loops=n,this._startTime=r,this._volume=o,this._pan=a,this._onCompleteCallback=l,this._init()};(e["awe6.core.drivers._AHelperSound"]=it).__name__="awe6.core.drivers._AHelperSound",it.__interfaces__=[r],it.prototype={_init:function(){this._driverInit()},_driverInit:function(){},stop:function(){this._driverStop(),this.dispose()},_driverStop:function(){},dispose:function(){this.isDisposed||(this.isDisposed=!0,this._driverStop())},__class__:it};function st(){}(e["awe6.interfaces.IFactory"]=st).__name__="awe6.interfaces.IFactory",st.__isInterface__=!0,st.prototype={__class__:st};function nt(t,e,i){null==e&&(e=!1),this._context=t,this.isDebug=e,this._config=i,this.config=new Si;var s=!0;null==s&&(s=!1),s&&(this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Zt.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=te.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=oe.GAME,this.keyPause=ee.P,this.keyMute=ee.M,this.keyNext=ee.SPACE,this.keyBack=ee.ESCAPE,this.keySpecial=ee.CONTROL),this._configurer(s),this._driverInit()}(e["awe6.core.drivers.AFactory"]=nt).__name__="awe6.core.drivers.AFactory",nt.__interfaces__=[r,st],nt.prototype={_driverInit:function(){null!=this._config&&"<?xml"==P.substr(this._config,0,5)&&this._traverseElements(O.parse(this._config).firstElement().elements(),""),this._launchKernel()},_traverseElements:function(t,e){0!=e.length&&(e+=".");for(var i=t;i.hasNext();){var s=i.next();if(s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));var n,r=e+s.nodeName;if(s.elements().hasNext()&&this._traverseElements(s.elements(),r),s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));if(null!=s.children[0]){if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));n="<![CDATA["==P.substr(ki.print(s.children[0]),0,9)}else n=!1;if(n){if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));var o=s.children[0];if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));var a=ki.print(s.children[0]).split("<![CDATA[").join("").split("]]>").join("");if(o.nodeType==O.Document||o.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==o.nodeType?"null":D.toString(o.nodeType)));o.nodeValue=a}if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));if(null==s.children[0])this.config.h[r]="";else{if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));var l=s.children[0].nodeType;if(l!=O.Element&&l!=O.Document){var h,_=this.config;if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));if(null==s.children[0])h="";else{if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));var c=s.children[0];if(c.nodeType==O.Document||c.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==c.nodeType?"null":D.toString(c.nodeType)));h=c.nodeValue}_.h[r]=h}else this.config.h[r]=""}for(var u=s.attributes();u.hasNext();){var p=u.next(),d=r+"."+p,g=this.config,f=s.get(p);g.h[d]=f}}},_configurer:function(t){null==t&&(t=!1)},_launchKernel:function(){var t;null==this._concreteKernel&&(null==(t=!1)&&(t=!1),t&&(this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Zt.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=te.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=oe.GAME,this.keyPause=ee.P,this.keyMute=ee.M,this.keyNext=ee.SPACE,this.keyBack=ee.ESCAPE,this.keySpecial=ee.CONTROL),this._configurer(t),this._concreteKernel=new Lt(this,this._context))},_getAssetUrls:function(){for(var t=[],e=0;e<1e3;){var i="settings.assets.url"+e++;Object.prototype.hasOwnProperty.call(this.config.h,i)&&t.push(M.string(this.config.h[i]))}return t},onInitComplete:function(t){null==this._kernel&&null!=t&&(this._kernel=t,this._tools=this._kernel.tools,this.id=P.substr(this._tools.toConstCase(c.trim(this.id)),0,16),this.version=P.substr(c.trim(this.version),0,16),this.author=P.substr(c.trim(this.author),0,16))},createAssetManager:function(){return cs.__implements(this._kernel.assets,Z)?cs.__cast(this._kernel.assets,Z):new Mt(this._kernel)},createEncrypter:function(){return new A(this.secret)},createLogger:function(){return null},createOverlay:function(){return new Ft(this._kernel)},createPreloader:function(){return new jt(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){return null==t&&(t=this.startingSceneType),new V(this._kernel,t)},createSceneTransition:function(t,e){return new Nt(this._kernel)},createSession:function(t){return new Tt(this._kernel,t)},createTextStyle:function(t){return new W},getBackSceneType:function(t){return null},getNextSceneType:function(t){return null},dispose:function(){var t;this.isDisposed||null==this._concreteKernel||(this.isDisposed=!0,this._driverDisposer(),(t=this._concreteKernel).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),this._concreteKernel=null,this._kernel=null,this.config=null)},_driverDisposer:function(){},__class__:nt};function rt(){}(e["awe6.interfaces.IInputKeyboard"]=rt).__name__="awe6.interfaces.IInputKeyboard",rt.__isInterface__=!0,rt.prototype={__class__:rt};function ot(t){l.call(this,t)}(e["awe6.core.drivers.AInputKeyboard"]=ot).__name__="awe6.core.drivers.AInputKeyboard",ot.__interfaces__=[rt],ot.__super__=l,ot.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this._driverInit(),this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t);for(var e=Object.create(null),i=[],s=0,n=this._buffer;s<n.length;){var r=n[s];++s;var o=null==r.keyCode?"null":""+r.keyCode;Object.prototype.hasOwnProperty.call(e,o)?i.push(r):r.isDown?this._keys[r.keyCode].isDown||(this._onDown(r.keyCode),e[o]=!0):this._keys[r.keyCode].isDown&&(this._onUp(r.keyCode),e[o]=!0)}this._buffer=i.slice();for(s=0,n=this._keys;s<n.length;){r=n[s];++s,r.isDown?r.updatesDown++:r.updatesUp++,r.isDown?r.timeDown+=t:r.timeUp+=t}},_disposer:function(){this._keys=null,l.prototype._disposer.call(this)},_addEvent:function(t,e){this._buffer.push(new lt(t,e))},_onDown:function(t){var e=this._keys[t];e.isUsed=!0,e.isDown=!0,e.timeUpPrevious=e.timeUp,e.updatesUpPrevious=e.updatesUp,e.updatesUp=0,e.timeUp=0},_onUp:function(t){var e=this._keys[t];e.isDown=!1,e.timeDownPrevious=e.timeDown,e.updatesDownPrevious=e.updatesDown,e.updatesDown=0,e.timeDown=0},_reset:function(t){this._buffer=[],this._keys=[];for(var e=0;e<256;){var i=e++;this._keys[i]=new at(this._kernel)}},getIsKeyDown:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return this._keys[e].isDown},getIsKeyPress:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return 1==this._keys[e].updatesDown},getIsKeyRelease:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return!!this._keys[e].isUsed&&1==this._keys[e].updatesUp},getKeyCode:function(t){switch(t._hx_index){case 0:return 144;case 1:return 12;case 2:return 47;case 3:return 18;case 4:return 8;case 5:return 20;case 6:return 17;case 7:return 46;case 8:return 40;case 9:return 35;case 10:return 13;case 11:return 27;case 12:return 112;case 13:return 121;case 14:return 122;case 15:return 123;case 16:return 124;case 17:return 125;case 18:return 126;case 19:return 113;case 20:return 114;case 21:return 115;case 22:return 116;case 23:return 117;case 24:return 118;case 25:return 119;case 26:return 120;case 27:return 36;case 28:return 45;case 29:return 37;case 30:return 96;case 31:return 97;case 32:return 98;case 33:return 99;case 34:return 100;case 35:return 101;case 36:return 102;case 37:return 103;case 38:return 104;case 39:return 105;case 40:return 107;case 41:return 110;case 42:return 111;case 43:return 108;case 44:return 106;case 45:return 109;case 46:return 34;case 47:return 33;case 48:return 39;case 49:return 16;case 50:return 32;case 51:return 9;case 52:return 38;case 53:return 65;case 54:return 66;case 55:return 67;case 56:return 68;case 57:return 69;case 58:return 70;case 59:return 71;case 60:return 72;case 61:return 73;case 62:return 74;case 63:return 75;case 64:return 76;case 65:return 77;case 66:return 78;case 67:return 79;case 68:return 80;case 69:return 81;case 70:return 82;case 71:return 83;case 72:return 84;case 73:return 85;case 74:return 86;case 75:return 87;case 76:return 88;case 77:return 89;case 78:return 90;case 79:return 48;case 80:return 49;case 81:return 50;case 82:return 51;case 83:return 52;case 84:return 53;case 85:return 54;case 86:return 55;case 87:return 56;case 88:return 57;case 89:return 186;case 90:return 187;case 91:return 189;case 92:return 191;case 93:return 222;case 94:return 219;case 95:return 221;case 96:return 220;case 97:return 192;case 98:return 223;case 99:return 0|t.value}},getKey:function(t){var e=ee.__constructs__.slice();e.pop();for(var i=0;i<e.length;){var s=e[i];++i;var n=T.createEnum(ee,s);if(this.getKeyCode(n)==t)return n}return ee.SUB_TYPE(t)},__class__:ot});var at=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(e["awe6.core.drivers._AInputKeyboard._HelperKey"]=at).__name__="awe6.core.drivers._AInputKeyboard._HelperKey",at.prototype={__class__:at};var lt=function(t,e){this.keyCode=t,this.isDown=e};(e["awe6.core.drivers._AInputKeyboard._HelperKeyEvent"]=lt).__name__="awe6.core.drivers._AInputKeyboard._HelperKeyEvent",lt.prototype={__class__:lt};function ht(){}(e["awe6.interfaces.IInputMouse"]=ht).__name__="awe6.interfaces.IInputMouse",ht.__isInterface__=!0,ht.prototype={__class__:ht,__properties__:{set_cursorType:"set_cursorType"}};function _t(t){l.call(this,t)}(e["awe6.core.drivers.AInputMouse"]=_t).__name__="awe6.core.drivers.AInputMouse",_t.__interfaces__=[ht],_t.__super__=l,_t.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this._driverInit(),this.x=this.y=this._xPrev=this._yPrev=this._deltaX=this._deltaY=this.scroll=this._deltaScroll=0,this.relativeX=this.relativeY=this.relativeCentralisedX=this.relativeCentralisedY=0,this.isMoving=!1,this._buffer=[],this._getPosition(),this.isMoving=!1,this.set_isVisible(!0),this.scroll=0,this.set_cursorType(ne.AUTO),this._scrollPrev=0,this._stillUpdates=0,this._stillDuration=0,this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),this._deltaTimePrev=t,l.prototype._updater.call(this,t),this._xPrev=this.x,this._yPrev=this.y,this._getPosition(),this._handleButton(se.LEFT,0<this._buffer.length?this._buffer.shift():this._buttonLeft.isDown,t),this._handleButton(se.MIDDLE,this._isMiddleDown(),t),this._handleButton(se.RIGHT,this._isRightDown(),t),this._deltaScroll=this.scroll-this._scrollPrev,this._scrollPrev=this.scroll,this._deltaX=this.x-this._xPrev,this._deltaY=this.y-this._yPrev,this.isMoving=this.x!=this._xPrev||this.y!=this._yPrev,this.isMoving?this._stillUpdates=this._stillDuration=0:(this._stillUpdates++,this._stillDuration+=t),this.relativeX=this.x/this._kernel.factory.width,this.relativeY=this.y/this._kernel.factory.height,this.relativeCentralisedX=2*(this.relativeX-.5),this.relativeCentralisedY=2*(this.relativeY-.5),this.isWithinBounds=this._isWithinBounds()},_isMiddleDown:function(){return!1},_isRightDown:function(){return!1},_isWithinBounds:function(){return!0},_getPosition:function(){this.x=0,this.y=0},_handleButton:function(t,e,i){null==i&&(i=0);var s=this._getButton(t);e?(s.isDown||(s.timeUpPrevious=s.timeUp,s.updatesUpPrevious=s.updatesUp,s.timeUp=s.updatesUp=0,s.clickX=this.x,s.clickY=this.y),s.timeDown+=i,s.updatesDown++,s.isDown=!0):(s.isDown&&(s.timeDownPrevious=s.timeDown,s.updatesDownPrevious=s.updatesDown,s.timeDown=s.updatesDown=0),s.timeUp+=i,s.updatesUp++,s.isDown=!1)},_disposer:function(){l.prototype._disposer.call(this)},_reset:function(t){this._buffer=[],this._buttonLeft=new ct(this._kernel),this._buttonMiddle=new ct(this._kernel),this._buttonRight=new ct(this._kernel)},_getButton:function(t){switch(null==t&&(t=se.LEFT),t._hx_index){case 0:return this._buttonLeft;case 1:return this._buttonMiddle;case 2:return this._buttonRight}},getDeltaX:function(t){null==t&&(t=!0);var e=this._deltaX;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getDeltaY:function(t){null==t&&(t=!0);var e=this._deltaY;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getIsButtonDoubleClick:function(t,e){null==e&&(e=100);var i=this._getButton(t);return!!i.isDown&&i.timeUpPrevious<=e},getIsButtonDown:function(t){return this._getButton(t).isDown},getIsButtonRelease:function(t){return 1==this._getButton(t).updatesUp},getButtonDownDuration:function(t,e,i){null==i&&(i=!1),null==e&&(e=!0);var s=this._getButton(t);return i?e?s.timeDownPrevious:s.updatesDownPrevious:e?s.timeDown:s.updatesDown},getButtonDragWidth:function(t){var e=this._getButton(t);return e.isDown?this.x-e.clickX:0},getButtonDragHeight:function(t){var e=this._getButton(t);return e.isDown?this.y-e.clickY:0},set_isVisible:function(t){return this.isVisible=t,this.isVisible},set_cursorType:function(t){return this.cursorType=t,this.cursorType},__class__:_t,__properties__:t(l.prototype.__properties__,{set_cursorType:"set_cursorType",set_isVisible:"set_isVisible"})});var ct=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(e["awe6.core.drivers._AInputMouse._HelperButton"]=ct).__name__="awe6.core.drivers._AInputMouse._HelperButton",ct.prototype={__class__:ct};function ut(){}(e["awe6.interfaces.ILogger"]=ut).__name__="awe6.interfaces.ILogger",ut.__isInterface__=!0,ut.prototype={__class__:ut};function pt(){}(e["awe6.interfaces.IKernel"]=pt).__name__="awe6.interfaces.IKernel",pt.__isInterface__=!0,pt.__interfaces__=[ut,n],pt.prototype={__class__:pt,__properties__:{set_session:"set_session",get_session:"get_session",set_isFullScreen:"set_isFullScreen"}};function dt(t,e){this.factory=t,this._context=e,this.tools=this._tools=new Q(this),l.call(this,this)}(e["awe6.core.drivers.AKernel"]=dt).__name__="awe6.core.drivers.AKernel",dt.__interfaces__=[pt],dt.__super__=l,dt.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this._view=new Kt(this,this._context,0,this),this._processes=new yi,this._helperFramerate=new gt(this.factory.targetFramerate),this._isPreloaded=!1,this.isDebug=this.factory.isDebug,this.isLocal=this._driverGetIsLocal(),this._driverInit(),this.assets=this._assetManagerProcess=new Mt(this._kernel),this.audio=this._audioManager=new kt(this._kernel),this.inputs=this._inputManager=new j(this._kernel),this.scenes=this._sceneManager=new X(this._kernel),this.messenger=this._messageManager=new N(this._kernel),this._view.addChild(this._sceneManager.view,1),this._addProcess(this._assetManagerProcess),this._addProcess(this._inputManager),this._addProcess(this._sceneManager),this._addProcess(this._messageManager),this._addProcess(this._audioManager),this.set_isEyeCandy(!0),this.set_isFullScreen(!1),this.factory.onInitComplete(this),this.set_session(this.factory.createSession()),this.get_session().reset(),this._preloader=this.factory.createPreloader(),this._addProcess(this._preloader),this._view.addChild(this._preloader.get_view(),2)},_driverGetIsLocal:function(){return!1},_driverInit:function(){},_driverDisposer:function(){},onPreloaderComplete:function(t){this._isPreloaded=!0,this._removeProcess(this._preloader),this._preloader=null,this._logger=this.factory.createLogger();var e=this.factory.createAssetManager();e!=this._assetManagerProcess&&(this._removeProcess(this._assetManagerProcess),this.assets=this._assetManagerProcess=e,this._addProcess(this._assetManagerProcess,!1)),this.overlay=this._overlayProcess=this.factory.createOverlay(),this._addProcess(this._overlayProcess,!0),this._view.addChild(this._overlayProcess.get_view(),3),this.isDebug&&(this._addProcess(this._profiler=new Ut(this)),this._view.addChild(this._profiler.get_view(),this._tools.BIG_NUMBER)),this.scenes.setScene(this.factory.startingSceneType),this.overlay.flash()},_updater:function(t){null==t&&(t=0),this._helperFramerate.update();var e=this.factory.isFixedUpdates?1e3/this.factory.targetFramerate|0:this._helperFramerate.timeInterval;l.prototype._updater.call(this,e);for(var i=this._processes.h;null!=i;){var s=i.item,i=i.next;s.update(e)}var n=this._view;null==(t=e)&&(t=0),n.isActive&&!n.isDisposed&&(n._age+=t,n._updates++,n._updater(t))},_disposer:function(){for(var t=this._processes.h;null!=t;){var e=t.item,t=t.next;this._removeProcess(e)}cs.__implements(this.factory,r)&&cs.__cast(this.factory,r).dispose(),this.factory=null;var i=this._view;i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer()),this._view=null,this._driverDisposer(),this.assets=this._assetManagerProcess=null,this.audio=this._audioManager=null,this.inputs=this._inputManager=null,this.scenes=this._sceneManager=null,this.messenger=this._messageManager=null,this.overlay=this._overlayProcess=null,this.tools=this._tools=null,this._logger=null,this._preloader=null,this.set_session(null),l.prototype._disposer.call(this)},getConfig:function(t){return Object.prototype.hasOwnProperty.call(this.factory.config.h,t)?this.factory.config.h[t]:null},log:function(t){null!=this._logger?this._logger.log(t):this.isDebug&&si.trace("LOG: "+M.string(t),{fileName:"awe6/core/drivers/AKernel.hx",lineNumber:248,className:"awe6.core.drivers.AKernel",methodName:"log"})},getFramerate:function(t){return null==t&&(t=!0),t?this._helperFramerate.framerate:this.factory.targetFramerate},_addProcess:function(t,e){null==e&&(e=!0),null!=t&&(e?this._processes.add(t):this._processes.push(t))},_removeProcess:function(t){return null!=t&&(t.dispose(),this._processes.remove(t))},set_isEyeCandy:function(t){return this.factory.isEyeCandyOptionEnabled?(this.isEyeCandy=t,this._driverSetIsEyeCandy(t)):this.isEyeCandy=!0,this.isEyeCandy},_driverSetIsEyeCandy:function(t){},set_isFullScreen:function(t){return!this.factory.isFullScreenOptionEnabled||T.enumEq(this.factory.fullScreenType,Zt.DISABLED)?this.isFullScreen=!1:(this.isFullScreen=t,this._driverSetIsFullScreen(t)),this.isFullScreen},_driverSetIsFullScreen:function(t){},_pauser:function(){l.prototype._pauser.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().pause()},_resumer:function(){l.prototype._resumer.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().resume()},get_session:function(){return this.session},set_session:function(t){return this.session=t,this.get_session()},__class__:dt,__properties__:t(l.prototype.__properties__,{set_session:"set_session",get_session:"get_session",set_isFullScreen:"set_isFullScreen",set_isEyeCandy:"set_isEyeCandy"})});var gt=function(t){this.framerate=t,this._timeAtLastUpdate=P.now()/1e3*1e3|0};(e["awe6.core.drivers._AKernel._HelperFramerate"]=gt).__name__="awe6.core.drivers._AKernel._HelperFramerate",gt.prototype={update:function(){this.timeInterval=(P.now()/1e3*1e3|0)-this._timeAtLastUpdate,this.framerate=1e3/this.timeInterval,this._timeAtLastUpdate=P.now()/1e3*1e3|0},__class__:gt};function ft(){}(e["awe6.interfaces.IOverlay"]=ft).__name__="awe6.interfaces.IOverlay",ft.__isInterface__=!0,ft.prototype={__class__:ft,__properties__:{get_pauseEntity:"get_pauseEntity"}};function yt(){}(e["awe6.interfaces.IOverlayProcess"]=yt).__name__="awe6.interfaces.IOverlayProcess",yt.__isInterface__=!0,yt.__interfaces__=[p,a,ft];function mt(t,e,i,s,n,r,o,a,l,h,_,c,u,p,d,g,f){null==f&&(f=.35),null==g&&(g=0),null==d&&(d=8),null==i&&(i=30),null==e&&(e=30),null==s&&(s=new Kt(t)),null==n&&(n=new Kt(t)),null==r&&(r=new Kt(t)),null==o&&(o=new Kt(t)),null==a&&(a=new Kt(t)),null==l&&(l=new Kt(t)),null==h&&(h=new Kt(t)),null==_&&(_=new Kt(t)),null==c&&(c=new Kt(t)),null==u&&(u=new Kt(t)),null==p&&(p=new Kt(t)),this._borderView=s,this._buttonBack=new S(t,n,r,e,i),this._buttonMute=new S(t,o,a,e,i),this._buttonUnmute=new S(t,l,h,e,i),this._buttonPause=new S(t,_,c,e,i),this._buttonUnpause=new S(t,u,p,e,i),this._pauseBlur=d,this._pauseColor=g,this._pauseAlpha=f,this._context=new createjs.Container,m.call(this,t,null,this._context)}(e["awe6.core.drivers.AOverlay"]=mt).__name__="awe6.core.drivers.AOverlay",mt.__interfaces__=[yt],mt.__super__=m,mt.prototype=t(m.prototype,{_init:function(){m.prototype._init.call(this),this.get_view().addChild(this._borderView,4),this._wasMute=this._kernel.audio.isMute,this._driverInit(),this._progressView=new Kt(this._kernel,this._progressContext),this._progressView.set_isVisible(!1),this._pauseView=new Kt(this._kernel,this._pauseContext),this._pauseView.set_isVisible(!1),this._flashView=new Kt(this._kernel,this._flashContext),this._flashView.set_isVisible(!1),this._flashStartingAlpha=1,this._flashAsTime=!0,this._flashDuration=this._flashStartingDuration=100;var t=Ms(this,this.activateButton),e=re.BACK,i=function(){t(e)};this._buttonBack.onClickCallback=i;var s=Ms(this,this.activateButton),n=re.MUTE,i=function(){s(n)};this._buttonMute.onClickCallback=i;var r=Ms(this,this.activateButton),o=re.PAUSE,i=function(){r(o)};this._buttonPause.onClickCallback=i;var a=Ms(this,this.activateButton),l=re.UNMUTE,i=function(){a(l)};this._buttonUnmute.onClickCallback=i;var h=Ms(this,this.activateButton),_=re.UNPAUSE,i=function(){h(_)};this._buttonUnpause.onClickCallback=i,this.get_view().addChild(this._flashView,1),this.get_view().addChild(this._pauseView,2),this.get_view().addChild(this._progressView,3),this.addEntity(this._buttonBack,null,!0,21),this.addEntity(this._buttonUnmute,null,!0,22),this.addEntity(this._buttonMute,null,!0,23),this.addEntity(this._buttonUnpause,null,!0,24),this.addEntity(this._buttonPause,null,!0,25);var c=this._buttonBack.height,u=this._buttonBack.width,p=this._kernel.factory.width-4*u,d=c;this.positionButton(re.BACK,p,d),this.positionButton(re.MUTE,p+=u,d),this.positionButton(re.UNMUTE,p,d),this.positionButton(re.PAUSE,p+=u,d),this.positionButton(re.UNPAUSE,p,d)},_driverInit:function(){this._progressContext=new createjs.Container,this._pauseContext=new createjs.Container,this._flashContext=new createjs.Container},_updater:function(t){var e;null==t&&(t=0),m.prototype._updater.call(this,t),0<this._flashDuration&&(this._flashDuration-=this._flashAsTime?t:1,e=this._flashStartingAlpha*(this._flashDuration/this._flashStartingDuration),this._flashAlpha=1<e?1:e<0?0:e),this._flashView.set_isVisible(0<this._flashAlpha),null!=this._kernel.factory.keyBack&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyBack)&&this.activateButton(this._kernel.isActive?re.BACK:re.UNPAUSE),null!=this._kernel.factory.keyPause&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyPause)&&this.activateButton(this._kernel.isActive?re.PAUSE:re.UNPAUSE),null!=this._kernel.factory.keyMute&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyMute)&&this.activateButton(this._kernel.audio.isMute?re.UNMUTE:re.MUTE),null==this.get_pauseEntity()||this._kernel.isActive||(this.get_pauseEntity().update(t),this._pauseView.update(t))},_disposer:function(){null!=this.get_pauseEntity()&&this.get_pauseEntity().dispose(),this.get_view().dispose(),m.prototype._disposer.call(this)},_getButton:function(t){switch(t._hx_index){case 0:return this._buttonBack;case 1:return this._buttonMute;case 2:return this._buttonUnmute;case 3:return this._buttonPause;case 4:return this._buttonUnpause;case 5:t.value;return null}},showButton:function(t,e){null==e&&(e=!0);var i=this._getButton(t);null!=i&&(e?this.addEntity(i,null,!0):this.removeEntity(i,null,!0))},positionButton:function(t,e,i,s,n){var r=this._getButton(t);null!=r&&(r.set_x(e),r.set_y(i),null!=s&&r.set_width(s),null!=n&&r.set_height(n))},hideButtons:function(){this.showButton(re.BACK,!1),this.showButton(re.MUTE,!1),this.showButton(re.UNMUTE,!1),this.showButton(re.PAUSE,!1),this.showButton(re.UNPAUSE,!1)},flash:function(t,e,i,s){null==s&&(s=16777215),null==i&&(i=1),null==e&&(e=!0),null==t&&(t=e?500:.5*this._kernel.factory.targetFramerate),this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e,this._flashAlpha=this._flashStartingAlpha=1<i?1:i<0?0:i},activateButton:function(t){switch(t._hx_index){case 0:this._buttonBack.get_view().get_isInViewStack()&&(this._kernel.isActive||this.activateButton(re.UNPAUSE),this._drawPause(!1),this._kernel.resume(),this._kernel.scenes.back());break;case 1:this._buttonMute.get_view().get_isInViewStack()&&(this.showButton(re.MUTE,!1),this.showButton(re.UNMUTE,!0),this._kernel.audio.set_isMute(!0));break;case 2:this._buttonUnmute.get_view().get_isInViewStack()&&!this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(re.MUTE,!0),this.showButton(re.UNMUTE,!1),this._kernel.audio.set_isMute(!1));break;case 3:this._buttonPause.get_view().get_isInViewStack()&&(this._kernel.pause(),this._drawPause(!0),this._wasMute=this._kernel.audio.isMute,this.showButton(re.PAUSE,!1),this.showButton(re.UNPAUSE,!0),this.activateButton(re.MUTE));break;case 4:this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(re.PAUSE,!0),this.showButton(re.UNPAUSE,!1),this.activateButton(this._wasMute?re.MUTE:re.UNMUTE),this._kernel.resume(),this._drawPause(!1));break;case 5:t.value}},_drawPause:function(t){null==t&&(t=!0),this._pauseView.set_isVisible(t)},get_pauseEntity:function(){return this.pauseEntity},set_pauseEntity:function(t){return null!=this.get_pauseEntity()&&this.get_pauseEntity().get_view().remove(),this.pauseEntity=t,this._pauseView.addChild(this.get_pauseEntity().get_view()),this.get_pauseEntity()},__class__:mt,__properties__:t(m.prototype.__properties__,{set_pauseEntity:"set_pauseEntity",get_pauseEntity:"get_pauseEntity"})});function bt(){}(e["awe6.interfaces.IProgress"]=bt).__name__="awe6.interfaces.IProgress",bt.__isInterface__=!0;function St(){}(e["awe6.interfaces.IPreloader"]=St).__name__="awe6.interfaces.IPreloader",St.__isInterface__=!0,St.__interfaces__=[bt,p,a];function vt(t,e,i){null==i&&(i=!1),this._assets=e,this._isDecached=i,l.call(this,t)}(e["awe6.core.drivers.APreloader"]=vt).__name__="awe6.core.drivers.APreloader",vt.__interfaces__=[St],vt.__super__=l,vt.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this.progress=0,null==this.get_view()&&(this.view=new Kt(this._kernel)),this._encrypter=this._tools,this._currentProgress=0,this._currentAsset=0,this._isComplete=!1,0<this._assets.length&&this._next()},_next:function(){if(this._currentAsset++,this._currentAsset>this._assets.length){if(!this._isComplete){try{var t=Ms(_=this._kernel,_.onPreloaderComplete),e=this;oi.delay(function(){t(e)},100)}catch(t){}this._isComplete=!0}}else this._driverLoad(this._assets[this._currentAsset-1]),this._currentProgress=0},_driverLoad:function(t){},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t),0==this._assets.length&&this._kernel.onPreloaderComplete(this),this.get_view().set_isVisible(100<this._age)},_disposer:function(){this.get_view().dispose(),this._driverDisposer(),l.prototype._disposer.call(this)},_driverDisposer:function(){},get_view:function(){return this.view},__class__:vt,__properties__:t(l.prototype.__properties__,{get_view:"get_view"})});function wt(t){this._context=new createjs.Container,m.call(this,t,null,this._context)}(e["awe6.core.drivers.AProfiler"]=wt).__name__="awe6.core.drivers.AProfiler",wt.__super__=m,wt.prototype=t(m.prototype,{_init:function(){m.prototype._init.call(this),this._marginHeight=25,this._marginColor=128,this._backgroundColor=-2147483520,this._fpsColor=16777215,this._memoryColor=16744448,this._fpsLabel="FPS",this._memoryLabel="MBs",this._width=60,this._height=50,this._agePrev=0},_updater:function(t){null==t&&(t=0),m.prototype._updater.call(this,t),this._age<this._agePrev+250||(this._agePrev=this._age,this._driverUpdate())},_driverUpdate:function(){},__class__:wt});function xt(){}(e["awe6.interfaces.ISceneTransition"]=xt).__name__="awe6.interfaces.ISceneTransition",xt.__isInterface__=!0,xt.__interfaces__=[p,bt,a];function Et(t,e){null==e&&(e=500),this._duration=e,this._context=new createjs.Container,m.call(this,t,null,this._context)}(e["awe6.core.drivers.ASceneTransition"]=Et).__name__="awe6.core.drivers.ASceneTransition",Et.__interfaces__=[xt],Et.__super__=m,Et.prototype=t(m.prototype,{_init:function(){m.prototype._init.call(this)},_updater:function(t){null==t&&(t=0),m.prototype._updater.call(this,t),this._age>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},get_progress:function(){var t=this._age/this._duration;return 1<t?1:t<0?0:t},__class__:Et,__properties__:t(m.prototype.__properties__,{get_progress:"get_progress"})});function Ct(){}(e["awe6.interfaces.ISession"]=Ct).__name__="awe6.interfaces.ISession",Ct.__isInterface__=!0,Ct.prototype={__class__:Ct};var Tt=function(t,e){null==e&&(e=""),this._kernel=t,""==e&&(e="DEBUG_AWE6"),this.id=e,this._tools=this._kernel.tools,this._version=1,this._init()};(e["awe6.core.drivers.ASession"]=Tt).__name__="awe6.core.drivers.ASession",Tt.__interfaces__=[Ct],Tt.prototype={_init:function(){this._driverLoad(),C.field(this._savedData,"_____VERSION")!=this._version&&this._driverReset();var t=null!=C.field(this._savedData,this.id);this._data={},this._resetter(),this._setter(),t&&(this._data=C.field(this._savedData,this.id),this._getter(),this.loadCount++)},_driverLoad:function(){this._savedData={}},_driverSave:function(){},_driverReset:function(){this._savedData={}},_getter:function(){this.loadCount=this._data.loadCount,this.saveCount=this._data.saveCount},_setter:function(){this._data.loadCount=this.loadCount,this._data.saveCount=this.saveCount},_resetter:function(){this.loadCount=0,this.saveCount=0},reset:function(t){null==t&&(t=!1),this._data={},this._resetter(),this._setter(),t&&(this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave())},save:function(){this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave()},__class__:Tt};function At(){}(e["awe6.interfaces.IPriority"]=At).__name__="awe6.interfaces.IPriority",At.__isInterface__=!0,At.prototype={__class__:At,__properties__:{set_priority:"set_priority",get_priority:"get_priority"}};function It(){}(e["awe6.interfaces.IView"]=It).__name__="awe6.interfaces.IView",It.__isInterface__=!0,It.__interfaces__=[o,r,b,At],It.prototype={__class__:It,__properties__:{get_isInViewStack:"get_isInViewStack",set_isVisible:"set_isVisible",get_parent:"get_parent"}};function Pt(t,e,i,s){null==i&&(i=0),this.context=e,this.set_priority(i),this.owner=s,l.call(this,t)}(e["awe6.core.drivers.AView"]=Pt).__name__="awe6.core.drivers.AView",Pt.__interfaces__=[It],Pt.__super__=l,Pt.prototype=t(l.prototype,{_init:function(){l.prototype._init.call(this),this.globalX=0,this.globalY=0,this.set_x(0),this.set_y(0),this.set_isVisible(!0),this._isDirty=!0,this._children=[]},addChild:function(t,e){return null==e&&(e=0),this.isDisposed||null==t?null:(t.get_parent()!=this&&(t.remove(),t instanceof Pt&&(i=t,this._children.push(i),i._setParent(this))),0!=e&&t.set_priority(e),this._isDirty=!0,t);var i},removeChild:function(t){if(!this.isDisposed&&null!=t){if(t instanceof Pt){var e=t;if(e.get_parent()!=this)return;P.remove(this._children,e),e._setParent(null)}this._isDirty=!0}},remove:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},clear:function(){for(var t=0,e=this._children;t<e.length;){var i=e[t];++t,this.removeChild(i)}},_updater:function(t){null==t&&(t=0),l.prototype._updater.call(this,t);for(var e=0,i=this._children;e<i.length;){var s=i[e];++e;var n=t;null==n&&(n=0),s.isActive&&!s.isDisposed&&(s._age+=n,s._updates++,s._updater(n))}this._isDirty&&this._draw(),this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY},_disposer:function(){this.remove(),this._driverDisposer(),this.clear(),l.prototype._disposer.call(this)},_driverDisposer:function(){},_draw:function(){this.isDisposed||(this._children.sort(Ms(_=this._tools,_.sortByPriority)),this._driverDraw(),this._isDirty=!1)},_driverDraw:function(){},_setParent:function(t){this.parent=t},get_priority:function(){return this.priority},set_priority:function(t){return t==this.get_priority()||(this.priority=t,this.get_parent()instanceof Pt&&(null!=(e=this.get_parent())&&(e._isDirty=!0))),this.get_priority();var e},set_isVisible:function(t){return t==this.isVisible||(this.isVisible=t,this.get_parent()instanceof Pt&&(null!=(e=this.get_parent())&&e._draw())),this.isVisible;var e},get_parent:function(){return this.parent},get_isInViewStack:function(){return!!this.isVisible&&(this.owner==this._kernel||null!=this.get_parent()&&this.get_parent().get_isInViewStack())},set_x:function(t){return this.x=t,this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.x},set_y:function(t){return this.y=t,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY,this.y},__class__:Pt,__properties__:t(l.prototype.__properties__,{get_parent:"get_parent",get_isInViewStack:"get_isInViewStack",set_isVisible:"set_isVisible",set_y:"set_y",set_x:"set_x",set_priority:"set_priority",get_priority:"get_priority"})});var Mt=function(t){$.call(this,t)};(e["awe6.core.drivers.createjs.AssetManager"]=Mt).__name__="awe6.core.drivers.createjs.AssetManager",Mt.__super__=$,Mt.prototype=t($.prototype,{_driverGetAsset:function(t,e,i){var s=null;return null!=Mt.loadQueue&&(s=Mt.loadQueue.getResult(t)),s},__class__:Mt});var kt=function(t){et.call(this,t)};(e["awe6.core.drivers.createjs.AudioManager"]=kt).__name__="awe6.core.drivers.createjs.AudioManager",kt.__super__=et,kt.prototype=t(et.prototype,{_init:function(){et.prototype._init.call(this),this._visibilityWasMute=this.isMute,window.document.addEventListener("visibilitychange",Ms(this,this._onVisibilityChange))},_disposer:function(){window.document.removeEventListener("visibilitychange",Ms(this,this._onVisibilityChange)),et.prototype._disposer.call(this)},_driverSoundFactory:function(t,e,i,s,n,r,o){return null==r&&(r=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),new Ot(this._kernel,t,this._packageId,e,i,s,n,r,o)},_driverSetIsMute:function(t){try{createjs.Sound.muted=t}catch(t){}try{createjs.Sound.setMute(t)}catch(t){}},_onVisibilityChange:function(t){this._getVisibilityPropery()?(this._visibilityWasMute=this.isMute,this.set_isMute(!0)):this.set_isMute(this._visibilityWasMute)},_getVisibilityPropery:function(){for(var t=["hidden","mozHidden","msHidden","oHidden","webkitHidden"],e=0;e<t.length;){var i=t[e];++e;var s=window.document;if(Object.prototype.hasOwnProperty.call(s,i))return C.field(window.document,i)}return window.document.hidden},__class__:kt});var Ot=function(t,e,i,s,n,r,o,a,l){null==a&&(a=0),null==o&&(o=1),null==r&&(r=0),null==n&&(n=1),it.call(this,t,e,i,s,1==n?0:n,r,o,a,l)};(e["awe6.core.drivers.createjs._HelperSound"]=Ot).__name__="awe6.core.drivers.createjs._HelperSound",Ot.__super__=it,Ot.prototype=t(it.prototype,{_driverInit:function(){try{this._sound=createjs.Sound.play("assets.audio."+this.id,null,0,this._startTime,this._loops,this._volume,this._pan),createjs.WebAudioPlugin.context&&"suspended"==createjs.WebAudioPlugin.context.state&&createjs.WebAudioPlugin.context.resume()}catch(t){}null!=this._sound?(this._sound.addEventListener("complete",Ms(this,this._onSoundComplete)),this._driverTransform()):this.dispose()},_driverTransform:function(t){null==t&&(t=!1),null!=this._sound&&(t&&(this._volume*=this._sound.volume,this._pan*=this._sound.pan),this._sound.volume=this._volume,this._sound.pan=this._pan)},_driverStop:function(){if(null!=this._sound)try{this._sound.stop()}catch(t){}},_onSoundComplete:function(t){null!=this._onCompleteCallback&&this._onCompleteCallback.apply(this,[]),this.dispose()},__class__:Ot});function Dt(t,e,i){nt.call(this,t,e,i)}(e["awe6.core.drivers.createjs.Factory"]=Dt).__name__="awe6.core.drivers.createjs.Factory",Dt.__super__=nt,Dt.prototype=t(nt.prototype,{_driverInit:function(){this.isDebug||(si.trace=function(t,e){window.console.log(t)});var t,e,i=new createjs.Container;this._context.addChild(i),this._context=i,this._countConfigsLoaded=0,this._countConfigsToLoad=0,""!=this._config?(t=null!=this._config?this._config:"assets/__Config.xml",null!=(e=this._context.getStage().canvas.getAttribute("config"))&&""!=e&&(t=e),this._loadConfig(t)):this._launchKernel()},_launchKernel:function(){this._displayCredits();var t=!0;Object.prototype.hasOwnProperty.call(this.config.h,"settings.nativeExperience")&&(t="true"==this.config.h["settings.nativeExperience"]);var e=this._context.getStage().canvas.getAttribute("nativeExperience");null!=e&&""!=e&&(t="true"==e),this.isNativeExperience=t,nt.prototype._launchKernel.call(this);var i=this._concreteKernel.system.isDesktop,s="default";Object.prototype.hasOwnProperty.call(this.config.h,"settings.fullScreen")&&(s=this.config.h["settings.fullScreen"]);var n=this._context.getStage().canvas.getAttribute("fullScreen");null!=n&&""!=n&&(s=n),this._kernel.set_isFullScreen(i&&("desktop"==s||"all"==s)||!i&&("mobile"==s||"all"==s||"default"==s)),this._kernel.isFullScreen&&this.isNativeExperience&&!i&&(this._concreteKernel.system.requestFullScreen(),this._concreteKernel.system.requestLockScreen())},_displayCredits:function(){si.trace(Object.prototype.hasOwnProperty.call(this.config.h,"settings.asciiArt")?this.config.h["settings.asciiArt"]:"",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:127,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),si.trace(this.id+" v"+this.version+" by "+this.author,{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:128,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),si.trace("Powered by awe6 (http://awe6.org)",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:129,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),this.isDecached&&si.trace("Note: decaching is currently enabled",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:132,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),si.trace("",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:134,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"})},_loadConfig:function(t){if("<?xml"==P.substr(t,0,5))this._parseXml(t);else{this.isDecached&&(t+="?dc="+M.random(99999));try{var e=new wi(t);e.onError=Ms(this,this._onIOError),e.onData=Ms(this,this._onComplete),e.request()}catch(t){var i=ii.caught(t).unwrap();return void this._onIOError(M.string(i))}this._countConfigsToLoad++}},_parseXml:function(t){if(this._traverseElements(O.parse(t).firstElement().elements(),""),Object.prototype.hasOwnProperty.call(this.config.h,"settings.joinXml")&&this._countConfigsLoaded<100){var e=this.config.h["settings.joinXml"],i=this.config;Object.prototype.hasOwnProperty.call(i.h,"settings.joinXml")&&delete i.h["settings.joinXml"];for(var s=e.split(","),n=0;n<s.length;){var r=s[n];++n,this._loadConfig(r)}}this._countConfigsLoaded==this._countConfigsToLoad&&this._launchKernel()},_onIOError:function(t){si.trace("IO Errors Occurred During Config Loading:"+t,{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:188,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),si.trace("Double check your Config path.  Cross domain (or local) file loading of Config is a security risk and is, therefore, disabled on this browser.",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:189,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),null!=this._config&&"<?xml"==P.substr(this._config,0,5)?(si.trace("Embedded Config detected, using that to continue ...",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:192,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),this._countConfigsLoaded=this._countConfigsToLoad,this._parseXml(this._config)):(si.trace("Use a web server (or local server) to run over http and serve all files from the same domain.  Or embed the Config directlty in the code (e.g. as a Resource).",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:198,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),si.trace("Unable to continue without Config.",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:199,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}))},_onComplete:function(t){var e;this._countConfigsLoaded++,""!=t?("<?xml"!=P.substr(e=t,0,5)&&(e=this.createEncrypter().decrypt(_i.ofString(e)).toString()),this._parseXml(e)):this._onIOError(t)},_getAssetUrls:function(){for(var t=["bin/assets/audio/BallLost.m4a","bin/assets/audio/BallLost.ogg","bin/assets/audio/Bumper1.m4a","bin/assets/audio/Bumper1.ogg","bin/assets/audio/Bumper2.m4a","bin/assets/audio/Bumper2.ogg","bin/assets/audio/Bumper3.m4a","bin/assets/audio/Bumper3.ogg","bin/assets/audio/ButtonOver.m4a","bin/assets/audio/ButtonOver.ogg","bin/assets/audio/CenterPin.m4a","bin/assets/audio/CenterPin.ogg","bin/assets/audio/Entry.m4a","bin/assets/audio/Entry.ogg","bin/assets/audio/EntryComplete.m4a","bin/assets/audio/EntryComplete.ogg","bin/assets/audio/FlipperDown1.m4a","bin/assets/audio/FlipperDown1.ogg","bin/assets/audio/FlipperDown2.m4a","bin/assets/audio/FlipperDown2.ogg","bin/assets/audio/FlipperDown3.m4a","bin/assets/audio/FlipperDown3.ogg","bin/assets/audio/FlipperUp1.m4a","bin/assets/audio/FlipperUp1.ogg","bin/assets/audio/FlipperUp2.m4a","bin/assets/audio/FlipperUp2.ogg","bin/assets/audio/FlipperUp3.m4a","bin/assets/audio/FlipperUp3.ogg","bin/assets/audio/JackpotOpen.m4a","bin/assets/audio/JackpotOpen.ogg","bin/assets/audio/JackpotRejected.m4a","bin/assets/audio/JackpotRejected.ogg","bin/assets/audio/JackpotWin.m4a","bin/assets/audio/JackpotWin.ogg","bin/assets/audio/MissionComplete.m4a","bin/assets/audio/MissionComplete.ogg","bin/assets/audio/MissionHit.m4a","bin/assets/audio/MissionHit.ogg","bin/assets/audio/MissionStart.m4a","bin/assets/audio/MissionStart.ogg","bin/assets/audio/MultiplierComplete.m4a","bin/assets/audio/MultiplierComplete.ogg","bin/assets/audio/MultiplierHit.m4a","bin/assets/audio/MultiplierHit.ogg","bin/assets/audio/MusicGameTable1Mission.m4a","bin/assets/audio/MusicGameTable1Mission.ogg","bin/assets/audio/MusicGameTable1Normal.m4a","bin/assets/audio/MusicGameTable1Normal.ogg","bin/assets/audio/MusicGameTable2.m4a","bin/assets/audio/MusicGameTable2.ogg","bin/assets/audio/MusicMenu.m4a","bin/assets/audio/MusicMenu.ogg","bin/assets/audio/PlungerPull.m4a","bin/assets/audio/PlungerPull.ogg","bin/assets/audio/PlungerRelease.m4a","bin/assets/audio/PlungerRelease.ogg","bin/assets/audio/PolyBumper.m4a","bin/assets/audio/PolyBumper.ogg","bin/assets/audio/RescueLaunch.m4a","bin/assets/audio/RescueLaunch.ogg","bin/assets/audio/RescueOpen.m4a","bin/assets/audio/RescueOpen.ogg","bin/assets/audio/SensorLaunch.m4a","bin/assets/audio/SensorLaunch.ogg","bin/assets/audio/Silence.m4a","bin/assets/audio/Silence.ogg","bin/assets/audio/Star1.m4a","bin/assets/audio/Star1.ogg","bin/assets/audio/Star2.m4a","bin/assets/audio/Star2.ogg","bin/assets/audio/Star3.m4a","bin/assets/audio/Star3.ogg","bin/assets/audio/TargetHit1.m4a","bin/assets/audio/TargetHit1.ogg","bin/assets/audio/TargetHit2.m4a","bin/assets/audio/TargetHit2.ogg","bin/assets/audio/TargetHit3.m4a","bin/assets/audio/TargetHit3.ogg","bin/assets/audio/TargetsComplete.m4a","bin/assets/audio/TargetsComplete.ogg","bin/assets/audio/Transition.m4a","bin/assets/audio/Transition.ogg","bin/assets/audio/WallRemoved.m4a","bin/assets/audio/WallRemoved.ogg","bin/assets/Blank.png","bin/assets/fonts/__Poetsen-webfont.eot","bin/assets/fonts/__Poetsen-webfont.svg","bin/assets/fonts/__Poetsen-webfont.ttf","bin/assets/fonts/__Poetsen-webfont.woff","bin/assets/fonts/__Poetsen-webfont.woff2","bin/assets/game/Ball.png","bin/assets/game/Bg1.png","bin/assets/game/Bg1_0.jpg","bin/assets/game/Bg1_1.jpg","bin/assets/game/Bg1_2.jpg","bin/assets/game/Bg1_3.jpg","bin/assets/game/Bg1_4.jpg","bin/assets/game/Bg1_fg.png","bin/assets/game/Bg2_0.jpg","bin/assets/game/Bumper1.png","bin/assets/game/Bumper2.png","bin/assets/game/Bumper3.png","bin/assets/game/Bumper4.png","bin/assets/game/Bumper5.png","bin/assets/game/CenterPin.png","bin/assets/game/Fg1.png","bin/assets/game/Fg2.png","bin/assets/game/Firewall.png","bin/assets/game/FlipperLeft.png","bin/assets/game/FlipperRight.png","bin/assets/game/FlipperSmall.png","bin/assets/game/Jackpot.png","bin/assets/game/Light.png","bin/assets/game/LightBumper.png","bin/assets/game/LightEntry.png","bin/assets/game/LightEntryGroup.png","bin/assets/game/LightFirewall.png","bin/assets/game/LightLaunch.png","bin/assets/game/LightRampJackpot.png","bin/assets/game/LightRampMission.png","bin/assets/game/LightReentry.png","bin/assets/game/LightTargetsGroupLeft.png","bin/assets/game/LightTargetsGroupRight.png","bin/assets/game/LightTargetsJackpot.png","bin/assets/game/Plunger.png","bin/assets/game/PolyBumperLeft.png","bin/assets/game/PolyBumperRight.png","bin/assets/game/PolyBumperTop.png","bin/assets/game/ReboundDoor.png","bin/assets/gui/Burst.jpg","bin/assets/gui/Hud.png","bin/assets/gui/HudLives.png","bin/assets/gui/InstructionsBg.jpg","bin/assets/gui/InstructionsPage1A.png","bin/assets/gui/InstructionsPage1B.png","bin/assets/gui/InstructionsPage2.png","bin/assets/gui/InstructionsPage3.png","bin/assets/gui/Logo.png","bin/assets/gui/LogoShine.png","bin/assets/gui/MenuBg.jpg","bin/assets/gui/PauseBg.png","bin/assets/gui/Radial.jpg","bin/assets/gui/Results0.png","bin/assets/gui/Results1.png","bin/assets/gui/Results2.png","bin/assets/gui/Results3.png","bin/assets/overlay/ButtonAudioOver.png","bin/assets/overlay/ButtonAudioUp.png","bin/assets/overlay/ButtonFacebookOver.png","bin/assets/overlay/ButtonFacebookUp.png","bin/assets/overlay/ButtonFullscreenOver.png","bin/assets/overlay/ButtonFullscreenUp.png","bin/assets/overlay/ButtonInstructionsOver.png","bin/assets/overlay/ButtonInstructionsUp.png","bin/assets/overlay/ButtonLeaderboardOver.png","bin/assets/overlay/ButtonLeaderboardUp.png","bin/assets/overlay/ButtonMenuOver.png","bin/assets/overlay/ButtonMenuUp.png","bin/assets/overlay/ButtonNextOver.png","bin/assets/overlay/ButtonNextUp.png","bin/assets/overlay/ButtonPreviousOver.png","bin/assets/overlay/ButtonPreviousUp.png","bin/assets/overlay/ButtonRestartOver.png","bin/assets/overlay/ButtonRestartUp.png","bin/assets/overlay/ButtonStartOver.png","bin/assets/overlay/ButtonStartUp.png","bin/assets/overlay/ButtonTextOver.png","bin/assets/overlay/ButtonTextUp.png","bin/assets/overlay/ButtonTwitterOver.png","bin/assets/overlay/ButtonTwitterUp.png","bin/assets/overlay/ButtonWebsiteOver.png","bin/assets/overlay/ButtonWebsiteUp.png","bin/assets/overlay/PauseOver.png","bin/assets/overlay/PauseUp.png","bin/assets/__Config.xml","bin/assets/__Icon128.png","bin/assets/__Icon196.png","bin/assets/__Icon256.png","bin/assets/__PreloaderBg.png"],e=[],i=0,s=t.length;i<s;){t[n=i++]=P.substr(t[n],4,null),("__"==P.substr(t[n],0,2)||-1<t[n].indexOf("/__"))&&e.push(t[n])}for(i=0;i<e.length;){var n=e[i];++i,P.remove(t,n)}return t},_driverDisposer:function(){null!=this._context.parent&&this._context.parent.removeChild(this._context)},preventDefaultForKeys:function(t){this._kernel.inputs.keyboard.preventDefaultForKeys(t)},allowDefaultForKeys:function(t){this._kernel.inputs.keyboard.allowDefaultForKeys(t)},__class__:Dt});var Bt=function(t){ot.call(this,t)};(e["awe6.core.drivers.createjs.InputKeyboard"]=Bt).__name__="awe6.core.drivers.createjs.InputKeyboard",Bt.__super__=ot,Bt.prototype=t(ot.prototype,{_driverInit:function(){this._document=window.document,this._preventDefaultKeyCodes=[],this._document.addEventListener("keydown",Ms(this,this._onKeyDown)),this._document.addEventListener("keyup",Ms(this,this._onKeyUp))},_disposer:function(){this._document.removeEventListener("keydown",Ms(this,this._onKeyDown)),this._document.removeEventListener("keyup",Ms(this,this._onKeyUp)),ot.prototype._disposer.call(this)},_onKeyDown:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!0))},_onKeyUp:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!1))},preventDefaultForKeys:function(t){if(null!=t)for(var e=0;e<t.length;){var i=t[e];++e;var s=this.getKeyCode(i);f.has(this._preventDefaultKeyCodes,s)||this._preventDefaultKeyCodes.push(s)}},allowDefaultForKeys:function(t){if(null!=t)for(var e=0;e<this._preventDefaultKeyCodes.length;){var i=this.getKey(this._preventDefaultKeyCodes[e]);f.has(t,i)?this._preventDefaultKeyCodes.splice(e,1):++e}},__class__:Bt});var Rt=function(t){_t.call(this,t)};(e["awe6.core.drivers.createjs.InputMouse"]=Rt).__name__="awe6.core.drivers.createjs.InputMouse",Rt.__super__=_t,Rt.prototype=t(_t.prototype,{_driverInit:function(){this._stage=this._kernel._stage,this._isTouch=createjs.Touch.isSupported()&&!this._kernel.system.isDesktop,this._isTouch?(createjs.Touch.enable(this._stage,!0),this._touchX=this._touchY=0,this._stage.canvas.addEventListener("touchstart",Ms(this,this._onTouchStart)),this._stage.canvas.addEventListener("touchmove",Ms(this,this._onTouch)),this._stage.canvas.addEventListener("touchend",Ms(this,this._onTouchEnd))):(this._stage.addEventListener("stagemousedown",Ms(this,this._onMouseDown)),this._stage.addEventListener("stagemouseup",Ms(this,this._onMouseUp))),window.focus()},_disposer:function(){this._isTouch?(createjs.Touch.disable(this._stage),this._stage.canvas.removeEventListener("touchstart",Ms(this,this._onTouchStart)),this._stage.canvas.removeEventListener("touchmove",Ms(this,this._onTouch)),this._stage.canvas.removeEventListener("touchend",Ms(this,this._onTouchEnd))):(this._stage.removeEventListener("stagemousedown",Ms(this,this._onMouseDown)),this._stage.removeEventListener("stagemouseup",Ms(this,this._onMouseUp))),_t.prototype._disposer.call(this)},_isWithinBounds:function(){return this._stage.mouseInBounds},_getPosition:function(){var t,e;this._isTouch?(this.x=this._touchX,this.y=this._touchY):(t=this._stage.mouseX/this._stage.scaleX,e=this._kernel.factory.width,this.x=0|(e<t?e:t<0?0:t),t=this._stage.mouseY/this._stage.scaleY,e=this._kernel.factory.height,this.y=0|(e<t?e:t<0?0:t)),this.x=this.x==this._kernel.factory.width?this._xPrev:this.x,this.y=this.y==this._kernel.factory.height?this._yPrev:this.y},_onTouchStart:function(t){this._onMouseDown(t),this._onTouch(t),this.x=this._touchX,this.y=this._touchY},_onTouchEnd:function(t){this._onMouseUp(t),this._onTouch(t),Rt._isSoundTriggered||(this._kernel.audio.start("Silence"),Rt._isSoundTriggered=!0,this._kernel.isFullScreen&&this._kernel.factory.isNativeExperience&&(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()))},_onTouch:function(t){try{var e=(t.targetTouches[0].pageX-(0|this._stage.canvas.offsetLeft))/this._kernel._scaleX,i=this._kernel.factory.width;this._touchX=0|(i<e?i:e<0?0:e);e=(t.targetTouches[0].pageY-(0|this._stage.canvas.offsetTop))/this._kernel._scaleY,i=this._kernel.factory.height;this._touchY=0|(i<e?i:e<0?0:e)}catch(t){}this._stage.mouseInBounds&&t.preventDefault()},_onMouseDown:function(t){window.focus(),this.isActive&&(!this._isTouch&&2==t.nativeEvent.button||this._buffer.push(!0))},_onMouseUp:function(t){this.isActive&&(!this._isTouch&&2==t.nativeEvent.button||this._buffer.push(!1))},set_isVisible:function(t){return this._stage.cursor=t?"none":"auto",_t.prototype.set_isVisible.call(this,t)},set_cursorType:function(t){switch(t._hx_index){case 0:e="crosshair";break;case 1:e="auto";break;case 2:case 3:e="pointer";break;case 4:e="text";break;case 5:var e=t.value}return this._stage.canvas.style.cursor=e,_t.prototype.set_cursorType.call(this,t)},__class__:Rt});var Lt=function(t,e){dt.call(this,t,e)};(e["awe6.core.drivers.createjs.Kernel"]=Lt).__name__="awe6.core.drivers.createjs.Kernel",Lt.__super__=dt,Lt.prototype=t(dt.prototype,{_driverGetIsLocal:function(){var t;switch(window.location.protocol){case"http:":case"https:":t=!1;break;default:t=!0}return t},_driverInit:function(){this.system=new Ht(this),this._scaleX=this._scaleY=1,this._stage=this._stageDynamic=this._context.getStage(),this._stage.canvas.style.setProperty("-ms-touch-action","none",""),this._stage.canvas.style.setProperty("image-rendering","-o-crisp-edges",""),this._stage.canvas.style.setProperty("image-rendering","optimize-contrast",""),this._stage.canvas.style.setProperty("-ms-interpolation-mode","nearest-neighbor",""),this._stage.canvas.style.setProperty("-webkit-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("-moz-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("user-select","none",""),this._stage.canvas.style.setProperty("-webkit-touch-callout","none",""),this._stage.canvas.style.setProperty("-webkit-user-select","none",""),this._stage.canvas.style.setProperty("-moz-user-select","none",""),this._stage.canvas.style.setProperty("-ms-user-select","none",""),this._stage.tickOnUpdate=!1,this._stage.mouseEnabled=!1,this._stage.canvas.width=this.factory.width,this._stage.canvas.height=this.factory.height;var t=new createjs.Shape;t.graphics.beginFill("#"+P.substr(c.hex(this.factory.bgColor,8),2,6)),t.graphics.drawRect(0,0,this.factory.width,this.factory.height),t.graphics.endFill(),this._stage.addChildAt(t,0),createjs.Ticker.setFPS(this.factory.targetFramerate),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",Ms(this,this._onEnterFrame)),this._stage.canvas.addEventListener("contextmenu",Ms(this,this._onContextMenu),!1),window.addEventListener("unload",Ms(this,this._onUnload))},_onUnload:function(t){window.removeEventListener("unload",Ms(this,this._onUnload)),this.get_session().save()},_onContextMenu:function(t){var e,i;t.preventDefault(),t.stopImmediatePropagation(),null!=this.overlay&&(e=Ms(_=this.overlay,_.activateButton),i=re.PAUSE,oi.delay(function(){e(i)},100))},_driverDisposer:function(){this._stage.canvas.removeEventListener("contextmenu",Ms(this,this._onContextMenu))},_onEnterFrame:function(t){null!=t.paused&&1==t.paused?this._stage.tickOnUpdate=!1:(this._updates++,this._updater(0),this._stage.tickOnUpdate=this.isActive,this._stageDynamic.update(t));var e=M.string(window.innerWidth)+":"+M.string(window.innerHeight);this._prevWindowSize!=e&&this._driverSetIsFullScreen(this.isFullScreen)},_driverSetIsEyeCandy:function(t){},_driverSetIsFullScreen:function(t){this._prevWindowSize=M.string(window.innerWidth)+":"+M.string(window.innerHeight),this._scaleX=this._scaleY=1;var e=this.factory.width,i=this.factory.height,s=window.innerWidth,n=window.innerHeight,r=e<i,o=s<n;this.system.isRotated=!this.system.isDesktop&&r!=o;var a=0,l=0;if(t){var h=Math.min(s/e,n/i),_=this.factory.fullScreenType;switch(_._hx_index){case 0:case 1:break;case 2:this._scaleX=s/e,this._scaleY=n/i;break;case 3:this._scaleX=this._scaleY=h;break;case 4:h=h<.5?.25:h<1?.5:Math.floor(h),this._scaleX=this._scaleY=h;break;case 5:var c,u,p,d=_.value;null!=d.bleedWidth&&null!=d.bleedHeight&&(c=e-2*M.parseInt(M.string(d.bleedWidth)+""),u=i-2*M.parseInt(M.string(d.bleedHeight)+""),p=Math.min(s/c,n/u),this._scaleX=this._scaleY=p)}a=Math.round((s-e*this._scaleX)/2),l=Math.round((n-i*this._scaleY)/2)}this._stage.canvas.style.setProperty("width",Math.round(e*this._scaleX)+"px",""),this._stage.canvas.style.setProperty("height",Math.round(i*this._scaleY)+"px",""),this._stage.canvas.style.setProperty("margin-left",a+"px",""),this._stage.canvas.style.setProperty("margin-top",l+"px","")},__class__:Lt});var Ft=function(t,e,i,s,n,r,o,a,l,h,_,c,u,p,d,g,f){mt.call(this,t,e,i,s,n,r,o,a,l,h,_,c,u,p,d,g,f)};(e["awe6.core.drivers.createjs.Overlay"]=Ft).__name__="awe6.core.drivers.createjs.Overlay",Ft.__super__=mt,Ft.prototype=t(mt.prototype,{_driverInit:function(){cs.__cast(this._borderView,Kt).context.mouseEnabled=!1,this._context.mouseEnabled=!1,this._pauseContext=new createjs.Container,this._pauseContext.mouseEnabled=!1;var t=new createjs.Shape;t.graphics.beginFill("#"+c.hex(this._pauseColor,6)),t.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),t.alpha=this._pauseAlpha,this._pauseContext.addChild(t),this._flashContext=new createjs.Container,this._flashContext.mouseEnabled=!1},_updater:function(t){null==t&&(t=0),mt.prototype._updater.call(this,t),this._flashContext.alpha=this._flashAlpha,this._flashContext.visible=0!=this._flashAlpha},flash:function(t,e,i,s){null==s&&(s=16777215),null==i&&(i=1),null==e&&(e=!0),this._flashContext.removeAllChildren();var n=new createjs.Shape;n.graphics.beginFill("#"+c.hex(s,6)),n.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),this._flashContext.addChild(n),null==t&&(t=e?500:.5*this._kernel.factory.targetFramerate),this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e,this._flashAlpha=this._flashStartingAlpha=1<i?1:i<0?0:i},__class__:Ft});var jt=function(t,e,i){vt.call(this,t,e,i)};(e["awe6.core.drivers.createjs.Preloader"]=jt).__name__="awe6.core.drivers.createjs.Preloader",jt.__super__=vt,jt.prototype=t(vt.prototype,{_init:function(){this._context=new createjs.Container,this.view=new Kt(this._kernel,this._context),vt.prototype._init.call(this),this._system=this._kernel.system,this._isDesktop=this._system.isDesktop,this._audioHoldDelay=0,this._completedDelay=0;var t=this._isDecached?"?dc="+M.random(999999):"",e=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];null!=this._proprietaryAudioFormat&&""!=this._proprietaryAudioFormat&&f.has(e,this._proprietaryAudioFormat)||(this._proprietaryAudioFormat="mp3");var i=[];if(this._manifest=[],createjs.Sound.initializeDefaultPlugins()){this._audioHoldDelay=this._getAudioHoldDelay();var s=this._isSoundDisabled||this._system.isAndroid&&this._getIsStockAndroidBrowser();this._validSoundFormat=createjs.Sound.getCapability("ogg")?"ogg":createjs.Sound.getCapability(this._proprietaryAudioFormat)?this._proprietaryAudioFormat:"noValidFormat",this._activePlugin=createjs.Sound.activePlugin;for(var n=0,r=this._assets;n<r.length;){var o=r[n];++n;var a,l=P.substr(o,-3,null);f.has(e,l)&&(i.push(o),s||l!=this._validSoundFormat||(a="assets.audio."+P.substr(o.split("/").pop(),0,-4),this._isFastTestMode||this._manifest.push({src:o+t,id:a})))}}for(n=0;n<i.length;){o=i[n];++n,P.remove(this._assets,o)}for(n=0,r=this._assets;n<r.length;){o=r[n];++n,this._manifest.push({src:o+t,id:o})}this._loadQueue=new createjs.LoadQueue(!this._kernel.isLocal&&!this._isFastTestMode,""),this._loadQueue.setMaxConnections(10),this._loadQueue.installPlugin(createjs.Sound),this._manifest=this._tools.shuffle(this._manifest),this._loadQueue.addEventListener("complete",Ms(this,this._onComplete)),this._loadQueue.addEventListener("fileerror",Ms(this,this._onError)),this._loadQueue.addEventListener("error",Ms(this,this._onError));var n=Ms(_=this._loadQueue,_.loadManifest),h=this._manifest;oi.delay(function(){n(h)},200)},_next:function(){},get_progress:function(){return this._loadQueue.progress},_onComplete:function(t){this._isComplete||(this._isComplete=!0,Mt.loadQueue=this._loadQueue,this._completedDelay=this._audioHoldDelay,this._loadQueue.removeEventListener("complete",Ms(this,this._onComplete)),this._loadQueue.removeEventListener("fileerror",Ms(this,this._onError)),this._loadQueue.removeEventListener("error",Ms(this,this._onError)),0!=this._audioHoldDelay&&this._showAudioHoldMessage())},_onError:function(t){si.trace([t,t.title,t.message,t.data],{fileName:"awe6/core/drivers/createjs/Preloader.hx",lineNumber:148,className:"awe6.core.drivers.createjs.Preloader",methodName:"_onError"})},_showAudioHoldMessage:function(){},_updater:function(t){null==t&&(t=0),vt.prototype._updater.call(this,t),this._isComplete&&(this._completedDelay-=t,(0<=this._audioHoldDelay&&this._completedDelay<=0||this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)||this._kernel.inputs.mouse.getIsButtonRelease())&&(this._assets=[]))},_getIsStockAndroidBrowser:function(){var t=-1<this._system.userAgent.indexOf("Android")&&-1<this._system.userAgent.indexOf("Mozilla/5.0")&&-1<this._system.userAgent.indexOf("AppleWebKit"),e=new g("AppleWebKit/([\\d.]+)",""),i=e.match(this._system.userAgent),s=i?parseFloat(e.matched(1)):0,n=new g("Chrome/([\\d.]+)",""),r=n.match(this._system.userAgent),o=r?parseFloat(n.matched(1)):0;return t&&(!!(i&&s<537)||!!r&&o<37)},_getAudioHoldDelay:function(){if(this._isSoundDisabled)return 0;try{if("[WebAudioPlugin]"!=createjs.Sound.activePlugin||"suspended"!=createjs.Sound.activePlugin.context.state)return 0}catch(t){}var t=-1;Object.prototype.hasOwnProperty.call(this._kernel.factory.config.h,"settings.audioHoldDelay")&&(t=M.parseInt(this._kernel.factory.config.h["settings.audioHoldDelay"]));try{var e=this._kernel.factory._context.getStage().canvas.getAttribute("audioHoldDelay");null!=e&&""!=e&&(t=M.parseInt(e))}catch(t){}return t},__class__:jt});var Ut=function(t){wt.call(this,t)};(e["awe6.core.drivers.createjs.Profiler"]=Ut).__name__="awe6.core.drivers.createjs.Profiler",Ut.__super__=wt,Ut.prototype=t(wt.prototype,{_init:function(){wt.prototype._init.call(this),this._isMemoryEnabled=null!=window.performance&&null!=window.performance.memory,this._width=75,this._height=24,this._marginHeight=12;var t=new createjs.Shape;this._context.addChild(t),t.alpha=.25,this._isMemoryEnabled&&(t.graphics.beginFill("#"+c.hex(this._backgroundColor,6)),t.graphics.drawRect(0,0,this._width,this._height),t.graphics.endFill()),t.graphics.beginFill("#"+c.hex(this._marginColor,6)),t.graphics.drawRect(0,0,this._width,this._marginHeight),t.graphics.endFill(),t.cache(0,0,this._width,this._height),this._fpsTextField=new createjs.Text("","","#"+c.hex(this._fpsColor,6)),this._context.addChild(this._fpsTextField),this._isMemoryEnabled&&(this._memoryTextField=new createjs.Text("","","#"+c.hex(this._memoryColor,6)),this._memoryTextField.y=12,this._context.addChild(this._memoryTextField))},_driverUpdate:function(){var t,e,i=0|this._kernel.getFramerate(!0);Math.min(this._height,this._height/this._kernel.factory.targetFramerate*i);this._fpsTextField.text=this._fpsLabel+": "+i+" / "+this._kernel.factory.targetFramerate,this._isMemoryEnabled&&this._updates%this._kernel.factory.targetFramerate==0&&(t=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),e=Math.round(window.performance.memory.jsHeapSizeLimit/1024/1024),this._memoryTextField.text=this._memoryLabel+": "+t+" / "+e)},__class__:Ut});var Nt=function(t,e){Et.call(this,t,e)};(e["awe6.core.drivers.createjs.SceneTransition"]=Nt).__name__="awe6.core.drivers.createjs.SceneTransition",Nt.__super__=Et,Nt.prototype=t(Et.prototype,{_init:function(){Et.prototype._init.call(this),this._kernel.scenes.get_scene().get_view().context.cache(0,0,this._kernel.factory.width,this._kernel.factory.height);var t=new createjs.Bitmap(this._kernel.scenes.get_scene().get_view().context.cacheCanvas);this._kernel.scenes.get_scene().get_view().context.uncache(),this._context.mouseEnabled=!1,this._context.addChild(t)},_updater:function(t){var e;null==t&&(t=0),Et.prototype._updater.call(this,t),this.isDisposed||(e=this.get_progress(),this._context.alpha=1-e)},__class__:Nt});function Gt(t,e){Tt.call(this,t,e)}(e["awe6.core.drivers.createjs.Session"]=Gt).__name__="awe6.core.drivers.createjs.Session",Gt.__super__=Tt,Gt.prototype=t(Tt.prototype,{_init:function(){var t=!0;null!=this._kernel.getConfig("settings.sessionSaved")&&(t="false"!=this._kernel.getConfig("settings.sessionSaved")),this._storage=t?us.getLocalStorage():us.getSessionStorage(),Tt.prototype._init.call(this)},_driverLoad:function(){if(this._savedData={},null!=window.document.cookie&&ps.exists(this._kernel.factory.id)&&(this._savedData=this._tools.unserialize(ps.get(this._kernel.factory.id)),this._driverSave(),ps.remove(this._kernel.factory.id)),null!=this._storage)try{var t=this._storage.getItem(this._kernel.factory.id);null!=t&&(this._savedData=this._tools.unserialize(t))}catch(t){}},_driverReset:function(){if(null!=this._storage)try{this._storage.removeItem(this._kernel.factory.id)}catch(t){}this._savedData={}},_driverSave:function(){if(null!=this._storage)try{this._storage.setItem(this._kernel.factory.id,this._tools.serialize(this._savedData))}catch(t){}},__class__:Gt});var Ht=function(t){this._kernel=t,this.isRotated=!1,this.isAndroid=this.isChromeOs=this.isIos=this.isLinux=this.isMacOs=this.isSilk=this.isWindows=this.isWindowsPhone=this.isDesktop=!1,this.userAgent=d.navigator.userAgent,this.isSilk=new g("Silk","").match(this.userAgent),this.isKaiOs=new g("KAIOS","").match(this.userAgent),this.isCrosswalk=new g("Crosswalk","").match(this.userAgent),this.isCordova=null!=window.cordova,new g("Android","").match(this.userAgent)?this.isAndroid=!0:new g("CrOS","").match(this.userAgent)?this.isChromeOs=!0:new g("iP[ao]d|iPhone","i").match(this.userAgent)?this.isIos=!0:new g("Linux","").match(this.userAgent)?this.isLinux=!0:new g("Mac OS","").match(this.userAgent)?this.isMacOs=!0:new g("Windows","").match(this.userAgent)&&(this.isWindows=!0,new g("Windows Phone","i").match(this.userAgent)&&(this.isWindowsPhone=!0)),(this.isWindows||this.isMacOs||this.isLinux&&!this.isSilk)&&(this.isDesktop=!0),this.isWindowsPhone&&(this.isDesktop=!1)};(e["awe6.core.drivers.createjs.System"]=Ht).__name__="awe6.core.drivers.createjs.System",Ht.prototype={get_isWebGL:function(){return!1},get_isFullScreenSupported:function(){try{var t=window.document.documentElement;if(null!=t.requestFullscreen)return!0;if(null!=t.msRequestFullscreen)return!0;if(null!=t.mozRequestFullScreen)return!0;if(null!=t.webkitRequestFullscreen)return!0}catch(t){}return!1},requestFullScreen:function(){try{var t=window.document.documentElement;null!=t.requestFullscreen?t.requestFullscreen():null!=t.msRequestFullscreen?t.msRequestFullscreen():null!=t.mozRequestFullScreen?t.mozRequestFullScreen():null!=t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}catch(t){}},requestExitFullScreen:function(){try{var t=window.document;null!=t.exitFullscreen?t.exitFullscreen():null!=t.msExitFullscreen?t.msExitFullscreen():null!=t.mozCancelFullScreen?t.mozCancelFullScreen():null!=t.webkitExitFullscreen&&t.webkitExitFullscreen()}catch(t){}},requestLockScreen:function(){if(!this.isDesktop)try{var t=this._kernel.factory.width<this._kernel.factory.height?"portrait-primary":"landscape-primary",e=window.screen;null!=e.orientation?null!=e.orientation.lock?e.orientation.lock(t):null!=e.orientation.lockOrientation&&e.orientation.lockOrientation(t):null!=e.mozOrientation?e.mozLockOrientation(t):null!=e.msOrientation&&e.msLockOrientation(t)}catch(t){}},requestDeviceOrientation:function(){if(!this.isDesktop)try{null!=window.DeviceMotionEvent&&null!=window.DeviceMotionEvent.requestPermission&&window.DeviceMotionEvent.requestPermission()}catch(t){}},__class__:Ht,__properties__:{get_isFullScreenSupported:"get_isFullScreenSupported",get_isWebGL:"get_isWebGL"}};var Kt=function(t,e,i,s){Pt.call(this,t,e,i,s)};(e["awe6.core.drivers.createjs.View"]=Kt).__name__="awe6.core.drivers.createjs.View",Kt.__super__=Pt,Kt.prototype=t(Pt.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),Pt.prototype._init.call(this)},_driverDisposer:function(){if(null!=this.context&&null!=this.context.parent)try{this.context.parent.removeChild(this.context)}catch(t){}},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var i=t[e];++e,i.isVisible&&this._container.addChild(i.context)}},set_x:function(t){return this.context.x=t,Pt.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,Pt.prototype.set_y.call(this,t)},__class__:Kt});function Vt(t,e,i,s){var n;null==s&&(s=!0),null==i&&(i=100),null==e&&(e=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=e,this.height=i,this._context=new createjs.Container,this.setPosition(0,0),s&&((n=new createjs.Shape).graphics.beginFill("#FF0000"),n.graphics.drawRect(0,0,this.width,this.height),n.graphics.endFill(),n.visible=!1,this._context.addChild(n),this._context.mask=n),m.call(this,t,null,this._context)}(e["awe6.core.drivers.createjs.extras.gui.GuiEntity"]=Vt).__name__="awe6.core.drivers.createjs.extras.gui.GuiEntity",Vt.__interfaces__=[b],Vt.__super__=m,Vt.prototype=t(m.prototype,{setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,this._context.x=this.x,this.x},set_y:function(t){return this.y=t,this._context.y=this.y,this.y},__class__:Vt,__properties__:t(m.prototype.__properties__,{set_y:"set_y",set_x:"set_x"})});function Yt(t,e,i,s,n,r,o){null==o&&(o=!1),null==r&&(r=!1),null==s&&(s=""),this.textStyle=n,this._isMultiline=r,this._isCached=o,Vt.call(this,t,e,i,!1),this.set_text(s)}(e["awe6.core.drivers.createjs.extras.gui.Text"]=Yt).__name__="awe6.core.drivers.createjs.extras.gui.Text",Yt.__super__=Vt,Yt.prototype=t(Vt.prototype,{_init:function(){Vt.prototype._init.call(this),this._textField=new createjs.Text,this._textField.text=this.text,this._draw(),this._context.addChild(this._textField),this._isDirty=!1,this._prevTextStyle=this.textStyle.toString()},_updater:function(t){null==t&&(t=0),Vt.prototype._updater.call(this,t),this._isDirty=this._isDirty||this._prevTextStyle!=this.textStyle.toString(),this._isDirty&&this._draw(),this._prevTextStyle=this.textStyle.toString()},_draw:function(){if(this._textField.lineWidth=this.width,this._prevTextStyle!=this.textStyle.toString()){switch(this.textStyle.align._hx_index){case 0:case 1:this._textField.textAlign="left";break;case 2:this._textField.textAlign="center",this._textField.x=.5*this.width;break;case 3:this._textField.textAlign="right",this._textField.x=this.width}var t,e,i=c.hex(this.textStyle.color,6);this._textField.color="#"+i,this._textField.font=(this.textStyle.isBold?"bold ":"")+(this.textStyle.isItalic?"italic ":"")+this.textStyle.size+"px '"+this.textStyle.font+"'",this._textField.lineHeight=this.textStyle.spacingVertical,null!=this.textStyle.filters&&((t=this._textField).shadow=null,e=this.textStyle.filters.slice(),null!=this._textFieldOutline&&null!=this._textFieldOutline.parent&&this._textFieldOutline.parent.removeChild(this._textFieldOutline),this._textFieldOutline=null,2!=e.length&&6!=e.length||(this._textFieldOutline=this._textField.clone(),i=c.hex(e.shift(),6),this._textFieldOutline.color="#"+i,i=e.shift(),this._textFieldOutline.outline=2*i,this._context.addChildAt(this._textFieldOutline,0),t=this._textFieldOutline),4==e.length&&(t.shadow=new createjs.Shadow("#"+c.hex(e[0],6),e[1],e[2],e[3])))}this._isCached&&this._context.cache(0,0,this.width,this.height),this._isDirty=!1},set_text:function(t){return null==t&&(t=""),this.text==t||(this.text=t,this._textField.text=this.text,null!=this._textFieldOutline&&(this._textFieldOutline.text=this.text),this._isDirty=!0),this.text},__class__:Yt,__properties__:t(Vt.prototype.__properties__,{set_text:"set_text"})});function Xt(t,e,i,s){Pt.call(this,t,e,i,s)}(e["awe6.core.drivers.flash.View"]=Xt).__name__="awe6.core.drivers.flash.View",Xt.__super__=Pt,Xt.prototype=t(Pt.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),Pt.prototype._init.call(this)},_driverDisposer:function(){null!=this.context.parent&&this.context.parent.removeChild(this.context)},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var i=t[e];++e,i.isVisible&&this._container.addChild(i.context)}},set_x:function(t){return this.context.x=t,Pt.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,Pt.prototype.set_y.call(this,t)},__class__:Xt});function zt(t,e,i){null==i&&(i=1e3),this._callbackFunction=e,this._duration=i,m.call(this,t)}(e["awe6.extras.Delay"]=zt).__name__="awe6.extras.Delay",zt.__super__=m,zt.prototype=t(m.prototype,{_updater:function(t){null==t&&(t=0),m.prototype._updater.call(this,t),this._duration-=t,this._duration<=0&&(null!=this._callbackFunction&&this._callbackFunction(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:zt});function Wt(t,e,i,s,n,r,o,a,l,h,_){null==h&&(h=!1),null==l&&(l=!1),null==a&&(a=!1),null==i&&(i=1e3),null==e&&(e=0),this._delay=e,this._duration=i,this._object=s,this._field=n,this._originalValue=r,this._newValue=o,this._isRelative=a,this._isEaseIn=l,this._isEaseOut=h,this._callback=_,this._prevProgress=0,m.call(this,t),this._updater()}(e["awe6.extras.Easer"]=Wt).__name__="awe6.extras.Easer",Wt.__super__=m,Wt.prototype=t(m.prototype,{_updater:function(t){null==t&&(t=0),m.prototype._updater.call(this,t);var e,i,s,n=(this._age-this._delay)/this._duration,r=1<n?1:n<0?0:n;this._isEaseIn&&(r=1-Math.cos(.5*r*Math.PI)),this._isEaseOut&&(r=Math.sin(.5*r*Math.PI)),.99999<=r&&(r=1),this._isRelative?(e=this._prevProgress,i=this._originalValue*(1-e)+this._newValue*e,s=this._originalValue*(1-r)+this._newValue*r-i,C.setProperty(this._object,this._field,C.getProperty(this._object,this._field)+s)):C.setProperty(this._object,this._field,this._originalValue*(1-r)+this._newValue*r),1==(this._prevProgress=r)&&(null!=this._callback&&this._callback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:Wt});function Jt(t){this._context=new createjs.Container,this._session=t.get_session(),this._assets=t.assets,this._factory=t.factory,m.call(this,t,null,this._context)}var Qt=E["awe6.interfaces.EAgenda"]={__ename__:"awe6.interfaces.EAgenda",__constructs__:["ALWAYS","BIRTH","DEATH","STANDARD","ATTACK","DEFEND","SUB_TYPE"],ALWAYS:{_hx_index:0,__enum__:"awe6.interfaces.EAgenda",toString:i},BIRTH:{_hx_index:1,__enum__:"awe6.interfaces.EAgenda",toString:i},DEATH:{_hx_index:2,__enum__:"awe6.interfaces.EAgenda",toString:i},STANDARD:{_hx_index:3,__enum__:"awe6.interfaces.EAgenda",toString:i},ATTACK:{_hx_index:4,__enum__:"awe6.interfaces.EAgenda",toString:i},DEFEND:{_hx_index:5,__enum__:"awe6.interfaces.EAgenda",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:6,value:t,__enum__:"awe6.interfaces.EAgenda",toString:i}}).__params__=["value"],_)},qt=E["awe6.interfaces.EAudioChannel"]={__ename__:"awe6.interfaces.EAudioChannel",__constructs__:["DEFAULT","EFFECTS","INTERFACE","MUSIC","SUB_TYPE"],DEFAULT:{_hx_index:0,__enum__:"awe6.interfaces.EAudioChannel",toString:i},EFFECTS:{_hx_index:1,__enum__:"awe6.interfaces.EAudioChannel",toString:i},INTERFACE:{_hx_index:2,__enum__:"awe6.interfaces.EAudioChannel",toString:i},MUSIC:{_hx_index:3,__enum__:"awe6.interfaces.EAudioChannel",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:4,value:t,__enum__:"awe6.interfaces.EAudioChannel",toString:i}}).__params__=["value"],_)},Zt=E["awe6.interfaces.EFullScreen"]={__ename__:"awe6.interfaces.EFullScreen",__constructs__:["DISABLED","NO_SCALE","SCALE_ASPECT_RATIO_IGNORE","SCALE_ASPECT_RATIO_PRESERVE","SCALE_NEAREST_MULTIPLE","SUB_TYPE"],DISABLED:{_hx_index:0,__enum__:"awe6.interfaces.EFullScreen",toString:i},NO_SCALE:{_hx_index:1,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_ASPECT_RATIO_IGNORE:{_hx_index:2,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_ASPECT_RATIO_PRESERVE:{_hx_index:3,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_NEAREST_MULTIPLE:{_hx_index:4,__enum__:"awe6.interfaces.EFullScreen",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:5,value:t,__enum__:"awe6.interfaces.EFullScreen",toString:i}}).__params__=["value"],_)},$t=E["awe6.interfaces.EJoypadButton"]={__ename__:"awe6.interfaces.EJoypadButton",__constructs__:["FIRE","UP","RIGHT","DOWN","LEFT","PRIMARY","SECONDARY"],FIRE:{_hx_index:0,__enum__:"awe6.interfaces.EJoypadButton",toString:i},UP:{_hx_index:1,__enum__:"awe6.interfaces.EJoypadButton",toString:i},RIGHT:{_hx_index:2,__enum__:"awe6.interfaces.EJoypadButton",toString:i},DOWN:{_hx_index:3,__enum__:"awe6.interfaces.EJoypadButton",toString:i},LEFT:{_hx_index:4,__enum__:"awe6.interfaces.EJoypadButton",toString:i},PRIMARY:{_hx_index:5,__enum__:"awe6.interfaces.EJoypadButton",toString:i},SECONDARY:{_hx_index:6,__enum__:"awe6.interfaces.EJoypadButton",toString:i}},te=E["awe6.interfaces.EJoypadTouch"]={__ename__:"awe6.interfaces.EJoypadTouch",__constructs__:["DISABLED","DPAD","JOYSTICK","SWIPE"],DISABLED:{_hx_index:0,__enum__:"awe6.interfaces.EJoypadTouch",toString:i},DPAD:{_hx_index:1,__enum__:"awe6.interfaces.EJoypadTouch",toString:i},JOYSTICK:((_=function(t){return{_hx_index:2,distance:t,__enum__:"awe6.interfaces.EJoypadTouch",toString:i}}).__params__=["distance"],_),SWIPE:((_=function(t){return{_hx_index:3,speed:t,__enum__:"awe6.interfaces.EJoypadTouch",toString:i}}).__params__=["speed"],_)},ee=E["awe6.interfaces.EKey"]={__ename__:"awe6.interfaces.EKey",__constructs__:["NUM_LOCK","CLEAR","HELP","ALT","BACKSPACE","CAPS_LOCK","CONTROL","DELETE","DOWN","END","ENTER","ESCAPE","F1","F10","F11","F12","F13","F14","F15","F2","F3","F4","F5","F6","F7","F8","F9","HOME","INSERT","LEFT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","RIGHT","SHIFT","SPACE","TAB","UP","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","NUMBER_0","NUMBER_1","NUMBER_2","NUMBER_3","NUMBER_4","NUMBER_5","NUMBER_6","NUMBER_7","NUMBER_8","NUMBER_9","COLON","EQUALS","HYPHEN","SLASH","TILDE","SQUARELEFT","SQUARERIGHT","BACKSLASH","APOSTROPHE","TOPLEFT","SUB_TYPE"],NUM_LOCK:{_hx_index:0,__enum__:"awe6.interfaces.EKey",toString:i},CLEAR:{_hx_index:1,__enum__:"awe6.interfaces.EKey",toString:i},HELP:{_hx_index:2,__enum__:"awe6.interfaces.EKey",toString:i},ALT:{_hx_index:3,__enum__:"awe6.interfaces.EKey",toString:i},BACKSPACE:{_hx_index:4,__enum__:"awe6.interfaces.EKey",toString:i},CAPS_LOCK:{_hx_index:5,__enum__:"awe6.interfaces.EKey",toString:i},CONTROL:{_hx_index:6,__enum__:"awe6.interfaces.EKey",toString:i},DELETE:{_hx_index:7,__enum__:"awe6.interfaces.EKey",toString:i},DOWN:{_hx_index:8,__enum__:"awe6.interfaces.EKey",toString:i},END:{_hx_index:9,__enum__:"awe6.interfaces.EKey",toString:i},ENTER:{_hx_index:10,__enum__:"awe6.interfaces.EKey",toString:i},ESCAPE:{_hx_index:11,__enum__:"awe6.interfaces.EKey",toString:i},F1:{_hx_index:12,__enum__:"awe6.interfaces.EKey",toString:i},F10:{_hx_index:13,__enum__:"awe6.interfaces.EKey",toString:i},F11:{_hx_index:14,__enum__:"awe6.interfaces.EKey",toString:i},F12:{_hx_index:15,__enum__:"awe6.interfaces.EKey",toString:i},F13:{_hx_index:16,__enum__:"awe6.interfaces.EKey",toString:i},F14:{_hx_index:17,__enum__:"awe6.interfaces.EKey",toString:i},F15:{_hx_index:18,__enum__:"awe6.interfaces.EKey",toString:i},F2:{_hx_index:19,__enum__:"awe6.interfaces.EKey",toString:i},F3:{_hx_index:20,__enum__:"awe6.interfaces.EKey",toString:i},F4:{_hx_index:21,__enum__:"awe6.interfaces.EKey",toString:i},F5:{_hx_index:22,__enum__:"awe6.interfaces.EKey",toString:i},F6:{_hx_index:23,__enum__:"awe6.interfaces.EKey",toString:i},F7:{_hx_index:24,__enum__:"awe6.interfaces.EKey",toString:i},F8:{_hx_index:25,__enum__:"awe6.interfaces.EKey",toString:i},F9:{_hx_index:26,__enum__:"awe6.interfaces.EKey",toString:i},HOME:{_hx_index:27,__enum__:"awe6.interfaces.EKey",toString:i},INSERT:{_hx_index:28,__enum__:"awe6.interfaces.EKey",toString:i},LEFT:{_hx_index:29,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_0:{_hx_index:30,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_1:{_hx_index:31,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_2:{_hx_index:32,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_3:{_hx_index:33,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_4:{_hx_index:34,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_5:{_hx_index:35,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_6:{_hx_index:36,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_7:{_hx_index:37,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_8:{_hx_index:38,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_9:{_hx_index:39,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_ADD:{_hx_index:40,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_DECIMAL:{_hx_index:41,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_DIVIDE:{_hx_index:42,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_ENTER:{_hx_index:43,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_MULTIPLY:{_hx_index:44,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_SUBTRACT:{_hx_index:45,__enum__:"awe6.interfaces.EKey",toString:i},PAGE_DOWN:{_hx_index:46,__enum__:"awe6.interfaces.EKey",toString:i},PAGE_UP:{_hx_index:47,__enum__:"awe6.interfaces.EKey",toString:i},RIGHT:{_hx_index:48,__enum__:"awe6.interfaces.EKey",toString:i},SHIFT:{_hx_index:49,__enum__:"awe6.interfaces.EKey",toString:i},SPACE:{_hx_index:50,__enum__:"awe6.interfaces.EKey",toString:i},TAB:{_hx_index:51,__enum__:"awe6.interfaces.EKey",toString:i},UP:{_hx_index:52,__enum__:"awe6.interfaces.EKey",toString:i},A:{_hx_index:53,__enum__:"awe6.interfaces.EKey",toString:i},B:{_hx_index:54,__enum__:"awe6.interfaces.EKey",toString:i},C:{_hx_index:55,__enum__:"awe6.interfaces.EKey",toString:i},D:{_hx_index:56,__enum__:"awe6.interfaces.EKey",toString:i},E:{_hx_index:57,__enum__:"awe6.interfaces.EKey",toString:i},F:{_hx_index:58,__enum__:"awe6.interfaces.EKey",toString:i},G:{_hx_index:59,__enum__:"awe6.interfaces.EKey",toString:i},H:{_hx_index:60,__enum__:"awe6.interfaces.EKey",toString:i},I:{_hx_index:61,__enum__:"awe6.interfaces.EKey",toString:i},J:{_hx_index:62,__enum__:"awe6.interfaces.EKey",toString:i},K:{_hx_index:63,__enum__:"awe6.interfaces.EKey",toString:i},L:{_hx_index:64,__enum__:"awe6.interfaces.EKey",toString:i},M:{_hx_index:65,__enum__:"awe6.interfaces.EKey",toString:i},N:{_hx_index:66,__enum__:"awe6.interfaces.EKey",toString:i},O:{_hx_index:67,__enum__:"awe6.interfaces.EKey",toString:i},P:{_hx_index:68,__enum__:"awe6.interfaces.EKey",toString:i},Q:{_hx_index:69,__enum__:"awe6.interfaces.EKey",toString:i},R:{_hx_index:70,__enum__:"awe6.interfaces.EKey",toString:i},S:{_hx_index:71,__enum__:"awe6.interfaces.EKey",toString:i},T:{_hx_index:72,__enum__:"awe6.interfaces.EKey",toString:i},U:{_hx_index:73,__enum__:"awe6.interfaces.EKey",toString:i},V:{_hx_index:74,__enum__:"awe6.interfaces.EKey",toString:i},W:{_hx_index:75,__enum__:"awe6.interfaces.EKey",toString:i},X:{_hx_index:76,__enum__:"awe6.interfaces.EKey",toString:i},Y:{_hx_index:77,__enum__:"awe6.interfaces.EKey",toString:i},Z:{_hx_index:78,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_0:{_hx_index:79,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_1:{_hx_index:80,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_2:{_hx_index:81,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_3:{_hx_index:82,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_4:{_hx_index:83,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_5:{_hx_index:84,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_6:{_hx_index:85,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_7:{_hx_index:86,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_8:{_hx_index:87,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_9:{_hx_index:88,__enum__:"awe6.interfaces.EKey",toString:i},COLON:{_hx_index:89,__enum__:"awe6.interfaces.EKey",toString:i},EQUALS:{_hx_index:90,__enum__:"awe6.interfaces.EKey",toString:i},HYPHEN:{_hx_index:91,__enum__:"awe6.interfaces.EKey",toString:i},SLASH:{_hx_index:92,__enum__:"awe6.interfaces.EKey",toString:i},TILDE:{_hx_index:93,__enum__:"awe6.interfaces.EKey",toString:i},SQUARELEFT:{_hx_index:94,__enum__:"awe6.interfaces.EKey",toString:i},SQUARERIGHT:{_hx_index:95,__enum__:"awe6.interfaces.EKey",toString:i},BACKSLASH:{_hx_index:96,__enum__:"awe6.interfaces.EKey",toString:i},APOSTROPHE:{_hx_index:97,__enum__:"awe6.interfaces.EKey",toString:i},TOPLEFT:{_hx_index:98,__enum__:"awe6.interfaces.EKey",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:99,value:t,__enum__:"awe6.interfaces.EKey",toString:i}}).__params__=["value"],_)},ie=E["awe6.interfaces.EMessage"]={__ename__:"awe6.interfaces.EMessage",__constructs__:["DISPOSE","INIT","PAUSE","RESUME","SUB_TYPE"],DISPOSE:{_hx_index:0,__enum__:"awe6.interfaces.EMessage",toString:i},INIT:{_hx_index:1,__enum__:"awe6.interfaces.EMessage",toString:i},PAUSE:{_hx_index:2,__enum__:"awe6.interfaces.EMessage",toString:i},RESUME:{_hx_index:3,__enum__:"awe6.interfaces.EMessage",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:4,value:t,__enum__:"awe6.interfaces.EMessage",toString:i}}).__params__=["value"],_)},se=E["awe6.interfaces.EMouseButton"]={__ename__:"awe6.interfaces.EMouseButton",__constructs__:["LEFT","MIDDLE","RIGHT"],LEFT:{_hx_index:0,__enum__:"awe6.interfaces.EMouseButton",toString:i},MIDDLE:{_hx_index:1,__enum__:"awe6.interfaces.EMouseButton",toString:i},RIGHT:{_hx_index:2,__enum__:"awe6.interfaces.EMouseButton",toString:i}},ne=E["awe6.interfaces.EMouseCursor"]={__ename__:"awe6.interfaces.EMouseCursor",__constructs__:["ARROW","AUTO","BUTTON","HAND","IBEAM","SUB_TYPE"],ARROW:{_hx_index:0,__enum__:"awe6.interfaces.EMouseCursor",toString:i},AUTO:{_hx_index:1,__enum__:"awe6.interfaces.EMouseCursor",toString:i},BUTTON:{_hx_index:2,__enum__:"awe6.interfaces.EMouseCursor",toString:i},HAND:{_hx_index:3,__enum__:"awe6.interfaces.EMouseCursor",toString:i},IBEAM:{_hx_index:4,__enum__:"awe6.interfaces.EMouseCursor",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:5,value:t,__enum__:"awe6.interfaces.EMouseCursor",toString:i}}).__params__=["value"],_)},re=E["awe6.interfaces.EOverlayButton"]={__ename__:"awe6.interfaces.EOverlayButton",__constructs__:["BACK","MUTE","UNMUTE","PAUSE","UNPAUSE","SUB_TYPE"],BACK:{_hx_index:0,__enum__:"awe6.interfaces.EOverlayButton",toString:i},MUTE:{_hx_index:1,__enum__:"awe6.interfaces.EOverlayButton",toString:i},UNMUTE:{_hx_index:2,__enum__:"awe6.interfaces.EOverlayButton",toString:i},PAUSE:{_hx_index:3,__enum__:"awe6.interfaces.EOverlayButton",toString:i},UNPAUSE:{_hx_index:4,__enum__:"awe6.interfaces.EOverlayButton",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:5,value:t,__enum__:"awe6.interfaces.EOverlayButton",toString:i}}).__params__=["value"],_)},oe=E["awe6.interfaces.EScene"]={__ename__:"awe6.interfaces.EScene",__constructs__:["SPLASH","INTRO","SELECT_SESSION","SELECT_STORY","SELECT_LEVEL","INSTRUCTIONS","SETTINGS","MENU","AVATAR","SHOP","REWARDS","LEADERBOARD","GAME","INTERSTITIAL","CINEMATIC","RESULTS","EXIT","TEST","SUB_TYPE"],SPLASH:{_hx_index:0,__enum__:"awe6.interfaces.EScene",toString:i},INTRO:{_hx_index:1,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_SESSION:{_hx_index:2,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_STORY:{_hx_index:3,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_LEVEL:{_hx_index:4,__enum__:"awe6.interfaces.EScene",toString:i},INSTRUCTIONS:{_hx_index:5,__enum__:"awe6.interfaces.EScene",toString:i},SETTINGS:{_hx_index:6,__enum__:"awe6.interfaces.EScene",toString:i},MENU:{_hx_index:7,__enum__:"awe6.interfaces.EScene",toString:i},AVATAR:{_hx_index:8,__enum__:"awe6.interfaces.EScene",toString:i},SHOP:{_hx_index:9,__enum__:"awe6.interfaces.EScene",toString:i},REWARDS:{_hx_index:10,__enum__:"awe6.interfaces.EScene",toString:i},LEADERBOARD:{_hx_index:11,__enum__:"awe6.interfaces.EScene",toString:i},GAME:{_hx_index:12,__enum__:"awe6.interfaces.EScene",toString:i},INTERSTITIAL:{_hx_index:13,__enum__:"awe6.interfaces.EScene",toString:i},CINEMATIC:{_hx_index:14,__enum__:"awe6.interfaces.EScene",toString:i},RESULTS:{_hx_index:15,__enum__:"awe6.interfaces.EScene",toString:i},EXIT:{_hx_index:16,__enum__:"awe6.interfaces.EScene",toString:i},TEST:{_hx_index:17,__enum__:"awe6.interfaces.EScene",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:18,value:t,__enum__:"awe6.interfaces.EScene",toString:i}}).__params__=["value"],_)},ae=E["awe6.interfaces.ETextAlign"]={__ename__:"awe6.interfaces.ETextAlign",__constructs__:["JUSTIFY","LEFT","CENTER","RIGHT"],JUSTIFY:{_hx_index:0,__enum__:"awe6.interfaces.ETextAlign",toString:i},LEFT:{_hx_index:1,__enum__:"awe6.interfaces.ETextAlign",toString:i},CENTER:{_hx_index:2,__enum__:"awe6.interfaces.ETextAlign",toString:i},RIGHT:{_hx_index:3,__enum__:"awe6.interfaces.ETextAlign",toString:i}},le=E["awe6.interfaces.ETextStyle"]={__ename__:"awe6.interfaces.ETextStyle",__constructs__:["BUTTON","BODY","HEADLINE","SUBHEAD","SMALLPRINT","OVERSIZED","SUB_TYPE"],BUTTON:{_hx_index:0,__enum__:"awe6.interfaces.ETextStyle",toString:i},BODY:{_hx_index:1,__enum__:"awe6.interfaces.ETextStyle",toString:i},HEADLINE:{_hx_index:2,__enum__:"awe6.interfaces.ETextStyle",toString:i},SUBHEAD:{_hx_index:3,__enum__:"awe6.interfaces.ETextStyle",toString:i},SMALLPRINT:{_hx_index:4,__enum__:"awe6.interfaces.ETextStyle",toString:i},OVERSIZED:{_hx_index:5,__enum__:"awe6.interfaces.ETextStyle",toString:i},SUB_TYPE:((_=function(t){return{_hx_index:6,value:t,__enum__:"awe6.interfaces.ETextStyle",toString:i}}).__params__=["value"],_)};(e["b10rsp.AEntity"]=Jt).__name__="b10rsp.AEntity",Jt.__super__=m,Jt.prototype=t(m.prototype,{__class__:Jt});function he(t){this._kernel=t,this._tools=this._kernel.tools,this._session=this._kernel.get_session(),this._assets=this._kernel.assets,this._factory=t.factory}(e["b10rsp.AVo"]=he).__name__="b10rsp.AVo",he.prototype={__class__:he};function _e(t){Mt.call(this,t)}(e["b10rsp.AssetManager"]=_e).__name__="b10rsp.AssetManager",_e.__super__=Mt,_e.prototype=t(Mt.prototype,{_init:function(){Mt.prototype._init.call(this),this.overlayPauseUp=this._createView(ue.OVERLAY_PAUSE_UP),this.overlayPauseOver=this._createView(ue.OVERLAY_PAUSE_OVER)},get_buttonTextOver:function(){return this._createView(ue.BUTTON_TEXT_OVER)},get_buttonTextUp:function(){return this._createView(ue.BUTTON_TEXT_UP)},_createView:function(t){var e,i=new createjs.Container;switch(t._hx_index){case 0:e="assets/overlay/PauseUp.png";break;case 1:e="assets/overlay/PauseOver.png";break;case 2:e="assets/overlay/ButtonTextUp.png";break;case 3:e="assets/overlay/ButtonTextOver.png"}var s=new createjs.Bitmap(this.getAsset(e));return i.addChild(s),new Kt(this._kernel,i)},__class__:_e,__properties__:t(Mt.prototype.__properties__,{get_buttonTextUp:"get_buttonTextUp",get_buttonTextOver:"get_buttonTextOver"})});function ce(t,e,i){this.COLOR_YELLOW=16776960,this.COLOR_RED=16711680,this.COLOR_WHITE=16777215,this.TEXTSTYLE_HUD_SCORE=le.SUB_TYPE("HUD_SCORE"),this.TEXTSTYLE_HUD_MULTIPLIER=le.SUB_TYPE("HUD_MULTIPLIER"),this.TEXTSTYLE_RESULTS_SCORE=le.SUB_TYPE("RESULTS_SCORE"),this.TEXTSTYLE_RESULTS_MESSAGE=le.SUB_TYPE("RESULTS_MESSAGE"),Dt.call(this,t,e,i)}var ue=E["b10rsp.EAsset"]={__ename__:"b10rsp.EAsset",__constructs__:["OVERLAY_PAUSE_UP","OVERLAY_PAUSE_OVER","BUTTON_TEXT_UP","BUTTON_TEXT_OVER"],OVERLAY_PAUSE_UP:{_hx_index:0,__enum__:"b10rsp.EAsset",toString:i},OVERLAY_PAUSE_OVER:{_hx_index:1,__enum__:"b10rsp.EAsset",toString:i},BUTTON_TEXT_UP:{_hx_index:2,__enum__:"b10rsp.EAsset",toString:i},BUTTON_TEXT_OVER:{_hx_index:3,__enum__:"b10rsp.EAsset",toString:i}};(e["b10rsp.Factory"]=ce).__name__="b10rsp.Factory",ce.__super__=Dt,ce.prototype=t(Dt.prototype,{_configurer:function(t){var e;null==t&&(t=!1),t&&(this.id="b10rsp",e="1",null!=ni.getString("revision")&&(e=ni.getString("revision").split("\r\n")[0]),this.version="1.10."+e+"-pok",this.author="https://b10b.com",this.isDecached=!1,this.width=450,this.height=675,this.bgColor=0,this.startingSceneType=oe.MENU,this.targetFramerate=30)},_launchKernel:function(){Dt.prototype._launchKernel.call(this),this._kernel.set_session(this.createSession("defaultSessionId"))},createAssetManager:function(){return null==this._assets&&(this._assets=new _e(this._kernel)),this._assets},createLogger:function(){var t=M.string(this._kernel.getConfig("settings.googleAnalytics.id"));return""!=t?new pe(this._kernel,t):Dt.prototype.createLogger.call(this)},createOverlay:function(){return new Ke(this._kernel)},createPreloader:function(){return new ge(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){switch(t._hx_index){case 5:return new Qe(this._kernel,t);case 7:return new Ze(this._kernel,t);case 12:return new Je(this._kernel,t);case 13:return new qe(this._kernel,t);case 15:return new $e(this._kernel,t)}return Dt.prototype.createScene.call(this,t)},createSceneTransition:function(t,e){return new ti(this._kernel)},createSession:function(t){return new fe(this._kernel,t)},createTextStyle:function(t){null==t&&(t=le.BODY);var e,i=this._kernel.getConfig("settings.font.name"),s=[0,2,2,0];if(null==t)e=new W(i,12,8421504);else switch(t._hx_index){case 0:e=new W(i,18,this.COLOR_WHITE,!1,!1,ae.CENTER,0,0,0,s);break;case 1:e=new W(i,26,this.COLOR_WHITE,!1,!1,ae.CENTER,0,0,0,[]);break;case 2:e=new W(i,34,this.COLOR_YELLOW,!1,!1,ae.CENTER,0,0,0,s);break;case 3:e=new W(i,20,this.COLOR_WHITE,!1,!1,ae.CENTER,0,0,0,[]);break;case 4:e=new W(i,14,this.COLOR_WHITE,!1,!1,ae.CENTER,0,0,0,[]);break;case 6:switch(t.value){case"HUD_MULTIPLIER":e=new W(i,18,this.COLOR_RED,!1,!1,ae.CENTER,0,0,0,[]);break;case"HUD_SCORE":e=new W(i,26,this.COLOR_WHITE,!1,!1,ae.RIGHT,0,0,0,[]);break;case"PRELOADER":e=new W(i,14,this.COLOR_WHITE,!1,!1,ae.CENTER,0,0,0,s);break;case"RESULTS_MESSAGE":e=new W(i,26,this.COLOR_WHITE,!1,!1,ae.CENTER,0,0,0,s);break;case"RESULTS_SCORE":e=new W(i,50,this.COLOR_YELLOW,!1,!1,ae.CENTER,0,0,0,s);break;default:e=null}break;default:e=new W(i,12,8421504)}return e},getBackSceneType:function(t){switch(t._hx_index){case 5:case 13:return oe.MENU;case 12:case 15:return oe.MENU}return Dt.prototype.getBackSceneType.call(this,t)},getNextSceneType:function(t){switch(t._hx_index){case 5:case 7:case 13:return oe.GAME;case 12:return oe.RESULTS;case 15:return oe.GAME}return Dt.prototype.getNextSceneType.call(this,t)},__class__:ce});var pe=function(t,e){if(this._id=e,this._isTrackerEnabled=!t.isLocal&&"true"==t.getConfig("settings.googleAnalytics.enabled"),this._isTrackerEnabled){try{this._gaLib=ga}catch(t){this._isTrackerEnabled=!1}si.trace("Google Analytics enabled with property ID "+this._id,{fileName:"src/b10rsp/LoggerGoogleAnalytics.hx",lineNumber:30,className:"b10rsp.LoggerGoogleAnalytics",methodName:"new"})}};(e["b10rsp.LoggerGoogleAnalytics"]=pe).__name__="b10rsp.LoggerGoogleAnalytics",pe.__interfaces__=[ut],pe.prototype={log:function(t){var e,i=P.substr(M.string(t),0,25);this._isTrackerEnabled?(e=M.string(t).split(": "),this._gaLib("send",{hitType:"event",eventCategory:e[0],eventAction:e[1],eventLabel:e[2]})):si.trace("Logger ... "+i,{fileName:"src/b10rsp/LoggerGoogleAnalytics.hx",lineNumber:49,className:"b10rsp.LoggerGoogleAnalytics",methodName:"log"})},__class__:pe};function de(){}(e["b10rsp.Main"]=de).__name__="b10rsp.Main",de.main=function(){var t=new createjs.Stage(window.document.getElementById("gameCanvas")),e=new createjs.Container;t.addChild(e),de.factory=new ce(e,!1,ni.getString("config"))};var ge=function(t,e,i){jt.call(this,t,e,i)};(e["b10rsp.Preloader"]=ge).__name__="b10rsp.Preloader",ge.__super__=jt,ge.prototype=t(jt.prototype,{_init:function(){this._session=this._kernel.get_session(),this._proprietaryAudioFormat="m4a";var t=new createjs.Bitmap("assets/__PreloaderBg.png");jt.prototype._init.call(this);var e=this._kernel.factory.width-40;this._bg=new createjs.Shape,this._bg.graphics.beginFill("#ffffff"),this._bg.graphics.drawRoundRect(-2,-2,2+e+2,14,4),this._bg.graphics.endFill(),this._fg=new createjs.Shape,this._fg.graphics.beginFill("#ff40ff"),this._fg.graphics.drawRoundRect(0,0,e,10,4),this._fg.graphics.endFill(),this._bg.x=this._fg.x=.5*(this._kernel.factory.width-e),this._bg.y=this._fg.y=this._kernel.factory.height-20-10-2,this._context.addChild(t),this._context.addChild(this._bg),this._context.addChild(this._fg),this._session.get_poki().loadingStart()},_updater:function(t){null==t&&(t=0),jt.prototype._updater.call(this,t),this._fg.scaleX=this.get_progress()},_showAudioHoldMessage:function(){var t=new ze(this._kernel,this._kernel.factory.width,20,this._kernel.getConfig("gui.preloaderComplete"),this._kernel.factory.createTextStyle(le.SUB_TYPE("PRELOADER")));t.setPosition(0,this._bg.y-10),this.get_view().addChild(t.get_view()),this._context.removeChild(this._bg),this._context.removeChild(this._fg)},_onComplete:function(t){this._session.get_poki().loadingStop(),jt.prototype._onComplete.call(this,t)},__class__:ge});var fe=function(t,e){Gt.call(this,t,e)};(e["b10rsp.Session"]=fe).__name__="b10rsp.Session",fe.__super__=Gt,fe.prototype=t(Gt.prototype,{get_poki:function(){return fe._poki},_init:function(){this._version=1,Gt.prototype._init.call(this)},_getter:function(){Gt.prototype._getter.call(this),this.highScore=this._data.highScore,this.isScrollDisabled=this._data.isScrollDisabled,null==this.highScore&&(this.highScore=0)},_setter:function(){Gt.prototype._setter.call(this),this._data.highScore=this.highScore,this._data.isScrollDisabled=this.isScrollDisabled},_resetter:function(){Gt.prototype._resetter.call(this),this.sponsor=new be,this.cache=new ye(this._kernel),null==fe._poki&&(fe._poki=new Se(this._kernel)),this.cheats=new me(this._kernel),this.highScore=0,this.isScrollDisabled=!1},setIsTester:function(t){this._isTester=t},get_isTester:function(){return!!this._kernel.isDebug||this._isTester},__class__:fe,__properties__:{get_poki:"get_poki"}});var ye=function(t){this._kernel=t,this.debugMessage="",this.seed=M.random(100),this.reset()};(e["b10rsp._Session._HelperCache"]=ye).__name__="b10rsp._Session._HelperCache",ye.prototype={reset:function(){this.score=0,this.multiplier=1,this.lives=3,this.instructionsPage=1,this.isInstructions=!1},__class__:ye};var me=function(t){this._kernel=t,this.reset()};(e["b10rsp._Session._HelperCheats"]=me).__name__="b10rsp._Session._HelperCheats",me.prototype={reset:function(t){null==t&&(t=!1),this.bulletTime=this.centerPin=this.lifeSupport=this.microBall=this.sixPack=t},__class__:me};var be=function(){try{this._sponsorLib=sponsorLib,this.isEnabled=!0}catch(t){this.isEnabled=!1}this.hasHighscores=!1};(e["b10rsp._Session._HelperSponsor"]=be).__name__="b10rsp._Session._HelperSponsor",be.prototype={showAd:function(t){null!=this._sponsorLib&&this._sponsorLib.showAd(t)},showMoreGames:function(){null!=this._sponsorLib&&this._sponsorLib.showMoreGames()},getIsMoreGamesEnabled:function(){return null!=this._sponsorLib&&this._sponsorLib.getIsMoreGamesEnabled()},getIsBrandingEnabled:function(){return null!=this._sponsorLib&&this._sponsorLib.getIsBrandingEnabled()},getBrandingUrl:function(){return null==this._sponsorLib?null:this._sponsorLib.getBrandingUrl()},onBrandingClick:function(){null!=this._sponsorLib&&this._sponsorLib.onBrandingClick()},submitScore:function(t){null!=this._sponsorLib&&this.hasHighscores&&this._sponsorLib.submitScore(t)},submitAchievement:function(t){null!=this._sponsorLib&&this._sponsorLib.submitAchievement(t)},__class__:be};var Se=function(t){this._wasMute=!1,this.isEnabled=!1,this._kernel=t;try{this._sdk=window.PokiSDK,null!=this._sdk&&(this._sdk.init(),this._sdk.setDebug(!1),this.isEnabled=!0)}catch(t){var e=ii.caught(t).unwrap();this.isEnabled=!1,si.trace(e,{fileName:"src/b10rsp/Session.hx",lineNumber:235,className:"b10rsp._Session._HelperPoki",methodName:"new"})}si.trace("Poki SDK is "+(this.isEnabled?"enabled":"disabled"),{fileName:"src/b10rsp/Session.hx",lineNumber:237,className:"b10rsp._Session._HelperPoki",methodName:"new"})};(e["b10rsp._Session._HelperPoki"]=Se).__name__="b10rsp._Session._HelperPoki",Se.prototype={loadingStart:function(){si.trace("loadingStart",{fileName:"src/b10rsp/Session.hx",lineNumber:242,className:"b10rsp._Session._HelperPoki",methodName:"loadingStart"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameLoadingStart&&this._sdk.gameLoadingStart()},loadingStop:function(){si.trace("loadingStop",{fileName:"src/b10rsp/Session.hx",lineNumber:250,className:"b10rsp._Session._HelperPoki",methodName:"loadingStop"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameLoadingFinished&&this._sdk.gameLoadingFinished()},gameplayStart:function(){si.trace("gameplayStart",{fileName:"src/b10rsp/Session.hx",lineNumber:258,className:"b10rsp._Session._HelperPoki",methodName:"gameplayStart"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameplayStart&&this._sdk.gameplayStart()},gameplayStop:function(){si.trace("gameplayStop",{fileName:"src/b10rsp/Session.hx",lineNumber:266,className:"b10rsp._Session._HelperPoki",methodName:"gameplayStop"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameplayStop&&this._sdk.gameplayStop()},happyTime:function(t){si.trace("happyTime",{fileName:"src/b10rsp/Session.hx",lineNumber:274,className:"b10rsp._Session._HelperPoki",methodName:"happyTime"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.happyTime&&this._sdk.happyTime(t)},commercialBreak:function(t){var e,i=this;si.trace("commercialBreak",{fileName:"src/b10rsp/Session.hx",lineNumber:282,className:"b10rsp._Session._HelperPoki",methodName:"commercialBreak"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.commercialBreak?(this._wasMute=this._kernel.audio.isMute,this._kernel.audio.set_isMute(!0),createjs.Ticker.setPaused(!0),si.trace("Commercial break starting",{fileName:"src/b10rsp/Session.hx",lineNumber:288,className:"b10rsp._Session._HelperPoki",methodName:"commercialBreak"}),e=function(){i._kernel.audio.set_isMute(i._wasMute),createjs.Ticker.setPaused(!1),null!=t&&t()},this._sdk.commercialBreak().then(function(t){si.trace("Commercial break finished, proceeding to game",{fileName:"src/b10rsp/Session.hx",lineNumber:298,className:"b10rsp._Session._HelperPoki",methodName:"commercialBreak"}),e()}).catch(function(t){si.trace("Commercial break FAILED, proceeding to game",{fileName:"src/b10rsp/Session.hx",lineNumber:303,className:"b10rsp._Session._HelperPoki",methodName:"commercialBreak"}),e()})):t()},__class__:Se};function ve(t){Jt.call(this,t)}var we=E["b10rsp.game.EMission"]={__ename__:"b10rsp.game.EMission",__constructs__:["MISSION_DORMANT","MISSION_1","MISSION_2","MISSION_3","MISSION_4"],MISSION_DORMANT:{_hx_index:0,__enum__:"b10rsp.game.EMission",toString:i},MISSION_1:{_hx_index:1,__enum__:"b10rsp.game.EMission",toString:i},MISSION_2:{_hx_index:2,__enum__:"b10rsp.game.EMission",toString:i},MISSION_3:{_hx_index:3,__enum__:"b10rsp.game.EMission",toString:i},MISSION_4:{_hx_index:4,__enum__:"b10rsp.game.EMission",toString:i}},xe=E["b10rsp.game.EPinball"]={__ename__:"b10rsp.game.EPinball",__constructs__:["TABLE_1","TABLE_2"],TABLE_1:{_hx_index:0,__enum__:"b10rsp.game.EPinball",toString:i},TABLE_2:{_hx_index:1,__enum__:"b10rsp.game.EPinball",toString:i}},Ee=E["b10rsp.game.ESymbol"]={__ename__:"b10rsp.game.ESymbol",__constructs__:["BALL","BG_1","BG_2","BUMPER_1","BUMPER_2","BUMPER_3","BUMPER_4","BUMPER_5","CENTER_PIN","FG_1","FG_2","FIREWALL","FLIPPER_LEFT","FLIPPER_RIGHT","FLIPPER_SMALL","JACKPOT","LIGHT","LIGHT_BUMPER","LIGHT_ENTRY","LIGHT_ENTRY_GROUP","LIGHT_FIREWALL","LIGHT_LAUNCH","LIGHT_RAMP_JACKPOT","LIGHT_RAMP_MISSION","LIGHT_REENTRY","LIGHT_TARGETS_GROUP_LEFT","LIGHT_TARGETS_GROUP_RIGHT","LIGHT_TARGETS_JACKPOT","MASKED_FG_1","PLUNGER","POLY_BUMPER_LEFT","POLY_BUMPER_RIGHT","POLY_BUMPER_TOP","REBOUND_DOOR"],BALL:{_hx_index:0,__enum__:"b10rsp.game.ESymbol",toString:i},BG_1:{_hx_index:1,__enum__:"b10rsp.game.ESymbol",toString:i},BG_2:{_hx_index:2,__enum__:"b10rsp.game.ESymbol",toString:i},BUMPER_1:{_hx_index:3,__enum__:"b10rsp.game.ESymbol",toString:i},BUMPER_2:{_hx_index:4,__enum__:"b10rsp.game.ESymbol",toString:i},BUMPER_3:{_hx_index:5,__enum__:"b10rsp.game.ESymbol",toString:i},BUMPER_4:{_hx_index:6,__enum__:"b10rsp.game.ESymbol",toString:i},BUMPER_5:{_hx_index:7,__enum__:"b10rsp.game.ESymbol",toString:i},CENTER_PIN:{_hx_index:8,__enum__:"b10rsp.game.ESymbol",toString:i},FG_1:{_hx_index:9,__enum__:"b10rsp.game.ESymbol",toString:i},FG_2:{_hx_index:10,__enum__:"b10rsp.game.ESymbol",toString:i},FIREWALL:{_hx_index:11,__enum__:"b10rsp.game.ESymbol",toString:i},FLIPPER_LEFT:{_hx_index:12,__enum__:"b10rsp.game.ESymbol",toString:i},FLIPPER_RIGHT:{_hx_index:13,__enum__:"b10rsp.game.ESymbol",toString:i},FLIPPER_SMALL:{_hx_index:14,__enum__:"b10rsp.game.ESymbol",toString:i},JACKPOT:{_hx_index:15,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT:{_hx_index:16,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_BUMPER:{_hx_index:17,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_ENTRY:{_hx_index:18,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_ENTRY_GROUP:{_hx_index:19,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_FIREWALL:{_hx_index:20,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_LAUNCH:{_hx_index:21,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_RAMP_JACKPOT:{_hx_index:22,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_RAMP_MISSION:{_hx_index:23,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_REENTRY:{_hx_index:24,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_TARGETS_GROUP_LEFT:{_hx_index:25,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_TARGETS_GROUP_RIGHT:{_hx_index:26,__enum__:"b10rsp.game.ESymbol",toString:i},LIGHT_TARGETS_JACKPOT:{_hx_index:27,__enum__:"b10rsp.game.ESymbol",toString:i},MASKED_FG_1:{_hx_index:28,__enum__:"b10rsp.game.ESymbol",toString:i},PLUNGER:{_hx_index:29,__enum__:"b10rsp.game.ESymbol",toString:i},POLY_BUMPER_LEFT:{_hx_index:30,__enum__:"b10rsp.game.ESymbol",toString:i},POLY_BUMPER_RIGHT:{_hx_index:31,__enum__:"b10rsp.game.ESymbol",toString:i},POLY_BUMPER_TOP:{_hx_index:32,__enum__:"b10rsp.game.ESymbol",toString:i},REBOUND_DOOR:{_hx_index:33,__enum__:"b10rsp.game.ESymbol",toString:i}};(e["b10rsp.game.Location"]=ve).__name__="b10rsp.game.Location",ve.__super__=Jt,ve.prototype=t(Jt.prototype,{_init:function(){Jt.prototype._init.call(this),this.set_lives(this._session.cheats.sixPack?6:3),this.set_multiplier(1),this._pinballs=[],this.setPinballTable(xe.TABLE_1),this.inactiveCount=0},_disposer:function(){for(var t=0,e=this._pinballs;t<e.length;){var i=e[t];++t,i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer())}Jt.prototype._disposer.call(this)},setPinballTable:function(t){null!=this._pinball&&(this._pinball.remove(!0),this._pinball.transition(!1),this._pinball=null);for(var e=0,i=this._pinballs;e<i.length;){var s=i[e];++e,s.vo.type==t&&(this._pinball=s,this._pinball.transition(!0),this.addEntity(this._pinball,null,!0,1))}if(null!=this._pinball)1<this._updates&&this._kernel.overlay.flash();else{switch(t._hx_index){case 0:this._pinballs.push(new Ie(this._kernel,this));break;case 1:this._pinballs.push(new Pe(this._kernel,this))}this.setPinballTable(t)}},set_lives:function(t){return this.lives=0|(6<t?6:t<0?0:t),this._session.cache.lives=this.lives,this.lives},set_multiplier:function(t){return this.multiplier=0|(4<t?4:t<1?1:t),this._session.cache.multiplier=this.multiplier,this.multiplier},addScore:function(t){var e="number"==typeof t&&(0|t)===t?t:0;switch(t){case"CircleBumper":e=10;break;case"PolyBumper":e=5;break;case"Target":e=10;break;case"entry":e=50;break;case"group":e=100;break;case"hideOut":e=1e3;break;case"launch":e=0;break;case"missionComplete":e=5e3;break;case"missionHit":e=500;break;case"missionStart":e=250;break;case"rescueOpen":e=25;break;case"secret":e=-1}this._session.cache.score+=this.multiplier*e,this._session.cache.score<0&&(this._session.cache.score=0)},__class__:ve,__properties__:t(Jt.prototype.__properties__,{set_multiplier:"set_multiplier",set_lives:"set_lives"})});function Ce(t,e,i,s){this._pinball=e,this._bgSymbol=i,this._lightsRampMission=s,Jt.call(this,t)}(e["b10rsp.game.Mission"]=Ce).__name__="b10rsp.game.Mission",Ce.__super__=Jt,Ce.prototype=t(Jt.prototype,{_init:function(){Jt.prototype._init.call(this),this._listener={onExit:Ms(this,this._hit)},this._lights=[],this._sensors=[],this.isMissionInProgress=!1,this._configure(we.MISSION_DORMANT)},_updater:function(t){null==t&&(t=0),Jt.prototype._updater.call(this,t)},_configure:function(t){switch(this._type=t,this._type._hx_index){case 0:this._lights=[],this._sensors=[],this._maxHits=1;break;case 1:this._lights=[this._getObject("lights.entry"),this._getObject("lightsUpper.rampReentry")],this._sensors=[this._getObject("entryGroup.target1"),this._getObject("entryGroup.target2"),this._getObject("entryGroup.target3")],this._maxHits=1;break;case 2:this._lights=[this._getObject("lights.bumper1"),this._getObject("lights.bumper2"),this._getObject("lights.bumper3"),this._getObject("lights.bumper4")],this._sensors=[this._getObject("bumper1"),this._getObject("bumper2"),this._getObject("bumper3"),this._getObject("bumper4")],this._maxHits=10;break;case 3:this._lights=[this._getObject("lightsUpper.targets1"),this._getObject("lightsUpper.targets2")],this._sensors=[this._getObject("targetGroup1.target1"),this._getObject("targetGroup1.target2"),this._getObject("targetGroup1.target3"),this._getObject("targetGroup2.target1"),this._getObject("targetGroup2.target2"),this._getObject("targetGroup2.target3")],this._maxHits=3;break;case 4:this._lights=[this._getObject("lights.rampMission")],this._sensors=[this._getObject("missionRampTarget")],this._maxHits=2,this._lightsRampMission.setState(!1)}for(var e=0,i=this._sensors;e<i.length;){var s=i[e];++e,s.broadcaster.addListener(this._listener)}for(e=0,i=this._lights;e<i.length;){s=i[e];++e,s.setState(!1)}this._hits=this._maxHits,this._bgSymbol.setMission(t)},_getObject:function(t){return this._pinball.getObject(t)},_hit:function(){this.isMissionInProgress&&(this._pinball.location.addScore("missionHit"),this._pinball.startSound("MissionHit"),this._hits--,this._hits<=0&&this.completeMission())},_getAchievementName:function(){switch(this._type._hx_index){case 0:return"";case 1:return M.string(this._kernel.getConfig("gui.scenes.game.achievements.mission1.title"));case 2:return M.string(this._kernel.getConfig("gui.scenes.game.achievements.mission2.title"));case 3:return M.string(this._kernel.getConfig("gui.scenes.game.achievements.mission3.title"));case 4:return M.string(this._kernel.getConfig("gui.scenes.game.achievements.mission4.title"))}},completeMission:function(){this._pinball.location.addScore("missionComplete"),this._pinball.startSound("MissionComplete"),this._session.sponsor.isEnabled&&this._session.sponsor.submitAchievement(this._getAchievementName()),this.reset()},reset:function(){this.isMissionInProgress=!1;for(var t=0,e=this._sensors;t<e.length;){var i=e[t];++t,i.broadcaster.removeListener(this._listener)}for(t=0,e=this._lights;t<e.length;){i=e[t];++t,i.setState(!0)}this._hits=0,this._bgSymbol.setMission(we.MISSION_DORMANT),this._lightsRampMission.setState(!1),this._kernel.overlay.flash(),this.startMusic()},newMission:function(t){this.isMissionInProgress||(this.reset(),this.isMissionInProgress=!0,this._lightsRampMission.setState(!0),this._configure(t),this.startMusic(),this._pinball.location.addScore("missionStart"),this._pinball.startSound("MissionStart"))},startMusic:function(){var t=this;null!=this._audioDelay&&!this._audioDelay.isDisposed||(this._kernel.audio.stop(null,qt.SUB_TYPE(this._pinball)),this.addEntity(this._audioDelay=new zt(this._kernel,function(){t._kernel.audio.start(t.isMissionInProgress?"MusicGameTable1Mission":"MusicGameTable1Normal",qt.SUB_TYPE(t._pinball),-1,0,t.isMissionInProgress?.5:.25,0)},1)))},_disposer:function(){this._kernel.audio.stop(null,qt.SUB_TYPE(this._pinball)),Jt.prototype._disposer.call(this)},__class__:Ce});function Te(t,e,i){this.location=e,this.vo=new Me(t,i),Jt.call(this,t)}(e["b10rsp.game.Pinball"]=Te).__name__="b10rsp.game.Pinball",Te.__super__=Jt,Te.prototype=t(Jt.prototype,{_init:function(){Jt.prototype._init.call(this),this.isAcceptingInputs=!0,this._shake=0,this._x=this._y=0,this._tiltPower=1,this._lookAheadX=this._lookAheadY=0,this._scaler=Math.max(this._factory.width/this.vo.width,this._factory.height/this.vo.height),this._context.scaleX=this._context.scaleY=this._scaler,this.engine=new Ui(Ms(this,this._createSymbol)),this.engine.importXml(O.parse(this.vo.data)),this.engine.compile(),this.ball=this.getObject("ball"),this.ball.maxSpeed=18,this._hole=this.getObject("hole"),this.engine.broadcaster.addListener({onSound:Ms(this,this.startSound)}),this.engine.render(new ls(this._context)),this._optimizeRecursion(this._context),this._removeRecursion(this._context),this._ballSymbol=this.ball.mc._symbol,this.engine.start()},transition:function(t){null==t&&(t=!1)},getObject:function(t){try{var e=t.split(".");if(4==e.length)return this.engine.getContainerByName(e[0]).getContainerByName(e[1]).getContainerByName(e[2]).getObjectByName(e[3]);if(3==e.length)return this.engine.getContainerByName(e[0]).getContainerByName(e[1]).getObjectByName(e[2]);if(2==e.length)return this.engine.getContainerByName(e[0]).getObjectByName(e[1]);if(1==e.length)return this.engine.getObjectByName(e[0])}catch(t){}return null},startSound:function(t){var e;switch("GAM_"==P.substr(t,0,4)&&(t=P.substr(t,4,1).toUpperCase()+P.substr(t,5,null)),t){case"Bumper":case"FlipperDown":case"FlipperUp":case"TargetHit":e=3;break;default:e=0}0<e&&(t+=M.random(e)+1),this._kernel.audio.start(t,qt.EFFECTS,1,0,.5,null,!0)},setShake:function(t){var e=Math.max(this._shake,t);this._shake=1<e?1:e<0?0:e},_updater:function(t){null==t&&(t=0),Jt.prototype._updater.call(this,t),this._shake*=.7;var e=this._tiltPower+.01;this._tiltPower=1<e?1:e<0?0:e,this._inputs(),this._session.get_isTester()&&this._kernel.inputs.joypad.getIsButtonDown($t.SECONDARY)?(this._isScrolling=!1,this.ball.position.x=(this._kernel.inputs.mouse.x-this._x)/this._scaler,this.ball.position.y=(this._kernel.inputs.mouse.y-this._y)/this._scaler,this.ball.velocity.x=this.ball.velocity.y=0):this._isScrolling=this.vo.isScrollEnforced||!this._session.isScrollDisabled,this.engine.stepPhysics(),this._cheats(),(this.ball.hasContactWith(this._hole)||this._getIsBallOutSideBounds())&&this._ballLost();for(var i=this.ball.contacts.iterator();i.hasNext();){var s=i.next();this.location.addScore(s.classString)}this._lookAheadX=.050000000000000044*this._lookAheadX+30*this.ball.velocity.x*.95,this._lookAheadY=.050000000000000044*this._lookAheadY+30*this.ball.velocity.y*.95;var n=this.ball.position.x+this._lookAheadX,r=this.ball.position.y+this._lookAheadY,e=(this._tools,this.ball.velocity.getLength());this.setPosition(n,r,1-(25<e?25:e<0?0:e)/25*.5),this._ballSymbol.blur(Math.min(this.ball.velocity.getLength()/25,1),this.ball.position.x,this.ball.position.y,3*this.ball.velocity.x,3*this.ball.velocity.y)},_inputs:function(){this.isAcceptingInputs},_cheats:function(){this._session.cheats.bulletTime&&this._getIsJoypadButtonDown($t.DOWN)||this.engine.stepPhysics(),this.ball.radius=this._session.cheats.microBall?8:12},_getIsBallOutSideBounds:function(){return this.ball.position.x<0||this.ball.position.x>this.vo.width||this.ball.position.y<0||this.ball.position.y>this.vo.height},_vibrate:function(t){null==t&&(t=200);try{null!=d.navigator.vibrate&&d.navigator.vibrate(t)}catch(t){}},_ballLost:function(){this.location.lives<=0||(this.startSound("BallLost"),this.location.set_lives(this.location.lives-1),0<this.location.lives?this._ballNew():this._kernel.audio.stop(null,qt.SUB_TYPE(this)),this._vibrate())},_ballNew:function(){},_getIsJoypadButtonDown:function(t){var e,i=this._kernel.inputs.joypad,s=this._kernel.inputs.mouse;switch(t._hx_index){case 1:e=i.getIsButtonDown($t.UP)||s.getIsButtonDown()&&s.relativeCentralisedY<0;break;case 2:e=i.getIsButtonDown($t.RIGHT)||s.getIsButtonDown()&&0<s.relativeCentralisedX&&0<s.relativeCentralisedY;break;case 3:e=i.getIsButtonDown($t.DOWN)||s.getIsButtonDown()&&0<s.relativeCentralisedY;break;case 4:e=i.getIsButtonDown($t.LEFT)||s.getIsButtonDown()&&s.relativeCentralisedX<0&&0<s.relativeCentralisedY;break;case 0:case 5:case 6:e=i.getIsButtonDown($t.FIRE)||s.getIsButtonDoubleClick()}return e&&(this.location.inactiveCount=0),e},setPosition:function(t,e,i){var s=Math.max(this._factory.width/this.vo.width,this._factory.height/this.vo.height);this._isScrolling&&1!=this.ball.level?(this._scaler=Math.max(s,.09999999999999998*i+.9*this._scaler),this._x=.050000000000000044*(-t*this._scaler+this._factory.width/2)+.95*this._x,this._y=.050000000000000044*(-e*this._scaler+this._factory.height/2)+.95*this._y):(this._scaler=.09999999999999998*s+.9*this._scaler,this._x=(this._factory.width-this.vo.width*this._scaler)/2*.050000000000000044+.95*this._x,this._y=(this._factory.height-this.vo.height*this._scaler)/2*.050000000000000044+.95*this._y),this._y+=this._shake*this._scaler*(30*(Math.random()-.5));var n=this._x,r=-this.vo.width*this._scaler+this._factory.width;this._x=0<n?0:n<r?r:n;n=this._y,r=-this.vo.height*this._scaler+this._factory.height;this._y=0<n?0:n<r?r:n,this._context.x=this._x,this._context.y=this._y,this._context.scaleX=this._scaler,this._context.scaleY=this._scaler},_convertSymbolNameToType:function(t){switch(t){case"ball":return Ee.BALL;case"bg1":return Ee.BG_1;case"bg2":return Ee.BG_2;case"bumper1":return Ee.BUMPER_1;case"bumper2":return Ee.BUMPER_2;case"bumper3":return Ee.BUMPER_3;case"bumper4":return Ee.BUMPER_4;case"bumper5":return Ee.BUMPER_5;case"centerPin":return Ee.CENTER_PIN;case"fg1":return Ee.FG_1;case"fg2":return Ee.FG_2;case"firewall":return Ee.FIREWALL;case"flipperLeft":return Ee.FLIPPER_LEFT;case"flipperRight":return Ee.FLIPPER_RIGHT;case"flipperSmall":return Ee.FLIPPER_SMALL;case"jackpot":return Ee.JACKPOT;case"Light":case"light":return Ee.LIGHT;case"lightBumper":return Ee.LIGHT_BUMPER;case"lightEntry":return Ee.LIGHT_ENTRY;case"lightEntryGroup":return Ee.LIGHT_ENTRY_GROUP;case"lightFirewall":return Ee.LIGHT_FIREWALL;case"lightLaunch":return Ee.LIGHT_LAUNCH;case"lightRampJackpot":return Ee.LIGHT_RAMP_JACKPOT;case"lightRampMission":return Ee.LIGHT_RAMP_MISSION;case"lightReentry":return Ee.LIGHT_REENTRY;case"lightTargetsGroupLeft":return Ee.LIGHT_TARGETS_GROUP_LEFT;case"lightTargetsGroupRight":return Ee.LIGHT_TARGETS_GROUP_RIGHT;case"lightTargetsJackpot":return Ee.LIGHT_TARGETS_JACKPOT;case"maskedFg1":return Ee.MASKED_FG_1;case"plunger":return Ee.PLUNGER;case"polyBumperLeft":return Ee.POLY_BUMPER_LEFT;case"polyBumperRight":return Ee.POLY_BUMPER_RIGHT;case"polyBumperTop":return Ee.POLY_BUMPER_TOP;case"reboundDoor":return Ee.REBOUND_DOOR;default:return null}},_createSymbol:function(t){return new ke(this._kernel,this._convertSymbolNameToType(t)).createDisplayObject()},_optimizeRecursion:function(t){if(t.visible=!1,t.isSymbol)for(var e=t;null!=e;)e.visible=!0,e=e.parent;var i=null;if(t instanceof createjs.Container&&(i=t),null!=i&&0!=i.children.length)for(var s=0,n=i.children;s<n.length;){var r=n[s];++s,this._optimizeRecursion(r)}},_removeRecursion:function(t,e){if(null==e&&(e=[]),!t.visible)return null!=t.parent&&e.push(t),e;var i=null;if(t instanceof createjs.Container&&(i=t),null!=i)for(var s=0,n=i.children;s<n.length;){var r=n[s];++s,this._removeRecursion(r,e)}if(t!=this._context)return e;for(s=0;s<e.length;){r=e[s];++s,null!=r.parent&&r.parent.removeChild(r)}return null},__class__:Te});function Ae(t,e,i,s,n,r,o){this._pinball=t,this._isLifeSupport=e,this._targetInner=i,this._targetOuter=s,this._lightInner=n,this._lightOuter=r,this._elements=o,this._targetInner.broadcaster.addListener({onEnter:Ms(this,this._handleTargetInnerEnter)}),this._targetOuter.broadcaster.addListener({onExit:Ms(this,this._handleTargetOuterExit)}),this.openDoor()}(e["b10rsp.game.PinballRebound"]=Ae).__name__="b10rsp.game.PinballRebound",Ae.prototype={_handleTargetInnerEnter:function(t){this._isOpen||(this._pinball.location.addScore("rescueOpen"),this._pinball.startSound("RescueOpen"),this.openDoor())},_handleTargetOuterExit:function(t){t.movableObject.position.y<this._targetOuter.getGlobalPosition().y&&this.closeDoor()},openDoor:function(){this._isOpen=!0;for(var t=0,e=this._elements;t<e.length;){var i=e[t];++t,i.isEnabled=!1,i.mc.set_visible(!1)}this._lightOuter.setState(!1),this._lightInner.setState(!0)},closeDoor:function(){if(!this._isLifeSupport){this._isOpen=!1;for(var t=0,e=this._elements;t<e.length;){var i=e[t];++t,i.isEnabled=!0,i.mc.set_visible(!0)}this._lightOuter.setState(!0),this._lightInner.setState(!1)}},__class__:Ae};var Ie=function(t,e){Te.call(this,t,e,xe.TABLE_1)};(e["b10rsp.game.PinballTable1"]=Ie).__name__="b10rsp.game.PinballTable1",Ie.__super__=Te,Ie.prototype=t(Te.prototype,{_init:function(){Te.prototype._init.call(this),this._plunger=this.getObject("plunger"),this._tilt=this.getObject("tilt"),this._centerPin=this.getObject("centerPin"),this._flipperTop=this.getObject("flipperTop"),this._flipperLeft=this.getObject("flipperLeft"),this._flipperRight=this.getObject("flipperRight"),this._entryGroupLight1=this.getObject("entryGroup.light1"),this._entryGroupLight2=this.getObject("entryGroup.light2"),this._entryGroupLight3=this.getObject("entryGroup.light3"),this._entryGroupTarget1=this.getObject("entryGroup.target1"),this._entryGroupTarget2=this.getObject("entryGroup.target2"),this._entryGroupTarget3=this.getObject("entryGroup.target3"),this._lightsEntry=this.getObject("lights.entry"),this._lightsTargetsJackpot=this.getObject("lights.targetsJackpot"),this._lightsPlunger=this.getObject("lights.plunger"),this._lightsRampMission=this.getObject("lights.rampMission"),this._lightsRampJackpot=this.getObject("lightsUpper.rampJackpot"),this._hideOut=this.getObject("hideOut"),this._missionRampTarget=this.getObject("missionRampTarget"),this._missionRamp=this.getObject("missionRamp"),this._jackpotRamp=this.getObject("jackpotRamp"),this._reentryRamp=this.getObject("reentryRamp"),this._bgSymbol=this.getObject("bg").mc._symbol,this._fgSymbol=this.getObject("fg").mc._symbol,this._reboundLeft=new Ae(this,this._session.cheats.lifeSupport,this.getObject("left.targetInner"),this.getObject("left.targetOuter"),this.getObject("lights.leftInner"),this.getObject("lights.leftOuter"),[this.getObject("left.lower.door.rect"),this.getObject("left.lower.door.ring")]),this._reboundRight=new Ae(this,this._session.cheats.lifeSupport,this.getObject("right.targetInner"),this.getObject("right.targetOuter"),this.getObject("lights.rightInner"),this.getObject("lights.rightOuter"),[this.getObject("right.lower.door.rect"),this.getObject("right.lower.door.ring")]),this._centerPin.broadcaster.addListener({onCollision:Ms(this,this._handleCenterPin)}),this._entryGroupTarget1.broadcaster.addListener({onExit:Ms(this,this._handleEntryTarget)}),this._entryGroupTarget2.broadcaster.addListener({onExit:Ms(this,this._handleEntryTarget)}),this._entryGroupTarget3.broadcaster.addListener({onExit:Ms(this,this._handleEntryTarget)}),this._missionRamp.broadcaster.addListener({onExit:Ms(this,this._handleRamp),onEnter:Ms(this,this._handleMissionRampBoost)}),this._jackpotRamp.broadcaster.addListener({onExit:Ms(this,this._handleRamp)}),this._reentryRamp.broadcaster.addListener({onExit:Ms(this,this._handleRamp)}),this.engine.start(),this.addEntity(this._mission=new Ce(this._kernel,this,this._bgSymbol,this._lightsRampMission)),this._ballNew()},transition:function(t){null==t&&(t=!1),Te.prototype.transition.call(this,t),t?this._mission.startMusic():this._kernel.audio.stop(null,qt.SUB_TYPE(this))},_updater:function(t){null==t&&(t=0);var e=this;Te.prototype._updater.call(this,t),this._getEntryGroupState()&&null==this._delayEntryGroupState1&&this.addEntity(this._delayEntryGroupState1=new zt(this._kernel,function(){e.location.addScore("group"),e._lightsEntry.setState(!1),e._setCenterPinState(!0),e._setEntryGroupState(!1),e.startSound("EntryComplete"),e._delayEntryGroupState1=null},1e3)),this._hideOut.occupied&&(this.location.addScore("hideOut"),this.location.setPinballTable(xe.TABLE_2),this._jackpotReturn()),this._getTargetGroupState(1)&&null==this._delayTargetGroupState1&&this.addEntity(this._delayTargetGroupState1=new zt(this._kernel,function(){e.startSound("TargetsComplete"),e.location.addScore("group"),e._setTargetGroupState(1,!1),e._delayTargetGroupState1=null},1e3)),this._getTargetGroupState(2)&&null==this._delayTargetGroupState2&&this.addEntity(this._delayTargetGroupState2=new zt(this._kernel,function(){e.startSound("TargetsComplete"),e.location.addScore("group"),e._setTargetGroupState(2,!1),e._delayTargetGroupState2=null},1e3)),this._getTargetGroupState(3)&&null==this._delayTargetGroupState3&&this.addEntity(this._delayTargetGroupState3=new zt(this._kernel,function(){e.startSound("MultiplierComplete");var t=e.location;t.set_multiplier(t.multiplier+1),e.location.addScore("group"),e._setTargetGroupState(3,!1),e._delayTargetGroupState3=null},1e3)),this._getTargetGroupState(4)&&null==this._delayTargetGroupState4&&this.addEntity(this._delayTargetGroupState4=new zt(this._kernel,function(){e._openJackpot(),e.location.addScore("group"),e._setTargetGroupState(4,!1),e._delayTargetGroupState4=null},1e3)),!this._lightsPlunger.state&&16<this.ball.velocity.getLength()&&(this._lightsPlunger.setState(!0),this._lightsRampMission.setState(!1),this.location.addScore("launch")),this.ball.level!=this._prevBallLevel&&(this._prevBallLevel=this.ball.level,this._bgSymbol.setIsUpper(4==this.ball.level),this._fgSymbol.visible=4!=this.ball.level),this.ball.hasContactWith(this._missionRampTarget)&&!this._mission.isMissionInProgress&&this._mission.newMission(this._getMission()),4==this.ball.level&&this.ball.position.y<85&&this.ball.velocity.getLength()<.25&&(this.ball.velocity.x-=.25)},_inputs:function(){var t,e,i,s,n,r;Te.prototype._inputs.call(this),this.isAcceptingInputs&&(t=this._getIsJoypadButtonDown($t.UP),e=this._getIsJoypadButtonDown($t.RIGHT),i=this._getIsJoypadButtonDown($t.DOWN),s=this._getIsJoypadButtonDown($t.LEFT),n=this._getIsJoypadButtonDown($t.FIRE),s?this._flipperTop.downHandler():this._flipperTop.upHandler(),e?this._flipperRight.downHandler():this._flipperRight.upHandler(),s?this._flipperLeft.downHandler():this._flipperLeft.upHandler(),t?this._prevIsUp||.75<this._tiltPower&&(this.startSound("FlipperUp"),r=(Math.random()-.5)*this._tiltPower,this._tilt.tiltAmount.x=.75*r,r=(Math.random()+4)*this._tiltPower,this._tilt.tiltAmount.y=.75*r,this._tiltPower*=.8,this._tilt.downHandler(),this.setShake(this._tiltPower)):this._prevIsUp&&this._tilt.upHandler(),1==this.ball.level&&(i||n?(this._prevIsDown||this.startSound("PlungerPull"),this._plunger.downHandler()):this._plunger.upHandler(),this.location.inactiveCount++),(s&&!this._prevIsLeft||e&&!this._prevIsRight)&&this._shuffleEntryLights(),this._prevIsUp=t,this._prevIsRight=e,this._prevIsDown=i,this._prevIsLeft=s,this._prevIsFire=n)},_ballNew:function(){var t=this;Te.prototype._ballNew.call(this),this._reset(),this._mission.isMissionInProgress&&this._mission.reset(),this.ball.velocity.x=0,this.ball.velocity.y=0,this.ball.position.x=40,this.ball.position.y=785,this.ball.level=1,this.ball.contacts=new fi,1==this.location.lives&&this._openJackpot(),0<this._session.cache.score&&(this.isAcceptingInputs=!1,this._session.get_poki().gameplayStop(),this._session.get_poki().commercialBreak(function(){t._session.get_poki().gameplayStart(),t.isAcceptingInputs=!0}))},_getMission:function(){var t=!this._entryGroupLight1.state,e=!this._entryGroupLight2.state,i=!this._entryGroupLight3.state;return t||e||i?!t||e||i?t||!e||i?t||e||!i?t&&e&&!i?we.MISSION_2:t&&!e&&i?we.MISSION_1:!t&&e&&i?we.MISSION_3:t&&e&&i?we.MISSION_4:we.MISSION_DORMANT:we.MISSION_4:we.MISSION_3:we.MISSION_1:we.MISSION_2},_openJackpot:function(){this._lightsTargetsJackpot.setState(!0),this._setJackpotState(!0),this.startSound("JackpotOpen")},_jackpotReturn:function(){this._hideOut.releaseBall(),this._setJackpotState(!1),this._lightsTargetsJackpot.setState(!1)},_setJackpotState:function(t){this._lightsRampJackpot.setState(!t),this._hideOut.isEnabled=t,this._hideOut.transparent=!t,this._hideOut.mc.set_visible(t)},_setCenterPinState:function(t){this._centerPin.isEnabled=t,this._centerPin.transparent=!t,this._centerPin.mc.set_visible(t)},_handleCenterPin:function(t){this._session.cheats.centerPin||(this._setCenterPinState(!1),this.startSound("CenterPin"))},_getEntryGroupState:function(){return!this._entryGroupLight1.state&&!this._entryGroupLight2.state&&!this._entryGroupLight3.state},_setEntryGroupState:function(t){this._entryGroupLight1.setState(!t),this._entryGroupLight2.setState(!t),this._entryGroupLight3.setState(!t),this._lightsEntry.setState(!t)},_getTargetGroupState:function(t){var e=Ms(_=this.engine.getContainerByName("targetGroup"+t),_.getContainerByName),i=e("target1"),s=e("target2"),n=e("target3");return!i.state&&!s.state&&!n.state},_setTargetGroupState:function(t,e){var i=Ms(_=this.engine.getContainerByName("targetGroup"+t),_.getContainerByName),s=i("target1"),n=i("target2"),r=i("target3");s.setState(!e),n.setState(!e),r.setState(!e)},_shuffleEntryLights:function(){var t=!this._entryGroupLight1.state,e=!this._entryGroupLight2.state,i=!this._entryGroupLight3.state,s=!1,n=!1,r=!1,o=(t?1:0)+(e?1:0)+(i?1:0);0!=o&&3!=o&&(!t||e||i?t||!e||i?t||e||!i?t&&e&&!i?r=!(n=!(s=!0)):t&&!e&&i?r=n=!(s=!1):!t&&e&&i&&(r=!(n=s=!0)):r=n=!(s=!0):r=!(n=s=!1):r=!(n=!(s=!1)),this._entryGroupLight1.setState(!s),this._entryGroupLight2.setState(!n),this._entryGroupLight3.setState(!r))},_handleEntryTarget:function(t){var e,i=t.fixedObject.name;switch(M.parseInt(P.substr(i,-1,1))){case 1:e=this._entryGroupLight1;break;case 2:e=this._entryGroupLight2;break;case 3:e=this._entryGroupLight3;break;default:e=this._entryGroupLight3}e.state&&(e.setState(!1),this.location.addScore("entry"),this.startSound("Entry"))},_handleMissionRampBoost:function(t){this.ball.velocity.plus(new ji(25,-40))},_handleRamp:function(t){this.startSound("MissionStart")},_reset:function(){this.location.set_multiplier(1),this.location.inactiveCount=0,this._mission.reset(),this._setEntryGroupState(!1),this._setTargetGroupState(1,!1),this._setTargetGroupState(2,!1),this._setTargetGroupState(3,!1),this._setTargetGroupState(4,!1),this._setCenterPinState(this._session.cheats.centerPin),this._setJackpotState(!1),this._reboundLeft.openDoor(),this._reboundRight.openDoor(),this._lightsTargetsJackpot.setState(!1),this._lightsPlunger.setState(!1),this._lightsRampMission.setState(!0)},__class__:Ie});var Pe=function(t,e){Te.call(this,t,e,xe.TABLE_2)};(e["b10rsp.game.PinballTable2"]=Pe).__name__="b10rsp.game.PinballTable2",Pe.__super__=Te,Pe.prototype=t(Te.prototype,{_init:function(){Te.prototype._init.call(this),this._tilt=this.getObject("tilt"),this._flipperLeft=this.getObject("flipperLeft"),this._flipperRight=this.getObject("flipperRight"),this._wall=this.getObject("wall"),this._hideOut=this.getObject("hideOut"),this._target1=this.getObject("targets.target1"),this._target2=this.getObject("targets.target2"),this._target3=this.getObject("targets.target3"),this._target4=this.getObject("targets.target4"),this._target5=this.getObject("targets.target5"),this._target6=this.getObject("targets.target6"),this._target7=this.getObject("targets.target7"),this._target8=this.getObject("targets.target8"),this._target9=this.getObject("targets.target9"),this._target10=this.getObject("targets.target10"),this._target11=this.getObject("targets.target11"),this._target12=this.getObject("targets.target12"),this._target13=this.getObject("targets.target13"),this._target14=this.getObject("targets.target14"),this._target15=this.getObject("targets.target15"),this.engine.start()},transition:function(t){null==t&&(t=!1),Te.prototype.transition.call(this,t),t?this._kernel.audio.start("MusicGameTable2",qt.SUB_TYPE(this),-1,0,.5,0):this._kernel.audio.stop(null,qt.SUB_TYPE(this))},_disposer:function(){this._kernel.audio.stop(null,qt.SUB_TYPE(this)),Te.prototype._disposer.call(this)},_updater:function(t){var e;null==t&&(t=0),Te.prototype._updater.call(this,t),this._wall.rotation+=.2,this._wall.mc.set_rotation(180*this._wall.rotation/Math.PI),this._hideOut.occupied&&(this.location.addScore("jackpot"),this.startSound("JackpotWin"),this.location.setPinballTable(xe.TABLE_1),this._reset(),(e=this.location).set_lives(e.lives+1),this._session.sponsor.isEnabled&&this._session.sponsor.submitAchievement(M.string(this._kernel.getConfig("gui.scenes.game.achievements.bonus.title")))),this._getIsAllTargets()&&this._wall.isEnabled&&(this.startSound("WallRemoved"),this._wall.isEnabled=!1,this._wall.transparent=!0,this._wall.mc.set_visible(!1)),this._updates%this._factory.targetFramerate==0&&this.location.addScore("secret")},_inputs:function(){var t,e,i;Te.prototype._inputs.call(this),this.isAcceptingInputs&&(t=this._getIsJoypadButtonDown($t.UP),e=this._getIsJoypadButtonDown($t.RIGHT),this._getIsJoypadButtonDown($t.DOWN),this._getIsJoypadButtonDown($t.LEFT)?this._flipperLeft.downHandler():this._flipperLeft.upHandler(),e?this._flipperRight.downHandler():this._flipperRight.upHandler(),t?this._prevIsUp||.75<this._tiltPower&&(this.startSound("FlipperUp"),i=(Math.random()-.5)*this._tiltPower,this._tilt.tiltAmount.x=.65*i,i=(Math.random()+4)*this._tiltPower,this._tilt.tiltAmount.y=.65*i,this._tiltPower*=.8,this._tilt.downHandler(),this.setShake(this._tiltPower)):this._prevIsUp&&this._tilt.upHandler(),this._prevIsUp=t)},_ballLost:function(){this.startSound("BallLost"),this.location.setPinballTable(xe.TABLE_1),this._reset()},_getIsAllTargets:function(){return 0==this._getHitTargetCount()},_getHitTargetCount:function(){var t=0;return t+=this._target1.state?1:0,t+=this._target2.state?1:0,t+=this._target3.state?1:0,t+=this._target4.state?1:0,t+=this._target5.state?1:0,t+=this._target6.state?1:0,t+=this._target7.state?1:0,t+=this._target8.state?1:0,t+=this._target9.state?1:0,t+=this._target10.state?1:0,t+=this._target11.state?1:0,t+=this._target12.state?1:0,t+=this._target13.state?1:0,t+=this._target14.state?1:0,t+=this._target15.state?1:0},_reset:function(){this._wall.isEnabled=!0,this._wall.transparent=!1,this._wall.mc.set_visible(!0),this._target1.setState(!0),this._target2.setState(!0),this._target3.setState(!0),this._target4.setState(!0),this._target5.setState(!0),this._target6.setState(!0),this._target7.setState(!0),this._target8.setState(!0),this._target9.setState(!0),this._target10.setState(!0),this._target11.setState(!0),this._target12.setState(!0),this._target13.setState(!0),this._target14.setState(!0),this._target15.setState(!0),this._hideOut.releaseBall(),this.ball.position.x=544,this.ball.position.y=26,this.ball.velocity.x=-6,this.ball.velocity.y=1,this.ball.level=4,this.ball.contacts=new fi},__class__:Pe});var Me=function(t,e){he.call(this,t),this.type=e,this.data=this._getData(),this.width=this._getWidth(),this.height=this._getHeight(),this.isScrollEnforced=this._getIsScrollEnforced()};(e["b10rsp.game.PinballVo"]=Me).__name__="b10rsp.game.PinballVo",Me.__super__=he,Me.prototype=t(he.prototype,{_getData:function(){switch(this.type._hx_index){case 0:return'<Engine gravity="0,0.075" bounceFriction="0.4" slidingFriction="0"><Objects><Decal name="bg" classString="Decal" position="0,0" symbolID="bg1" /><Group classString="Group" name="targetGroup1" position="204,200"><Objects><Decal name="light1" classString="Light" position="-24,15" symbolID="light" /><FixedObject name="target1" classString="Target" position="-29.3989756713298,-1.01998889561583" symbolXScale="-100" symbolRotation="-1.83681443014923" rotation="-3.46782461613793" width="22" height="4" light="light1" switchSoundID="GAM_targetHit" /><Decal name="light2" classString="Light" position="3,6" symbolID="light" /><FixedObject name="target2" classString="Target" position="-2.88071966291912,-10.1795597906528" symbolXScale="-100" symbolRotation="-1.83681443014923" rotation="-3.46782461613793" width="22" height="4" light="light2" switchSoundID="GAM_targetHit" /><Decal name="light3" classString="Light" position="30,-3" symbolID="light" /><FixedObject name="target3" classString="Target" position="23.8541501553361,-19.3297912522579" symbolXScale="-100" symbolRotation="-1.83681443014923" rotation="-3.46782461613793" width="22" height="4" light="light3" switchSoundID="GAM_targetHit" /></Objects></Group><FixedObject name="centerPin" classString="Circle" position="304,819" useSymbol="true" symbolID="centerPin" fillColor="FF6633" radius="11" /><FixedObject classString="Rectangle" position="559,34.05" /><FixedObject classString="Ring" position="418.910583153348,160.109611231101" rotation="3.82663438499757" innerRadius="150" outerRadius="180" fillAngle="2.46056517946161" /><FixedObject classString="Ring" position="218.832505399568,294.492116630669" rotation="5.21818539761265" innerRadius="350" outerRadius="410" fillAngle="1.55072504039696" /><FixedObject classString="ConvexPolygon" position="175,25.05" points="118,27|32,44|-30,-30|94,-30" /><FixedObject classString="ConvexPolygon" position="68,67.05" points="133,6|28,90|-21,-65|79,-79" /><FixedObject classString="ConvexPolygon" position="-38.95,172.05" points="133,-10|76,86|23,-81|99,-143" /><FixedObject classString="ConvexPolygon" position="-79.95,318.05" points="88,117|61,55|81,-148|116,-61" /><Group classString="Group" name="border" position="150,300"><Objects><FixedObject classString="Rectangle" position="138,-315" fillColor="33CC" endLevel="10" width="636" height="30" /><FixedObject classString="Rectangle" position="-165,148" fillColor="33CC" endLevel="10" width="30" height="896" /><FixedObject classString="Rectangle" position="441,148" fillColor="33CC" endLevel="10" width="30" height="896" /><FixedObject classString="Rectangle" position="138,651" bounceFriction="1" slidingFriction="1" fillColor="33CC" endLevel="10" width="636" height="30" /></Objects></Group><Group classString="Tube" position="41,895" fillColor="6666" endLevel="1" rotation="3.14159265358979" width="35"><Segments><Segment type="0" left="true" right="true" len="400" radius="100" angle="0.785398163397448" /><Segment type="1" left="true" right="true" len="100" radius="-1000" angle="0.174532925199433" /><Segment type="1" left="true" right="true" len="100" radius="-300" angle="0.20943951023932" /><Segment type="1" left="true" right="true" len="100" radius="-300" angle="0.314159265358979" /><Segment type="1" left="true" right="true" len="100" radius="-300" angle="0.453785605518526" /><Segment type="1" left="false" right="true" len="100" radius="-195" angle="0.392699081698724" /><Segment type="1" left="false" right="false" len="300" radius="-195" angle="0.392699081698724" /><Segment type="1" left="true" right="true" len="100" radius="-200" angle="1.74532925199433" /><Segment type="0" left="true" right="true" len="100" radius="100" angle="0.785398163397448" /></Segments></Group><FixedObject classString="ConvexPolygon" position="112.5,473.220950323973" symbolXScale="-100" points="10.85,42.9|-40.05,61.1|-32.1,-110.55|11.05,-78.8" /><FixedObject name="hideOut" classString="HideOut" position="461,151" useSymbol="true" symbolID="jackpot" transparent="true" radius="2" holdSoundID="GAM_jackpot" releaseSoundID="GAM_jackpotRelease" releaseVelocity="5,20" /><FixedObject name="hole" classString="Ring" position="305,806" symbolXScale="382.012352817308" symbolYScale="382.012352817308" fillColor="FF0000" transparent="true" rotation="0.785398163397448" innerRadius="76.4024705634615" outerRadius="152.804941126923" fillAngle="1.5707963267949" /><FixedObject classString="Ring" position="393,131.072392135502" symbolXScale="558.027212477225" symbolYScale="558.027212477225" rotation="-2.50734000341505" innerRadius="111.605442495445" outerRadius="223.21088499089" fillAngle="1.87186562276392" /><FixedObject classString="ConvexPolygon" position="508.230561555076,484.220950323973" points="46.3,68.85|-3.35,39.15|75.2,-132.3|80.35,-28.8" /><Group classString="Group" name="right" position="300,747"><Objects><FixedObject name="targetOuter" classString="Rectangle" position="210.176849082147,-75.7079780463771" symbolXScale="140.617756808867" symbolYScale="140.617756808867" fillColor="A0B4D3" transparent="true" width="6.05394521704902" height="30.2697260852452" /><FixedObject name="targetInner" classString="Rectangle" position="166.844186910344,-76.2079780463771" symbolXScale="140.617756808867" symbolYScale="140.617756808867" fillColor="A0B4D3" transparent="true" width="6.05394521704902" height="30.2697260852452" /><Group classString="Group" position="145.1374058578,-58.2693661838388"><Objects><FixedObject classString="Ring" position="-5.63740585780039,-5.13063381616117" symbolXScale="140.617756808867" symbolYScale="140.617756808867" innerRadius="45" outerRadius="52" fillAngle="0.959931088596881" detectCorners="false" /><FixedObject classString="ConvexPolygon" position="-372.1374058578,-528.630633816161" symbolXScale="140.617756808867" symbolYScale="140.617756808867" border="5" points="416.7,543.9|416.7,454.7" /><FixedObject classString="ConvexPolygon" position="-424.8625941422,-584.569366183839" symbolXScale="140.617756808867" symbolYScale="140.617756808867" border="0" points="388.5,680|375.3,659.4|454,610|446.85,645" /><FixedObject classString="Ring" position="-5.63740585780039,12.7693661838388" symbolXScale="140.617756808867" symbolYScale="140.617756808867" innerRadius="45" outerRadius="55" fillAngle="1.22173047639603" detectCorners="false" /><FixedObject classString="ConvexPolygon" position="-405.5874058578,-595.230633816161" symbolXScale="140.617756808867" symbolYScale="140.617756808867" border="0" points="437.85,639.5|413.5,656|419.8,640.9|447.5,613.5" /></Objects></Group><Group classString="Group" name="lower" position="150,74"><Objects><Group classString="Group" name="door" position="55,-52"><Objects><FixedObject name="rect" classString="Rectangle" position="-1,12" useSymbol="true" symbolID="reboundDoor" symbolXScale="-100" fillColor="273F65" rotation="0.941592653589793" width="20.1798173901634" height="74.6653243436047" /><FixedObject name="ring" classString="Ring" position="-29,-41" symbolXScale="140.617756808867" symbolYScale="140.617756808867" fillColor="273F65" innerRadius="50" outerRadius="65" fillAngle="0.841592653589793" detectCorners="false" /></Objects></Group><FixedObject classString="PolyBumper" position="58.9094138058031,12.8679517137098" bounceFriction="0" symbolXScale="140.617756808867" symbolYScale="140.617756808867" border="5.62471027235469" points="10.8275672742828,0|-10.2650962470473,0" hitSegment="1" hitForce="10" hitSoundID="GAM_rescueLaunch" /><FixedObject classString="Rectangle" position="59.7297948023531,53.1552560782947" bounceFriction="0" symbolXScale="140.617756808867" symbolYScale="140.617756808867" width="40.3596347803269" height="80.7192695606537" /><FixedObject classString="ConvexPolygon" position="-377.623173901634,-653.003489534803" symbolXScale="140.617756808867" symbolYScale="140.617756808867" border="0" points="421.758183454415,731.518380393424|286.15,731.5|286.15,682.6|421.758183454415,608.421494313427" /></Objects></Group><FixedObject name="polyBumper4" classString="PolyBumper" position="112,-143" useSymbol="true" symbolID="polyBumperRight" border="6" points="30,85|-9,107|30,10" hitSegment="1" hitForce="12" hitSoundID="GAM_polyBumper" playSymbol="true" /><FixedObject classString="Rectangle" position="256,-50" width="60" height="400" /></Objects></Group><Group classString="Group" name="left" position="309.957326984358,746.979805615551"><Objects><FixedObject name="targetOuter" classString="Rectangle" position="-210.176849082147,-75.7079780463771" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" fillColor="A0B4D3" transparent="true" width="6.05394521704902" height="30.2697260852452" /><FixedObject name="targetInner" classString="Rectangle" position="-166.844186910344,-76.2079780463771" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" fillColor="A0B4D3" transparent="true" width="6.05394521704902" height="30.2697260852452" /><Group classString="Group" position="-145.1374058578,-58.2693661838388"><Objects><FixedObject classString="Ring" position="5.63740585780039,-5.13063381616117" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" rotation="2.18166156499291" innerRadius="45" outerRadius="52" fillAngle="0.959931088596881" detectCorners="false" /><FixedObject classString="ConvexPolygon" position="372.1374058578,-528.630633816161" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" border="5" points="-416.7,543.9|-416.7,454.7" /><FixedObject classString="ConvexPolygon" position="424.8625941422,-584.569366183839" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" border="0" points="-375.3,659.4|-388.5,680|-446.85,645|-454,610" /><FixedObject classString="Ring" position="5.63740585780039,12.7693661838388" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" rotation="1.91986217719376" innerRadius="45" outerRadius="55" fillAngle="1.22173047639603" detectCorners="false" /><FixedObject classString="ConvexPolygon" position="405.5874058578,-595.230633816161" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" border="0" points="-419.8,640.9|-413.5,656|-437.85,639.5|-447.5,613.5" /></Objects></Group><Group classString="Group" name="lower" position="-150,73.6"><Objects><Group classString="Group" name="door" position="-55,-52"><Objects><FixedObject name="rect" classString="Rectangle" position="0,12" useSymbol="true" symbolID="reboundDoor" fillColor="273F65" rotation="-0.941592653589793" width="20.1798173901634" height="74.6653243436047" /><FixedObject name="ring" classString="Ring" position="28,-42" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" fillColor="273F65" rotation="2.3" innerRadius="50" outerRadius="65" fillAngle="0.841592653589793" detectCorners="false" /></Objects></Group><FixedObject classString="PolyBumper" position="-58.9094138058031,12.8679517137098" bounceFriction="0" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" border="5.62471027235469" points="10.2650962470473,0|-10.8275672742828,0" hitSegment="1" hitForce="10" hitSoundID="GAM_rescueLaunch" /><FixedObject classString="Rectangle" position="-59.7297948023531,53.1552560782947" bounceFriction="0" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" width="40.3596347803269" height="80.7192695606537" /><FixedObject classString="ConvexPolygon" position="377.623173901634,-653.003489534803" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" border="0" points="-286.15,731.5|-421.758183454415,731.518380393424|-421.758183454415,608.421494313427|-286.15,682.6" /></Objects></Group><FixedObject name="polyBumper3" classString="PolyBumper" position="-112,-143" useSymbol="true" symbolID="polyBumperLeft" border="6" points="9,107|-30,85|-30,10" hitSegment="2" hitForce="10" hitSoundID="GAM_polyBumper" playSymbol="true" /><FixedObject classString="Rectangle" position="-234,-50" symbolXScale="-100" width="15" height="400" /></Objects></Group><Tilt name="tilt" classString="Tilt" tiltAmount="2,5" position="5.05,4.05" /><FixedObject classString="Ramp" position="398.870194384449,429.158639308855" rotation="0.561996019142174" endLevel="4" width="40" height="20" upperLevel="4" /><FixedObject classString="Ramp" position="143.029805615551,633.268250539957" endLevel="4" width="45" upperLevel="4" /><Group classString="Tube" position="394,438" symbolID="NaN" fillColor="CC6633" startLevel="4" endLevel="4" rotation="-2.61799387799149" width="35" wallWidth="5"><Segments><Segment type="0" left="true" right="true" len="300" radius="100" angle="0.785398163397448" /><Segment type="1" left="true" right="true" len="100" radius="100" angle="2.61799387799149" /><Segment type="1" left="true" right="true" len="100" radius="-250" angle="0.698131700797732" /><Segment type="1" left="true" right="true" len="100" radius="180" angle="2.18166156499291" /><Segment type="0" left="true" right="true" len="200" radius="100" angle="0.785398163397448" /><Segment type="1" left="true" right="true" len="100" radius="-150" angle="0.436332312998582" /><Segment type="0" left="true" right="true" len="70" radius="100" angle="0.785398163397448" /></Segments></Group><FixedObject classString="Ring" position="476,576" rotation="5.16460378957642" innerRadius="50" outerRadius="70" fillAngle="1.22173047639603" /><Group classString="Group" name="targetGroup3" position="260,350"><Objects><FixedObject name="target1" classString="Target" position="29.3431585768423,-2.07826673093508" symbolRotation="1.8007870239852" rotation="3.4317972099739" width="22" height="4" light="light1" switchSoundID="GAM_multiplierHit" /><Decal name="light1" classString="Light" position="24,15" symbolID="light" /><Decal name="light2" classString="Light" position="-3,6" symbolID="light" /><FixedObject name="target2" classString="Target" position="2.51218651240251,-10.2767165103795" symbolRotation="1.8007870239852" rotation="3.4317972099739" width="22" height="4" light="light2" switchSoundID="GAM_multiplierHit" /><Decal name="light3" classString="Light" position="-30,-2" symbolID="light" /><FixedObject name="target3" classString="Target" position="-24.5349223947638,-18.4580305713286" symbolRotation="1.8007870239852" rotation="3.4317972099739" width="22" height="4" light="light3" switchSoundID="GAM_multiplierHit" /></Objects></Group><FixedObject classString="ConvexPolygon" position="400.094060475162,155.411339092872" points="49,36|-30,10.05|-30,-30|-11.95,-73.05" /><FixedObject classString="ConvexPolygon" position="208.991360691144,155.411339092872" symbolXScale="-100" endLevel="1" points="30,10.05|-65,41.55|-10.1,-1.55|30,-30" /><FixedObject classString="Rectangle" position="222.133384338907,105.283762129287" symbolRotation="0.311101590891472" rotation="0.800840979001081" width="45" height="15" /><FixedObject classString="Ramp" position="222.100645636002,105.291385109787" symbolRotation="0.311101590891472" rotation="3.95849066170922" startLevel="1" endLevel="1" width="45" height="15" /><FixedObject classString="ConvexPolygon" position="219.325348442639,273.584954767647" symbolRotation="0.493267505304117" rotation="0.493267505304117" border="5" points="27.8,40.5|46.65,23.9|76.1,14.85|103.25,24.8" /><FixedObject classString="Ring" position="133.106171732281,576" symbolXScale="-100" rotation="-3.24474161238266" innerRadius="50" outerRadius="70" fillAngle="1.22173047639603" /><Group classString="Group" name="targetGroup2" position="402,200"><Objects><FixedObject name="target1" classString="Target" position="29.3989756713298,-1.01998889561583" symbolRotation="1.83681443014923" rotation="3.46782461613793" width="22" height="4" light="light1" switchSoundID="GAM_targetHit" /><Decal name="light1" classString="Light" position="24,15" symbolID="light" /><Decal name="light2" classString="Light" position="-3,6" symbolID="light" /><FixedObject name="target2" classString="Target" position="2.88071966291912,-10.1795597906528" symbolRotation="1.83681443014923" rotation="3.46782461613793" width="22" height="4" light="light2" switchSoundID="GAM_targetHit" /><Decal name="light3" classString="Light" position="-30,-3" symbolID="light" /><FixedObject name="target3" classString="Target" position="-23.8541501553361,-19.3297912522579" symbolRotation="1.83681443014923" rotation="3.46782461613793" width="22" height="4" light="light3" switchSoundID="GAM_targetHit" /></Objects></Group><FixedObject classString="Ring" position="249.132505399568,216.192116630669" rotation="6.18143261178832" innerRadius="200" outerRadius="215" fillAngle="1.17617738291898" /><FixedObject classString="Circle" position="407.57667386609,459.890172786177" radius="5" /><FixedObject classString="Circle" position="446.25,482.75" radius="5" /><Group classString="Group" name="targetGroup4" position="146.015624720257,444.952504019992"><Objects><FixedObject name="target1" classString="Target" position="-10.1559228578299,27.6079223915243" symbolXScale="-100" symbolRotation="-3.0897929428537" rotation="-4.7208031288424" width="22" height="4" light="light1" switchSoundID="GAM_targetHit" /><Decal name="light1" classString="Light" position="7,27" symbolID="light" /><Decal name="light2" classString="Light" position="7,-1" symbolID="light" /><FixedObject name="target2" classString="Target" position="-10.5699721435199,-0.444603410938425" symbolXScale="-100" symbolRotation="-3.0897929428537" rotation="-4.7208031288424" width="22" height="4" light="light2" switchSoundID="GAM_targetHit" /><Decal name="light3" classString="Light" position="7,-29" symbolID="light" /><FixedObject name="target3" classString="Target" position="-10.9074591146875,-28.6999763963424" symbolXScale="-100" symbolRotation="-3.0897929428537" rotation="-4.7208031288424" width="22" height="4" light="light3" switchSoundID="GAM_targetHit" /></Objects></Group><FixedObject classString="PolyBumper" position="443,133.05" bounceFriction="0" symbolXScale="-140.617756808867" symbolYScale="140.617756808867" rotation="2.32809468923524" border="5.62471027235469" points="10.2650962470473,0|-10.8275672742828,0" hitSegment="1" hitForce="10" hitSoundID="GAM_jackpotRejected" /><FixedObject classString="ConvexPolygon" position="456,156.05" points="-15,-40|-47,-10.95|-58.95,-69.05" /><Group classString="Group" name="lights" position="275,470"><Objects><Decal name="leftOuter" classString="Light" position="-175,202" symbolID="light" /><Decal name="leftInner" classString="Light" position="-132,202" symbolID="light" /><Decal name="rightInner" classString="Light" position="192,202" symbolID="light" /><Decal name="rightOuter" classString="Light" position="235,202" symbolID="light" /><Decal name="rampMission" classString="Light" position="102,1" symbolID="lightRampMission" /><Decal name="bumper1" classString="Light" position="33,-273" symbolID="lightBumper" symbolXScale="-100" symbolYScale="-100" /><Decal name="bumper3" classString="Light" position="-39,-193" symbolID="lightBumper" symbolYScale="-100" /><Decal name="bumper2" classString="Light" position="109,-182" symbolID="lightBumper" symbolXScale="-100" /><Decal name="bumper4" classString="Light" position="54,-27" symbolID="lightBumper" /><Decal name="plunger" classString="Light" position="-233,185" symbolID="lightLaunch" /><Decal name="entry" classString="Light" position="29,-327" symbolID="lightEntryGroup" /><Decal name="targetsJackpot" classString="Light" position="-82,-25" symbolID="lightTargetsJackpot" /></Objects></Group><Group classString="Group" name="entryGroup" position="304,130"><Objects><FixedObject classString="ConvexPolygon" position="10.4920626349888,28.9954103671706" border="5" points="-30,-3.6|-30,-30" /><FixedObject classString="ConvexPolygon" position="51.6842872570189,28.9954103671706" border="5" points="-30,-3.6|-30,-30" /><Decal name="light1" classString="Light" position="-41,13" symbolID="lightEntry" /><Decal name="light2" classString="Light" position="0,13" symbolID="lightEntry" /><Decal name="light3" classString="Light" position="41,13" symbolID="lightEntry" /><FixedObject name="target1" classString="Rectangle" position="-40.8000000000001,12.1" lineColor="CC3300" transparent="true" width="5" height="20" /><FixedObject name="target2" classString="Rectangle" position="0.392224622030181,12.1" lineColor="CC3300" transparent="true" width="5" height="20" /><FixedObject name="target3" classString="Rectangle" position="41.5844492440604,12.1" lineColor="CC3300" transparent="true" width="5" height="20" /></Objects></Group><FixedObject name="missionRampTarget" classString="Rectangle" position="425.5,35.05" fillColor="99CC00" lineColor="CC3300" transparent="true" startLevel="4" endLevel="4" width="20" height="20" /><MovableObject name="ball" classString="MovableObject" position="40,785" useSymbol="true" symbolID="ball" autoRender="true" radius="10" velocity="0,0" level="1" /><Decal name="fg" classString="Decal" position="0,0" symbolID="fg1" /><FixedObject name="polyBumper2" classString="PolyBumper" position="386,362" useSymbol="true" symbolID="polyBumperTop" border="6" points="-4,36|-30,30|46,-52" hitSegment="1" hitForce="10" hitSoundID="GAM_polyBumper" playSymbol="true" /><FixedObject name="bumper1" classString="CircleBumper" position="278,227" useSymbol="true" symbolID="bumper1" radius="25" hitThreshold="1" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject name="bumper2" classString="CircleBumper" position="353,257" useSymbol="true" symbolID="bumper2" radius="25" hitThreshold="1" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject name="bumper3" classString="CircleBumper" position="266,306" useSymbol="true" symbolID="bumper3" radius="25" hitThreshold="1" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject name="bumper4" classString="CircleBumper" position="360,411" useSymbol="true" symbolID="bumper4" radius="25" hitThreshold="1" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject name="flipperTop" classString="PinballFlipper" position="85,340" useSymbol="true" symbolID="flipperSmall" symbolYScale="-100" autoRender="false" fillColor="0" rotation="0.785398163397448" forceMultiplier="0.5" radius1="12" radius2="8" flatLength="65" startAngle="0.785398163397448" endAngle="0" keyCode="37" hitSoundID="GAM_bounce" upSoundID="GAM_flipperUp" downSoundID="GAM_flipperDown" /><FixedObject name="flipperRight" classString="PinballFlipper" position="398,777" useSymbol="true" symbolID="flipperRight" autoRender="false" fillColor="0" rotation="2.70526034059121" forceMultiplier="0.5" radius1="12" radius2="8" flatLength="75" startAngle="2.70526034059121" endAngle="3.57792496658838" keyCode="39" hitSoundID="GAM_bounce" upSoundID="GAM_flipperUp" downSoundID="GAM_flipperDown" /><FixedObject name="flipperLeft" classString="PinballFlipper" position="212,777" useSymbol="true" symbolID="flipperLeft" symbolYScale="-100" autoRender="false" fillColor="0" rotation="0.436332312998582" forceMultiplier="0.5" radius1="12" radius2="8" flatLength="75" startAngle="0.436332312998582" endAngle="-0.436332312998582" keyCode="37" hitSoundID="GAM_bounce" upSoundID="GAM_flipperUp" downSoundID="GAM_flipperDown" /><Group classString="Group" name="lightsUpper" position="333,326"><Objects><Decal name="targets2" classString="Light" position="73,-195" symbolID="lightTargetsGroupRight" /><Decal name="rampJackpot" classString="Light" position="121,96" symbolID="lightRampJackpot" /><Decal name="rampReentry" classString="Light" position="163,129" symbolID="lightReentry" /><Decal name="targets1" classString="Light" position="-137,-169" symbolID="lightTargetsGroupLeft" /></Objects></Group><Decal name="decalMask" classString="Decal" position="0,0" symbolID="maskedFg1" /><FixedObject name="plunger" classString="Plunger" position="40,850" bounceFriction="0.7" useSymbol="true" symbolID="plunger" endLevel="1" width="40" height="100" pullSpeed="12" pullAmount="90" randomFactor="1" hitSoundID="GAM_plungerRelease" keyCode="40" /><FixedObject name="missionRamp" classString="Circle" position="390,435" lineColor="CC3300" transparent="true" radius="25" /><FixedObject name="jackpotRamp" classString="Rectangle" position="447,435" lineColor="CC3300" transparent="true" width="30" height="30" /><FixedObject name="reentryRamp" classString="Rectangle" position="491,463" lineColor="CC3300" transparent="true" width="40" height="40" /><FixedObject classString="Ramp" position="40,610" rotation="3.14159265358979" width="40" height="20" /></Objects></Engine>';case 1:return'<Engine gravity="0,0.075" bounceFriction="0.4" slidingFriction="0"><Objects><Decal name="bg" classString="Decal" position="-10,0" symbolID="bg2" /><FixedObject name="hole" classString="Ring" position="280,470" symbolXScale="382.012352817308" symbolYScale="382.012352817308" fillColor="FF0000" transparent="true" rotation="0.698131700797732" innerRadius="200" outerRadius="270" fillAngle="1.74532925199433" /><Group classString="Group" position="514.5,509.5"><Objects><FixedObject classString="ConvexPolygon" position="-6.5,51.5" points="63,105|-63,104|-30,-30|3,-71|62,-40" /><FixedObject classString="ConvexPolygon" position="65.5,-59.5" points="-8,93|-60,34|-2,-97|4,-74" /><FixedObject classString="ConvexPolygon" position="0,-481" symbolYScale="-100" points="62,40|-53,15|-161,-37|68,-46" /><FixedObject classString="ConvexPolygon" position="71,-373" symbolYScale="-100" points="0,0|-44,0|-120,-92|-8,-93" /><FixedObject classString="ConvexPolygon" position="137.5,-281.5" symbolYScale="-100" points="-62,-14|-71,5|-111,-89|-68,-93" /></Objects></Group><Group classString="Tube" position="196,560.95" rotation="1.98967534727354" wallWidth="12"><Segments><Segment type="1" left="false" right="true" len="100" radius="-300" angle="0.872664625997165" /><Segment type="1" left="false" right="true" len="100" radius="-300" angle="0.279252680319093" /><Segment type="1" left="false" right="true" len="100" radius="-260" angle="3.14159265358979" /><Segment type="1" left="false" right="true" len="100" radius="-300" angle="0.279252680319093" /><Segment type="1" left="false" right="true" len="100" radius="-300" angle="0.872664625997165" /></Segments></Group><Group classString="Group" position="42.55,509.5"><Objects><FixedObject classString="ConvexPolygon" position="6.5,51.5" symbolXScale="-100" points="63,104|-63,105|-62,-40|-3,-71|30,-30" /><FixedObject classString="ConvexPolygon" position="-65.5,-59.5" symbolXScale="-100" points="60,34|8,93|-4,-74|2,-97" /><FixedObject classString="ConvexPolygon" position="0,-481" symbolXScale="-100" symbolYScale="-100" points="53,15|-62,40|-68,-46|161,-37" /><FixedObject classString="ConvexPolygon" position="-71,-373" symbolXScale="-100" symbolYScale="-100" points="44,0|0,0|8,-93|120,-92" /><FixedObject classString="ConvexPolygon" position="-137.5,-281.5" symbolXScale="-100" symbolYScale="-100" points="71,5|62,-14|68,-93|111,-89" /></Objects></Group><Group classString="Group" name="border" position="140,300"><Objects><FixedObject classString="Rectangle" position="138,-315" fillColor="CC" endLevel="10" width="636" height="30" /><FixedObject classString="Rectangle" position="-165,148" fillColor="CC" endLevel="10" width="30" height="896" /><FixedObject classString="Rectangle" position="441,148" fillColor="CC" endLevel="10" width="30" height="896" /><FixedObject classString="Rectangle" position="138,440" bounceFriction="1" slidingFriction="1" fillColor="CC" endLevel="10" width="636" height="30" /></Objects></Group><Tilt name="tilt" classString="Tilt" tiltAmount="2,5" position="-4.95,4.05" /><FixedObject classString="CircleBumper" position="280,362" useSymbol="true" symbolID="bumper5" radius="25" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject classString="CircleBumper" position="176,302" useSymbol="true" symbolID="bumper5" radius="25" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject classString="CircleBumper" position="176,183" useSymbol="true" symbolID="bumper5" radius="25" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject classString="CircleBumper" position="280,123" useSymbol="true" symbolID="bumper5" radius="25" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject classString="CircleBumper" position="383,183" useSymbol="true" symbolID="bumper5" radius="25" hitSoundID="GAM_bumper" playSymbol="true" /><FixedObject classString="CircleBumper" position="383,302" useSymbol="true" symbolID="bumper5" radius="25" hitSoundID="GAM_bumper" playSymbol="true" /><Group classString="Group" name="targets" position="113,196"><Objects><FixedObject name="target8" classString="Target" position="166.5,-170.5" fillColor="3366FF" width="30" height="30" light="light8" switchSoundID="GAM_sensorLaunch" /><FixedObject name="target9" classString="Target" position="232,-162" symbolXScale="-100" fillColor="3366FF" width="30" height="30" light="light9" switchSoundID="GAM_sensorLaunch" /><FixedObject name="target10" classString="Target" position="294,-137" symbolXScale="-100" fillColor="3366FF" width="30" height="30" light="light10" switchSoundID="GAM_sensorLaunch" /><FixedObject name="target11" classString="Target" position="351,-97" symbolXScale="-100" fillColor="3366FF" width="30" height="30" light="light11" switchSoundID="GAM_sensorLaunch" /><FixedObject name="target12" classString="Target" position="394,-39" symbolXScale="-100" fillColor="3366FF" width="30" height="30" light="light12" switchSoundID="GAM_sensorLaunch" /><FixedObject name="target13" classString="Target" position="422,27" symbolXScale="-100" fillColor="3366FF" width="30" height="30" light="light13" switchSoundID="GAM_sensorLaunch" /><FixedObject name="target14" classString="Target" position="429,91" symbolXScale="-100" fillColor="3366FF" width="30" height="30" light="light14" switchSoundID="GAM_sensorLaunch" /><FixedObject name="target1" classString="Target" position="-90.5,161.5" fillColor="3366FF" width="30" height="30" light="light1" switchSoundID="GAM_sensorLaunch" /><Decal name="light1" classString="Light" position="-91,162" symbolID="lightFirewall" symbolRotation="1.04196416375917" /><FixedObject name="target2" classString="Target" position="-98.5,91.5" fillColor="3366FF" width="30" height="30" light="light2" switchSoundID="GAM_sensorLaunch" /><Decal name="light2" classString="Light" position="-99,93" symbolID="lightFirewall" symbolRotation="1.04196416375917" /><FixedObject name="target3" classString="Target" position="-91.5,27.5" fillColor="3366FF" width="30" height="30" light="light3" switchSoundID="GAM_sensorLaunch" /><Decal name="light3" classString="Light" position="-92,29" symbolID="lightFirewall" symbolRotation="1.04196416375917" /><FixedObject name="target4" classString="Target" position="-63.5,-38.5" fillColor="3366FF" width="30" height="30" light="light4" switchSoundID="GAM_sensorLaunch" /><Decal name="light4" classString="Light" position="-64,-38" symbolID="lightFirewall" symbolRotation="1.04196416375917" /><FixedObject name="target5" classString="Target" position="-20.5,-96.5" fillColor="3366FF" width="30" height="30" light="light5" switchSoundID="GAM_sensorLaunch" /><Decal name="light5" classString="Light" position="-21,-96" symbolID="lightFirewall" symbolRotation="1.04196416375917" /><FixedObject name="target6" classString="Target" position="36.5,-136.5" fillColor="3366FF" width="30" height="30" light="light6" switchSoundID="GAM_sensorLaunch" /><Decal name="light6" classString="Light" position="37,-136" symbolID="lightFirewall" symbolRotation="1.04196416375917" /><FixedObject name="target7" classString="Target" position="98.5,-161.5" fillColor="3366FF" width="30" height="30" light="light7" switchSoundID="GAM_sensorLaunch" /><Decal name="light7" classString="Light" position="99,-161" symbolID="lightFirewall" symbolRotation="1.04196416375917" /><FixedObject name="target15" classString="Target" position="421,161" symbolXScale="-100" fillColor="3366FF" width="30" height="30" light="light15" switchSoundID="GAM_sensorLaunch" /><Decal name="light15" classString="Light" position="421,161" symbolID="lightFirewall" symbolRotation="-1.04196416375917" /><Decal name="light10" classString="Light" position="294,-137" symbolID="lightFirewall" symbolRotation="-1.04196416375917" /><Decal name="light11" classString="Light" position="351,-97" symbolID="lightFirewall" symbolRotation="-1.04196416375917" /><Decal name="light14" classString="Light" position="429,91" symbolID="lightFirewall" symbolRotation="-1.04196416375917" /><Decal name="light12" classString="Light" position="394,-39" symbolID="lightFirewall" symbolRotation="-1.04196416375917" /><Decal name="light13" classString="Light" position="422,27" symbolID="lightFirewall" symbolRotation="-1.04196416375917" /><Decal name="light9" classString="Light" position="232,-161" symbolID="lightFirewall" symbolRotation="-1.04196416375917" /><Decal name="light8" classString="Light" position="167,-171" symbolID="lightFirewall" symbolRotation="1.04196416375917" /></Objects></Group><FixedObject classString="Ramp" position="88,483" startLevel="4" endLevel="4" width="35" upperLevel="4" /><FixedObject name="hideOut" classString="HideOut" position="280,242" transparent="true" radius="2" holdSoundID="INT_error" releaseVelocity="0,0" /><FixedObject name="wall" classString="Ring" position="280,242" useSymbol="true" symbolID="firewall" innerRadius="40" outerRadius="80" fillAngle="5.846852994181" /><Group classString="Tube" position="87.75,489" fillColor="FF3366" startLevel="4" endLevel="4" rotation="3.14159265358979" width="35" wallWidth="5"><Segments><Segment type="0" left="true" right="true" len="20" radius="100" angle="0.785398163397448" /><Segment type="1" left="true" right="true" len="100" radius="-50" angle="1.22173047639603" /><Segment type="1" left="true" right="true" len="100" radius="-275" angle="0.785398163397448" /><Segment type="1" left="true" right="true" len="100" radius="80" angle="2.79252680319093" /><Segment type="1" left="true" right="true" len="100" radius="-150" angle="1.5707963267949" /><Segment type="1" left="true" right="true" len="100" radius="-250" angle="0.698131700797732" /></Segments></Group><Decal name="lightJackpot" classString="Light" position="280,243" symbolXScale="40" symbolYScale="40" symbolRotation="1.04196416375917" /><Decal name="lightEntry" classString="Light" position="510,34" symbolXScale="40" symbolYScale="40" symbolRotation="1.04196416375917" /><MovableObject name="ball" classString="MovableObject" position="544,26" useSymbol="true" symbolID="ball" radius="11" velocity="-6,1" level="4" /><Decal name="fg" classString="Decal" position="-10,0" symbolID="fg2" /><FixedObject name="flipperRight" classString="PinballFlipper" position="371,597" useSymbol="true" symbolID="flipperRight" symbolRotation="5.93411945678072" fillColor="0" rotation="2.70526034059121" forceMultiplier="0.5" radius1="12" radius2="8" flatLength="75" startAngle="2.70526034059121" endAngle="3.57792496658838" keyCode="39" hitSoundID="GAM_bounce" upSoundID="GAM_flipperUp" downSoundID="GAM_flipperDown" /><FixedObject name="flipperLeft" classString="PinballFlipper" position="185,597" useSymbol="true" symbolID="flipperLeft" symbolRotation="0.349065850398866" fillColor="0" rotation="0.436332312998582" forceMultiplier="0.5" radius1="12" radius2="8" flatLength="75" startAngle="0.436332312998582" endAngle="-0.436332312998582" keyCode="37" hitSoundID="GAM_bounce" upSoundID="GAM_flipperUp" downSoundID="GAM_flipperDown" /></Objects></Engine>'}},_getWidth:function(){switch(this.type._hx_index){case 0:return 576;case 1:return 566}},_getHeight:function(){switch(this.type._hx_index){case 0:return 896;case 1:return 670}},_getIsScrollEnforced:function(){switch(this.type._hx_index){case 0:return!1;case 1:return!0}},__class__:Me});var ke=function(t,e){he.call(this,t),this.type=e,this.framerate=this._getFramerate(),this.image=this._getImage(),this.width=this._getWidth(),this.height=this._getHeight(),this.frames=this._getFrames();var i=this._getReg();this.regX=i.x,this.regY=i.y,this.rotation=this._getRotation()};(e["b10rsp.game.SymbolVo"]=ke).__name__="b10rsp.game.SymbolVo",ke.__super__=he,ke.prototype=t(he.prototype,{_getFramerate:function(){this.type;return this._factory.targetFramerate/2},_getImage:function(){var t;switch(this.type._hx_index){case 0:t="assets/game/Ball.png";break;case 1:t="assets/game/Bg1_0.jpg";break;case 2:t="assets/game/Bg2_0.jpg";break;case 3:t="assets/game/Bumper1.png";break;case 4:t="assets/game/Bumper2.png";break;case 5:t="assets/game/Bumper3.png";break;case 6:t="assets/game/Bumper4.png";break;case 7:t="assets/game/Bumper5.png";break;case 8:t="assets/game/CenterPin.png";break;case 9:t="assets/game/Fg1.png";break;case 10:t="assets/game/Fg2.png";break;case 11:t="assets/game/Firewall.png";break;case 12:t="assets/game/FlipperLeft.png";break;case 13:t="assets/game/FlipperRight.png";break;case 14:t="assets/game/FlipperSmall.png";break;case 15:t="assets/game/Jackpot.png";break;case 16:t="assets/game/Light.png";break;case 17:t="assets/game/LightBumper.png";break;case 18:t="assets/game/LightEntry.png";break;case 19:t="assets/game/LightEntryGroup.png";break;case 20:t="assets/game/LightFirewall.png";break;case 21:t="assets/game/LightLaunch.png";break;case 22:t="assets/game/LightRampJackpot.png";break;case 23:t="assets/game/LightRampMission.png";break;case 24:t="assets/game/LightReentry.png";break;case 25:t="assets/game/LightTargetsGroupLeft.png";break;case 26:t="assets/game/LightTargetsGroupRight.png";break;case 27:t="assets/game/LightTargetsJackpot.png";break;case 28:t=null;break;case 29:t="assets/game/Plunger.png";break;case 30:t="assets/game/PolyBumperLeft.png";break;case 31:t="assets/game/PolyBumperRight.png";break;case 32:t="assets/game/PolyBumperTop.png";break;case 33:t="assets/game/ReboundDoor.png"}return t},_getWidth:function(){switch(this.type._hx_index){case 0:return 26;case 1:case 2:return null;case 3:case 4:case 5:case 6:case 7:return 100;case 8:return 32;case 9:case 10:return null;case 11:return 170;case 12:case 13:case 14:return 120;case 15:return 80;case 16:return 30;case 17:return 40;case 18:return 30;case 19:return 120;case 20:return 30;case 21:case 22:return 50;case 23:return 80;case 24:case 25:return 50;case 26:return 100;case 27:return 60;case 28:return null;case 29:return 50;case 30:case 31:case 32:return 100;case 33:return 50}},_getHeight:function(){switch(this.type._hx_index){case 12:case 13:return 100;case 19:return 80;case 21:return 100;case 29:return 120;case 30:case 31:case 32:return 140;case 33:return 100;default:return this.width}},_getFrames:function(){switch(this.type._hx_index){case 3:case 4:case 5:case 6:case 7:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 30:case 31:case 32:return 5;default:return 1}},_getReg:function(){switch(this.type._hx_index){case 12:case 13:return{x:29,y:36};case 14:return{x:40,y:40};case 29:return{x:25,y:50};case 30:case 31:return{x:55,y:10};case 32:return{x:45,y:85};case 33:return{x:30,y:45};default:return{x:Math.round(this.width/2),y:Math.round(this.height/2)}}},_getRotation:function(){switch(this.type._hx_index){case 12:case 13:return-26;case 14:return-45;default:return 0}},_createSpriteSheet:function(){return new createjs.SpriteSheet({framerate:this.framerate,images:[this._assets.getAsset(this.image)],frames:{width:this.width,height:this.height,count:this.frames,regX:this.regX,regY:this.regY},animations:{idle:[0],run:[0,this.frames],bumper:[1,this.frames-1,"idle"],on:[0,0,!1],off:[1,this.frames-1,"off"]}})},_createSprite:function(){switch(this.type._hx_index){case 0:return new Oe;case 1:return new De;default:return null}},createDisplayObject:function(){var t=this._createSprite();return null!=t?t:null==this.image?new createjs.DisplayObject:(this.frames<=1?((t=new createjs.Bitmap(this._assets.getAsset(this.image))).regX=this.regX,t.regY=this.regY):t=new createjs.Sprite(this._createSpriteSheet(),"idle"),t.rotation=this.rotation,t.name=M.string(this.type),t.isSymbol=!0,t.snapToPixel=!0,t)},__class__:ke});var Oe=function(){createjs.Container.call(this),this.name=M.string(Ee.BALL),this.isSymbol=!0,this.addChild(this._bitmap10=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap9=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap8=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap7=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap6=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap5=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap4=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap3=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap2=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this.addChild(this._bitmap1=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Ball.png"))),this._bitmap1.isSymbol=!0,this._bitmap2.isSymbol=!0,this._bitmap3.isSymbol=!0,this._bitmap4.isSymbol=!0,this._bitmap5.isSymbol=!0,this._bitmap6.isSymbol=!0,this._bitmap7.isSymbol=!0,this._bitmap8.isSymbol=!0,this._bitmap9.isSymbol=!0,this._bitmap10.isSymbol=!0,this._bitmap2.compositeOperation=this._bitmap3.compositeOperation=this._bitmap4.compositeOperation=this._bitmap5.compositeOperation=this._bitmap6.compositeOperation=this._bitmap7.compositeOperation=this._bitmap8.compositeOperation=this._bitmap9.compositeOperation=this._bitmap10.compositeOperation="lighter",this._bitmap1.x=-13,this._bitmap1.y=-13,this.blur(0,0,0,0,0)};(e["b10rsp.game.symbols.Ball"]=Oe).__name__="b10rsp.game.symbols.Ball",Oe.__super__=createjs.Container,Oe.prototype=t(createjs.Container.prototype,{blur:function(t,e,i,s,n){this._bitmap2.alpha=.5*t,this._bitmap3.alpha=.45*t,this._bitmap4.alpha=.4*t,this._bitmap5.alpha=.35*t,this._bitmap6.alpha=.3*t,this._bitmap7.alpha=.25*t,this._bitmap8.alpha=.2*t,this._bitmap9.alpha=.15*t,this._bitmap10.alpha=.1*t;var r=Math.max(Math.min(-s/10,20),-20),o=Math.max(Math.min(-n/10,20),-20);this._bitmap2.x=2*r-13,this._bitmap2.y=2*o-13,this._bitmap3.x=3*r-13,this._bitmap3.y=3*o-13,this._bitmap4.x=4*r-13,this._bitmap4.y=4*o-13,this._bitmap5.x=5*r-13,this._bitmap5.y=5*o-13,this._bitmap6.x=6*r-13,this._bitmap6.y=6*o-13,this._bitmap7.x=7*r-13,this._bitmap7.y=7*o-13,this._bitmap8.x=8*r-13,this._bitmap8.y=8*o-13,this._bitmap9.x=9*r-13,this._bitmap9.y=9*o-13,this._bitmap10.x=10*r-13,this._bitmap10.y=10*o-13},__class__:Oe});var De=function(){createjs.Container.call(this),this.name=M.string(Ee.BG_1),this.isSymbol=!0,this.addChild(this._bitmapDormant=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Bg1_0.jpg"))),this.addChild(this._bitmapMission1=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Bg1_1.jpg"))),this.addChild(this._bitmapMission2=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Bg1_2.jpg"))),this.addChild(this._bitmapMission3=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Bg1_3.jpg"))),this.addChild(this._bitmapMission4=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Bg1_4.jpg"))),this.addChild(this._bitmapOver=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Bg1.png"))),this.addChild(this._bgFg=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Bg1_fg.png"))),this.addChild(this._fg1=new createjs.Bitmap(Mt.loadQueue.getResult("assets/game/Fg1.png"))),this._bitmapDormant.isSymbol=!0,this._bitmapMission1.isSymbol=!0,this._bitmapMission2.isSymbol=!0,this._bitmapMission3.isSymbol=!0,this._bitmapMission4.isSymbol=!0,this._bitmapOver.isSymbol=!0,this._bgFg.isSymbol=!0,this._fg1.isSymbol=!0,this.cache(0,0,576,896)};(e["b10rsp.game.symbols.Bg1"]=De).__name__="b10rsp.game.symbols.Bg1",De.__super__=createjs.Container,De.prototype=t(createjs.Container.prototype,{setMission:function(t){if(this._prevMission!=t){switch(this._prevMission=t,this._bitmapDormant.visible=!1,this._bitmapMission1.visible=!1,this._bitmapMission2.visible=!1,this._bitmapMission3.visible=!1,this._bitmapMission4.visible=!1,t._hx_index){case 1:this._bitmapMission1.visible=!0;break;case 2:this._bitmapMission2.visible=!0;break;case 3:this._bitmapMission3.visible=!0;break;case 4:this._bitmapMission4.visible=!0;break;default:this._bitmapDormant.visible=!0}this.updateCache()}},setIsUpper:function(t){this._fg1.visible!=t&&(this._fg1.visible=t,this.updateCache())},__class__:De});function Be(t,e,i,s){null==s&&(s=!1),null==i&&(i=100),null==e&&(e=100),this._assets=cs.__cast(t.assets,_e),this._factory=cs.__cast(t.factory,ce),this._session=cs.__cast(t.get_session(),fe),Vt.call(this,t,e,i,s)}(e["b10rsp.gui.AGuiEntity"]=Be).__name__="b10rsp.gui.AGuiEntity",Be.__super__=Vt,Be.prototype=t(Vt.prototype,{__class__:Be});function Re(t,e,i){null==i&&(i=0),null==e&&(e=0),this._session=t.get_session();var s=new Xt(t),n=new Xt(t);S.call(this,t,s,n,250,100,e,i,null,Ms(_=this._session.sponsor,_.onBrandingClick))}(e["b10rsp.gui.BrandingButton"]=Re).__name__="b10rsp.gui.BrandingButton",Re.__super__=S,Re.prototype=t(S.prototype,{_init:function(){S.prototype._init.call(this);var t=window.document.createElement("img");t.crossOrigin="anonymous",t.src=this._session.sponsor.getBrandingUrl();var e=new createjs.Bitmap(t);this.get_view().context.addChild(e)},__class__:Re});function Le(t,e,i,s){null==e&&(e=1),this._scale=e,Be.call(this,t,192,192,!1),this.setPosition(0|i,0|s)}(e["b10rsp.gui.Burst"]=Le).__name__="b10rsp.gui.Burst",Le.__super__=Be,Le.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this);var t=this._scale,e=Math.random()<.5?-1:1;this._context.scaleX=t*e;t=this._scale,e=Math.random()<.5?-1:1;this._context.scaleY=t*e,this._context.compositeOperation="lighter",this._context.mouseEnabled=!1,this._context.mouseChildren=!1,this._sprite=new createjs.Sprite(this._createSpriteSheet(),0),this._context.addChild(this._sprite),this._drop=0},_updater:function(t){null==t&&(t=0),Be.prototype._updater.call(this,t),this._sprite.gotoAndStop(this._updates-1),16<=this._updates&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())),this._drop+=Math.random(),this._context.y+=this._drop},_createSpriteSheet:function(){return new createjs.SpriteSheet({framerate:this._factory.targetFramerate,images:[this._assets.getAsset("assets/gui/Burst.jpg")],frames:{width:192,height:192,count:16,regX:96,regY:96}})},__class__:Le});function Fe(t,e,i,s,n,r,o,a,l){null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),this._kernel=t,this._isWobbling=i,S.call(this,t,this._createView(e,!1),this._createView(e,!0),this._getSize(e),this._getSize(e),s,n,r,o,a,l)}(e["b10rsp.gui.Button"]=Fe).__name__="b10rsp.gui.Button",Fe.__super__=S,Fe.prototype=t(S.prototype,{_createView:function(t,e){null==e&&(e=!1);var i=new createjs.Container;return i.addChild(new createjs.Bitmap(this._kernel.assets.getAsset(this._getUrl(t,e)))),new Kt(this._kernel,i)},_getUrl:function(t,e){switch(null==e&&(e=!1),t._hx_index){case 0:return e?"assets/overlay/ButtonAudioOver.png":"assets/overlay/ButtonAudioUp.png";case 1:return e?"assets/overlay/ButtonFacebookOver.png":"assets/overlay/ButtonFacebookUp.png";case 2:return e?"assets/overlay/ButtonFullscreenOver.png":"assets/overlay/ButtonFullscreenUp.png";case 3:return e?"assets/overlay/ButtonInstructionsOver.png":"assets/overlay/ButtonInstructionsUp.png";case 4:return e?"assets/overlay/ButtonLeaderboardOver.png":"assets/overlay/ButtonLeaderboardUp.png";case 5:return e?"assets/overlay/ButtonMenuOver.png":"assets/overlay/ButtonMenuUp.png";case 6:return e?"assets/overlay/ButtonNextOver.png":"assets/overlay/ButtonNextUp.png";case 7:return e?"assets/overlay/ButtonPreviousOver.png":"assets/overlay/ButtonPreviousUp.png";case 8:return e?"assets/overlay/ButtonRestartOver.png":"assets/overlay/ButtonRestartUp.png";case 9:return e?"assets/overlay/ButtonStartOver.png":"assets/overlay/ButtonStartUp.png";case 10:return e?"assets/overlay/ButtonTwitterOver.png":"assets/overlay/ButtonTwitterUp.png";case 11:return e?"assets/overlay/ButtonWebsiteOver.png":"assets/overlay/ButtonWebsiteUp.png"}},_getSize:function(t){switch(t._hx_index){case 8:case 9:return 110;default:return 70}},_init:function(){S.prototype._init.call(this),this._scale=0,this.bounce=1},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t);var e=Math.sin(this._age/100)*(1.05-this.bounce)*.25,i=this.bounce*=.8,s=this._isWobbling?.125:0;this.bounce=1<i?1:i<s?s:i,this.isOver&&(this.bounce=1,e+=.1);var n=this.bounce;this._scale=0*(1-n)+e*n;var r=this.get_view()._container;r.x=r.regX=.5*this.width|0,r.y=r.regY=.5*this.height|0,r.scaleX=r.scaleY=1+this._scale},onRollOver:function(){S.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",qt.INTERFACE,0,0,1)},__class__:Fe});function je(t,e,i,s,n,r,o,a){null==s&&(s=0),null==i&&(i=0),null==e&&(e=""),this._title=e.toUpperCase(),this._assets=t.assets,S.call(this,t,this._assets.get_buttonTextUp(),this._assets.get_buttonTextOver(),150,45,i,s,n,r,o,a)}(e["b10rsp.gui.ButtonText"]=je).__name__="b10rsp.gui.ButtonText",je.__super__=S,je.prototype=t(S.prototype,{_init:function(){S.prototype._init.call(this),this._scale=0,this.bounce=1;var t=this._kernel.factory.createTextStyle(le.BUTTON);this._textUp=new ze(this._kernel,140,30,this._title,t),this._textOver=new ze(this._kernel,140,30,this._title,t),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(14)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},_updater:function(t){null==t&&(t=0),S.prototype._updater.call(this,t);var e=Math.sin(this._age/100)*(1.05-this.bounce)*.25,i=this.bounce*=.8;this.bounce=1<i?1:i<0?0:i,this.isOver&&(this.bounce=1,e+=.1);var s=this.bounce;this._scale=0*(1-s)+e*s;var n=this.get_view()._container;n.x=n.regX=.5*this.width|0,n.y=n.regY=.5*this.height|0,n.scaleX=n.scaleY=1+this._scale},__class__:je});function Ue(t){Be.call(this,t,205,85,!1)}var Ne=E["b10rsp.gui.EButton"]={__ename__:"b10rsp.gui.EButton",__constructs__:["AUDIO","FACEBOOK","FULLSCREEN","INSTRUCTIONS","LEADERBOARD","MENU","NEXT","PREVIOUS","RESTART","START","TWITTER","WEBSITE"],AUDIO:{_hx_index:0,__enum__:"b10rsp.gui.EButton",toString:i},FACEBOOK:{_hx_index:1,__enum__:"b10rsp.gui.EButton",toString:i},FULLSCREEN:{_hx_index:2,__enum__:"b10rsp.gui.EButton",toString:i},INSTRUCTIONS:{_hx_index:3,__enum__:"b10rsp.gui.EButton",toString:i},LEADERBOARD:{_hx_index:4,__enum__:"b10rsp.gui.EButton",toString:i},MENU:{_hx_index:5,__enum__:"b10rsp.gui.EButton",toString:i},NEXT:{_hx_index:6,__enum__:"b10rsp.gui.EButton",toString:i},PREVIOUS:{_hx_index:7,__enum__:"b10rsp.gui.EButton",toString:i},RESTART:{_hx_index:8,__enum__:"b10rsp.gui.EButton",toString:i},START:{_hx_index:9,__enum__:"b10rsp.gui.EButton",toString:i},TWITTER:{_hx_index:10,__enum__:"b10rsp.gui.EButton",toString:i},WEBSITE:{_hx_index:11,__enum__:"b10rsp.gui.EButton",toString:i}};(e["b10rsp.gui.Hud"]=Ue).__name__="b10rsp.gui.Hud",Ue.__super__=Be,Ue.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._scoreActual=this._scoreDisplay=0,this._multiplierActual=0,this._livesActual=0,this.addEntity(this._panel=new Be(this._kernel),null,!0,1),this._panel.set_y(-100);var t=new Ge(this._kernel,this._assets.getAsset("assets/gui/Hud.png"));this._panel.addEntity(t,null,!0,9),this._panel.addEntity(this._scoreValue=new ze(this._kernel,100,40,"",this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_SCORE)),null,!0,10),this._scoreValue.setPosition(84,34),this._panel.addEntity(this._multiplierValue=new ze(this._kernel,20,20,"",this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_MULTIPLIER)),null,!0,10),this._multiplierValue.setPosition(30,30);var e=new createjs.SpriteSheet({images:[this._assets.getAsset("assets/gui/HudLives.png")],frames:{width:100,height:15,count:7}});t._context.addChild(this._lives=new createjs.Sprite(e,2)),this._lives.x=85,this._lives.y=20,this.configureScore(this._scoreDisplay),this.configureMultiplier(1),this.configureLives(3),this._helpOverlay=new Ge(this._kernel,this._assets.getAsset(this._kernel.system.isDesktop?"assets/gui/InstructionsPage1A.png":"assets/gui/InstructionsPage1B.png"),null,0),this._helpOverlay.set_y(50),this.addEntity(this._helpOverlay,null,!0,1),this._isHelpOverlayVisible=!1},_updater:function(t){var e,i,s;null==t&&(t=0),Be.prototype._updater.call(this,t),this.get_view().isVisible&&(this._scoreDisplay=Math.round(.5*this._scoreDisplay+.5*this._scoreActual),this._scoreValue.set_text(M.string(this._scoreDisplay)),e=this._helpOverlay,this._tools,i=this._helpOverlay.get_alpha(),s=this._isHelpOverlayVisible?.1:.5,e.set_alpha(i*(1-s)+(this._isHelpOverlayVisible?1:0)*s),this._helpOverlay.get_view().set_isVisible(.1<this._helpOverlay.get_alpha()))},configureScore:function(t){var e=this;0==this._scoreActual&&0<t&&null==this._panelTweezer&&this.addEntity(this._panelTweezer=new ys(this._kernel,function(t){e._panel.set_y(t)},-100,0,0,2e3,null,gs.EASE_OUT,fs.ELASTIC())),this._scoreActual=t},configureMultiplier:function(t){var e;t!=this._multiplierActual&&(this._multiplierActual=t,this._multiplierValue.set_text(M.string("x"+t)),1<this._multiplierActual&&(e=new Le(this._kernel,t/8+.5,this._multiplierValue.x+this._multiplierValue.width/2,this._multiplierValue.y+this._multiplierValue.height/2),this.addEntity(e,null,!0,100)))},configureLives:function(t){t!=this._livesActual&&(this._livesActual=t,this._lives.gotoAndStop(this._livesActual))},configureHelpOverlay:function(t){this._isHelpOverlayVisible=t},__class__:Ue});var Ge=function(t,e,i,s){null==s&&(s=1),null==i&&(i=!1),this._imageElement=e,this._isAdd=i,Be.call(this,t,null,null,!1),this.set_alpha(s)};(e["b10rsp.gui.Image"]=Ge).__name__="b10rsp.gui.Image",Ge.__super__=Be,Ge.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._imageElement),this._context.addChild(this._bitmap),this._bitmap.compositeOperation=this._isAdd?"lighter":"source-over"},configure:function(t,e){null==e&&(e=!1),this._isAdd=e,this._bitmap.image=t,this._bitmap.compositeOperation=this._isAdd?"lighter":"source-over"},get_alpha:function(){return this._bitmap.alpha},set_alpha:function(t){return this._bitmap.alpha=t},__class__:Ge,__properties__:t(Be.prototype.__properties__,{set_alpha:"set_alpha",get_alpha:"get_alpha"})});function He(t){Be.call(this,t,450,200,!1)}(e["b10rsp.gui.Logo"]=He).__name__="b10rsp.gui.Logo",He.__super__=Be,He.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this.addEntity(this._container=new Be(this._kernel,null,null,!1),null,!0,1),this._container.addEntity(this._image=new Ge(this._kernel,this._assets.getAsset("assets/gui/Logo.png")),null,!0,1),this._container.addEntity(this._shine=new Xe(this._kernel,this._assets.getAsset("assets/gui/LogoShine.png"),2),null,!0,2)},_updater:function(t){null==t&&(t=0),Be.prototype._updater.call(this,t),this._container.set_x(8*Math.sin(this._age/1e3)),this._container.set_y(5*Math.sin(this._age/600)+75),Math.random()<.125&&this._createBurst(.5*Math.random()+.5,.2*this.width+Math.random()*this.width*.6,.2*this.height+Math.random()*this.height*.6)},_createBurst:function(t,e,i){var s=new Le(this._kernel,t,e,i);return this.addEntity(s,null,!0,100),s},__class__:He});var Ke=function(t){this._assetManager=cs.__cast(t.assets,_e),this._buttonSize=50,Ft.call(this,t,this._buttonSize,this._buttonSize,null,null,null,null,null,null,null,this._assetManager.overlayPauseUp,this._assetManager.overlayPauseOver,null,null,4,0,.75)};(e["b10rsp.gui.Overlay"]=Ke).__name__="b10rsp.gui.Overlay",Ke.__super__=Ft,Ke.prototype=t(Ft.prototype,{_init:function(){Ft.prototype._init.call(this);var t=this._kernel.factory.width-this._buttonSize-10;this.positionButton(re.PAUSE,t,10),this.positionButton(re.UNPAUSE,this._buttonSize,10),this.positionButton(re.BACK,-this._buttonSize,10),this.positionButton(re.MUTE,-this._buttonSize,10),this.positionButton(re.UNMUTE,-this._buttonSize,10),this._flashView.set_isVisible(!0),this._pauseMenu=new Ve(this._kernel),this.set_pauseEntity(this._pauseMenu)},flash:function(t,e,i,s){null==s&&(s=16777215),null==i&&(i=1),null==e&&(e=!0),this._flashContext.compositeOperation=0==s?"source-over":"lighter",Ft.prototype.flash.call(this,t,e,i,s)},_drawPause:function(t){null==t&&(t=!0),Ft.prototype._drawPause.call(this,t),this._pauseMenu.pauseHandler(t)},__class__:Ke});var Ve=function(t){Jt.call(this,t)};(e["b10rsp.gui.PauseMenu"]=Ve).__name__="b10rsp.gui.PauseMenu",Ve.__super__=Jt,Ve.prototype=t(Jt.prototype,{_init:function(){var t=this;Jt.prototype._init.call(this),this.addEntity(this._debugText=new ze(this._kernel,this._factory.width-20,20,"",this._factory.createTextStyle(le.SMALLPRINT),!0,!1,.25),null,!0,2),this._debugText.setPosition(10,10),this._logo=new Ge(this._kernel,this._assets.getAsset("assets/gui/PauseBg.png")),this._session.sponsor.getIsBrandingEnabled()?this.addEntity(new Re(this._kernel,40,360),null,!0,0):this.addEntity(this._logo,null,!0,0);var e=this._kernel.factory.width/2,i=this._kernel.factory.height/2;this.addEntity(new Fe(this._kernel,Ne.START,!0,e-55,i-120,null,function(){t._kernel.overlay.activateButton(re.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(new Fe(this._kernel,Ne.AUDIO,null,e-70-30-10,i,null,function(){t._kernel.overlay._wasMute=!t._kernel.overlay._wasMute,t._kernel.overlay.activateButton(re.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(new Fe(this._kernel,Ne.MENU,null,40+e,i,null,function(){t._kernel.overlay.activateButton(re.UNPAUSE),t._kernel.scenes.back()}),Qt.DEFEND,!0,1),this.addEntity(new Fe(this._kernel,Ne.INSTRUCTIONS,null,40+e,i,null,function(){t._kernel.overlay.activateButton(re.UNPAUSE),t._pressInstructions()}),Qt.STANDARD,!0,1)},_disposer:function(){Jt.prototype._disposer.call(this)},_pressInstructions:function(){try{this._kernel.scenes.get_scene()._pressInstructions()}catch(t){this._kernel.scenes.setScene(oe.INSTRUCTIONS)}},pauseHandler:function(t){var e=this;if(t){this._debugText.set_text(this._factory.id.toLowerCase()+" v"+this._factory.version+" @ "+Math.round(this._kernel.getFramerate())+"fps : "+this._session.cache.debugMessage);for(var i=0,s=this.getEntitiesByClass(je);i<s.length;){var n=s[i];++i,n.bounce=Math.random()}this.addEntity(new ys(this._kernel,function(t){e._context.y=t},this._factory.height,0,0,500,null,gs.EASE_OUT,fs.QUARTIC)),this.addEntity(new ys(this._kernel,function(t){e._debugText.set_alpha(t)},0,.25,2e3,2e3,null,gs.EASE_OUT,fs.QUARTIC)),this.addEntity(new ys(this._kernel,function(t){e._logo.set_alpha(t)},0,1,2e3,2e3,null,gs.EASE_OUT,fs.QUARTIC))}},__class__:Ve});function Ye(t){Be.call(this,t,null,null,!1)}(e["b10rsp.gui.Radial"]=Ye).__name__="b10rsp.gui.Radial",Ye.__super__=Be,Ye.prototype=t(Be.prototype,{_init:function(){Be.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/Radial.jpg")),this._bitmap.regX=this._bitmap.regY=256,this._context.addChild(this._bitmap),this._bitmap.compositeOperation="lighter",this._bitmap.x=.5*this._kernel.factory.width,this._bitmap.y=.75*this._kernel.factory.height},_updater:function(t){null==t&&(t=0),Be.prototype._updater.call(this,t);var e=.5*(-Math.sin(this._age/500)/2+1)+.5*(-Math.sin(this._age/200)/2+1);this._bitmap.alpha=.25*e,this._bitmap.scaleX=this._bitmap.scaleY=1.5*e,this._bitmap.rotation=this._updates},__class__:Ye});var Xe=function(t,e,i){null==i&&(i=1),this._context=new createjs.Container,this._alphaMask=e,this._speed=i,m.call(this,t,null,this._context)};(e["b10rsp.gui.Shine"]=Xe).__name__="b10rsp.gui.Shine",Xe.__super__=m,Xe.prototype=t(m.prototype,{_init:function(){m.prototype._init.call(this),this.width=this._alphaMask.width,this.height=this._alphaMask.height,this._context.compositeOperation="lighter",this._context.cache(0,0,this.width,this.height),this._canvas=this._context.cacheCanvas,this._context2d=this._canvas.getContext("2d",null)},_updater:function(t){null==t&&(t=0),m.prototype._updater.call(this,t),this._draw()},_draw:function(){var t,e,i,s;this._kernel.isEyeCandy&&(this._context2d.clearRect(0,0,this.width,this.height),this._context2d.globalCompositeOperation="source-out",this._context2d.drawImage(this._alphaMask,0,0),t=this._speed*this._age,e=this._rotatePoint(.5*this.width*Math.sin(t/900),.5*this.height,t/1e3,.5*this.width,.5*this.height),i=this._rotatePoint(this.width,.5*this.height+.5*this.height*Math.sin(t/1300),t/1e3,.5*this.width,.5*this.height),(s=this._context2d.createLinearGradient(e.x,e.y,i.x,i.y)).addColorStop(.15,"#000000"),s.addColorStop(.3,"#FFFFFF"),s.addColorStop(.5,"#333333"),s.addColorStop(.78,"#a6a6a6"),s.addColorStop(.82,"#bfbfbf"),s.addColorStop(.86,"#a6a6a6"),s.addColorStop(.88,"#FFFFFF"),s.addColorStop(.98,"#000000"),this._context2d.fillStyle=s,this._context2d.globalCompositeOperation="source-in",this._context2d.fillRect(0,0,this.width,this.height))},_rotatePoint:function(t,e,i,s,n){var r=Math.sin(i),o=Math.cos(i),a=(t-=s)*o-(e-=n)*r,l=t*r+e*o;return{x:a+=s,y:l+=n}},__class__:Xe});var ze=function(t,e,i,s,n,r,o,a){null==a&&(a=1),null==o&&(o=!1),null==r&&(r=!1),null==s&&(s=""),s=c.replace(s,"<BR/>","\n"),s=c.replace(s,"<br/>","\n"),Yt.call(this,t,e,i,s,n,r,o),this.set_alpha(a)};(e["b10rsp.gui.Text"]=ze).__name__="b10rsp.gui.Text",ze.__super__=Yt,ze.prototype=t(Yt.prototype,{_init:function(){Yt.prototype._init.call(this),this._textField.textBaseline="alphabetic",this._textField.y+=.95*this.textStyle.size},set_alpha:function(t){return this._context.alpha=t},__class__:ze,__properties__:t(Yt.prototype.__properties__,{set_alpha:"set_alpha"})});function We(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),this._COOLDOWN_DURATION=1e3,V.call(this,t,e,i,s,n),this.isPauseable=!0}(e["b10rsp.scenes.AScene"]=We).__name__="b10rsp.scenes.AScene",We.__super__=V,We.prototype=t(V.prototype,{_init:function(){V.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Qt.STANDARD),this._assets=cs.__cast(this._kernel.assets,_e),this._session=cs.__cast(this._kernel.get_session(),fe),this._factory=cs.__cast(this._kernel.factory,ce),this._factory.preventDefaultForKeys([ee.SPACE])},_disposer:function(){this._factory.allowDefaultForKeys([ee.SPACE]),V.prototype._disposer.call(this)},_createBurst:function(t,e,i){var s=new Le(this._kernel,t,e,i);return this.addEntity(s,null,!0,100),s},_pressPlay:function(t){null==t&&(t=!1),this._kernel.log("button "+(t?"replay":"play"));var e,i,s,n,r=t&&this._session.cache.score<1e3;this._session.cache.reset(),this._session.setIsTester(this._kernel.inputs.keyboard.getIsKeyDown(ee.SQUARELEFT)&&this._kernel.inputs.keyboard.getIsKeyDown(ee.SQUARERIGHT)),r?(e=Ms(_=this._kernel.scenes,_.setScene),i=oe.INSTRUCTIONS,this._outro(function(){e(i)})):this._session.sponsor.isEnabled&&(t||1e3<this._session.highScore&&.5<Math.random())?(s=Ms(_=this._kernel.scenes,_.setScene),n=oe.INTERSTITIAL,this._outro(function(){s(n)})):this._outro(Ms(_=this._kernel.scenes,_.next))},_pressInstructions:function(){this._kernel.log("button instructions");var t=Ms(_=this._kernel.scenes,_.setScene),e=oe.INSTRUCTIONS;this._outro(function(){t(e)})},_pressAuthor:function(){var e=this;this._age<this._cooldown||(this._cooldown=this._age+this._COOLDOWN_DURATION,this._kernel.log("button: author"),oi.delay(function(){var t=e._kernel.getConfig("settings.urls.author");window.top.location.href=M.string(t)},500))},_pressWebsite:function(){this._age<this._cooldown||(this._cooldown=this._age+this._COOLDOWN_DURATION,this._kernel.log("button website"),this._session.sponsor.getIsMoreGamesEnabled()?this._session.sponsor.showMoreGames():this._openUrl(this._kernel.getConfig("settings.urls.website")))},_outro:function(t){this._isOutroCalled||(this._isOutroCalled=!0,null!=t&&t())},_openUrl:function(t){"true"==this._kernel.getConfig("settings.urls.blank")?window.open(t,"_blank"):oi.delay(function(){window.top.location.href=t},500)},_applyStageClickListener:function(t){null==t&&(t=!1),t?this._kernel._stage.addEventListener("click",Ms(this,this._stageClick),!0):this._kernel._stage.removeEventListener("click",Ms(this,this._stageClick),!0)},_stageClick:function(t){if(this._kernel.isActive)for(var e=0,i=this.getEntitiesByClass(S);e<i.length;){var s=i[e];++e,s.isOver&&(s.onClickCallback!=Ms(this,this._pressWebsite)&&s.onClickCallback!=Ms(this,this._pressTwitter)&&s.onClickCallback!=Ms(this,this._pressFacebook)||s.onClickCallback())}},_pressTwitter:function(){this._pressSocial(!1)},_pressFacebook:function(){this._pressSocial(!0)},_pressSocial:function(t){var e,i,s,n,r;null==t&&(t=!1),this._age<this._cooldown||(this._cooldown=this._age+this._COOLDOWN_DURATION,this._kernel.log("button: social: "+(t?"facebook":"twitter")),e=this._session.highScore,i=window.top.location.href,this._kernel.isLocal&&(i=this._kernel.getConfig("settings.urls.website")),n=(s="Can you beat my RAINBOW STAR PINBALL score of "+e+"? #rainbowstar")+" by @b10bgames - Play in your browser here "+i,r="",r=t?(r=c.replace(r="http://www.facebook.com/sharer/sharer.php?u=__URL__&quote=__MESSAGE__","__URL__",encodeURIComponent(i)),c.replace(r,"__MESSAGE__",encodeURIComponent(s))):c.replace(r="https://twitter.com/intent/tweet?text=__MESSAGE__","__MESSAGE__",encodeURIComponent(n)),this._openUrl(r))},__class__:We});var Je=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),We.call(this,t,e,i,s,n)};(e["b10rsp.scenes.Game"]=Je).__name__="b10rsp.scenes.Game",Je.__super__=We,Je.prototype=t(We.prototype,{_init:function(){We.prototype._init.call(this),this.isPauseable=!0,this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this._session.cache.reset(),this._kernel.audio.stop(null,qt.MUSIC),this._session.get_poki().gameplayStart(),this.addEntity(this._hud=new Ue(this._kernel),null,!0,100),this.addEntity(this._location=new ve(this._kernel),null,!0,1),this._session.get_isTester()&&this.addEntity(new je(this._kernel,this._kernel.getConfig("gui.buttons.testMode.skip"),(this._kernel.factory.width-150)/2,this._factory.height-50,null,Ms(this,this._gameOver)),null,!0,100),this._factory.preventDefaultForKeys([ee.UP,ee.RIGHT,ee.DOWN,ee.LEFT,ee.SPACE])},_createDelay:function(t,e){null==e&&(e=1e3),null==this._delay&&this.addEntity(this._delay=new zt(this._kernel,t,e))},_gameOver:function(){this._kernel.scenes.next()},_updater:function(t){null==t&&(t=0),We.prototype._updater.call(this,t),this._hud.configureScore(this._session.cache.score),this._hud.configureMultiplier(this._location.multiplier),this._hud.configureLives(this._location.lives),this._hud.configureHelpOverlay(this._location.inactiveCount>5*this._factory.targetFramerate),0==this._location.lives&&this._createDelay(Ms(this,this._gameOver),3e3)},_disposer:function(){this._kernel.audio.stop(null,qt.MUSIC),this._factory.allowDefaultForKeys([ee.UP,ee.RIGHT,ee.DOWN,ee.LEFT,ee.SPACE]),this._session.get_poki().gameplayStop(),We.prototype._disposer.call(this)},__class__:Je});var Qe=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),We.call(this,t,e,i,s,n)};(e["b10rsp.scenes.Instructions"]=Qe).__name__="b10rsp.scenes.Instructions",Qe.__super__=We,Qe.prototype=t(We.prototype,{_init:function(){var e=this;We.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND);var t,i=this._session.cache.instructionsPage;switch(this.addEntity(new Ge(this._kernel,this._assets.getAsset("assets/gui/InstructionsBg.jpg")),null,!0,0),i){case 1:t=this._kernel.system.isDesktop?"assets/gui/InstructionsPage1A.png":"assets/gui/InstructionsPage1B.png";break;case 2:t="assets/gui/InstructionsPage2.png";break;case 3:t="assets/gui/InstructionsPage3.png";break;default:t="assets/gui/InstructionsPage3.png"}this.addEntity(this._pageImage=new Ge(this._kernel,this._assets.getAsset(t)),null,!0,6);var s=new ze(this._kernel,216,30,M.string(this._kernel.getConfig("gui.scenes.instructions.title")).toUpperCase(),this._factory.createTextStyle(le.HEADLINE));s.setPosition((this._kernel.factory.width-s.width)/2,28),this.addEntity(s,null,!0,10);var n=Ms(this,this._pressPlay);this.addEntity(this._buttonPlay=new Fe(this._kernel,Ne.START,!0,(this._kernel.factory.width-110)/2,480,this._kernel.factory.keyNext,function(){n()}),null,!0,10),this.addEntity(this._buttonPrevious=new Fe(this._kernel,Ne.PREVIOUS,null,this._buttonPlay.x-75,this._buttonPlay.y+3,ee.LEFT,Ms(this,this._pressPrevious)),null,!0,10),this.addEntity(this._buttonNext=new Fe(this._kernel,Ne.NEXT,null,this._buttonPlay.x+this._buttonPlay.width+5,this._buttonPlay.y+3,ee.RIGHT,Ms(this,this._pressNext)),null,!0,10);var r=M.string(this._kernel.getConfig("gui.scenes.instructions.page"+i)),o=new ze(this._kernel,300,200,r,this._factory.createTextStyle(le.BODY),!0,!1,1);o.setPosition((this._kernel.factory.width-o.width)/2,78),this.addEntity(o,null,!0,10),this._session.cache.isInstructions||(this.addEntity(new ys(this._kernel,function(t){e._buttonPlay.set_y(t)},this._factory.height,this._buttonPlay.y,1200,2e3,null,gs.EASE_OUT,fs.ELASTIC())),this.addEntity(new ys(this._kernel,function(t){e._buttonPrevious.set_y(t)},this._factory.height,this._buttonPrevious.y,1e3,2e3,null,gs.EASE_OUT,fs.ELASTIC())),this.addEntity(new ys(this._kernel,function(t){e._buttonNext.set_y(t)},this._factory.height,this._buttonNext.y,1400,2e3,null,gs.EASE_OUT,fs.ELASTIC()))),this._session.cache.isInstructions=!0},_updater:function(t){null==t&&(t=0),We.prototype._updater.call(this,t),this._pageImage.set_x(5*Math.sin(this._age/1e3)),this._pageImage.set_y(8*Math.sin(this._age/600)-20)},_pressPrevious:function(){this._tools;var t=this._session.cache.instructionsPage-1,e=t-1,i=e-3*Math.floor(e/3)+1;this._session.cache.instructionsPage=0|i,this._kernel.scenes.restart()},_pressNext:function(){this._tools;var t=this._session.cache.instructionsPage+1,e=t-1,i=e-3*Math.floor(e/3)+1;this._session.cache.instructionsPage=0|i,this._kernel.scenes.restart()},_outro:function(t){var e=this;if(!this._isOutroCalled){this._isOutroCalled=!0;for(var i=0,s=this.getEntitiesByClass(ys);i<s.length;){var n=s[i];++i,n.remove()}this.addEntity(new ys(this._kernel,function(t){e._buttonPlay.set_y(t)},this._buttonPlay.y,this._factory.height,50,1e3,null,gs.EASE_IN,fs.BACK())),this.addEntity(new ys(this._kernel,function(t){e._buttonPrevious.set_y(t)},this._buttonPrevious.y,this._factory.height,0,1e3,null,gs.EASE_IN,fs.BACK())),this.addEntity(new ys(this._kernel,function(t){e._buttonNext.set_y(t)},this._buttonNext.y,this._factory.height+25,100,1e3,null,gs.EASE_IN,fs.BACK(),t)),this._kernel.audio.start("TargetsComplete",qt.INTERFACE,0,0,1)}},__class__:Qe});var qe=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),We.call(this,t,e,i,s,n)};(e["b10rsp.scenes.Interstitial"]=qe).__name__="b10rsp.scenes.Interstitial",qe.__super__=We,qe.prototype=t(We.prototype,{_init:function(){We.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this.addEntity(new Ge(this._kernel,this._assets.getAsset("assets/gui/InstructionsBg.jpg")),null,!0,0),this.addEntity(new Ye(this._kernel),null,!0,3),this._kernel.audio.stop(null,qt.MUSIC),this._showAd()},_showAd:function(){this._session.sponsor.showAd(Ms(_=this._kernel.scenes,_.next))},__class__:qe});var Ze=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),We.call(this,t,e,i,s,n)};(e["b10rsp.scenes.Menu"]=Ze).__name__="b10rsp.scenes.Menu",Ze.__super__=We,Ze.prototype=t(We.prototype,{_init:function(){var e=this;We.prototype._init.call(this),this.addEntity(new Ge(this._kernel,this._assets.getAsset("assets/gui/MenuBg.jpg")),null,!0,0),this.addEntity(new Ye(this._kernel),null,!0,3),this.addEntity(this._logo=new He(this._kernel),null,!0,5),this._kernel.audio.start("MusicMenu",qt.MUSIC,-1,0,.5,0,!0);this._session.sponsor.isEnabled&&this._session.sponsor.getIsMoreGamesEnabled();var t=Ms(this,this._pressPlay);this.addEntity(this._buttonPlay=new Fe(this._kernel,Ne.START,!0,(this._kernel.factory.width-100)/2,480,this._kernel.factory.keyNext,function(){t()}),null,!0,11),this.addEntity(this._buttonInstructions=new Fe(this._kernel,Ne.INSTRUCTIONS,null,this._buttonPlay.x+this._buttonPlay.width+5,this._buttonPlay.y+3,null,Ms(this,this._pressInstructions)),null,!0,10),this.addEntity(new ys(this._kernel,function(t){e._logo.set_y(t)},-300,this._logo.y+20,600,3e3,null,gs.EASE_OUT,fs.ELASTIC())),this.addEntity(new ys(this._kernel,function(t){e._buttonPlay.set_y(t)},this._factory.height,this._buttonPlay.y,1200,2e3,null,gs.EASE_OUT,fs.ELASTIC())),this.addEntity(new ys(this._kernel,function(t){e._buttonInstructions.set_y(t)},this._factory.height,this._buttonInstructions.y,1400,2e3,null,gs.EASE_OUT,fs.ELASTIC())),this._session.sponsor.getIsBrandingEnabled()&&this.addEntity(new Re(this._kernel,40,230),null,!0,20),this._applyStageClickListener(!0)},_outro:function(t){var e=this;if(!this._isOutroCalled){this._applyStageClickListener(!1),this._isOutroCalled=!0;for(var i=0,s=this.getEntitiesByClass(ys);i<s.length;){var n=s[i];++i,n.remove()}this.addEntity(new ys(this._kernel,function(t){e._logo.set_y(t)},this._logo.y,-300,0,1e3,null,gs.EASE_IN,fs.BACK())),this.addEntity(new ys(this._kernel,function(t){e._buttonPlay.set_y(t)},this._buttonPlay.y,this._factory.height,100,1e3,null,gs.EASE_IN,fs.BACK())),this.addEntity(new ys(this._kernel,function(t){e._buttonInstructions.set_y(t)},this._buttonInstructions.y,this._factory.height+25,150,1e3,null,gs.EASE_IN,fs.BACK(),t)),this._kernel.audio.start("TargetsComplete",qt.INTERFACE,0,0,1)}},__class__:Ze});var $e=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),We.call(this,t,e,i,s,n)};(e["b10rsp.scenes.Results"]=$e).__name__="b10rsp.scenes.Results",$e.__super__=We,$e.prototype=t(We.prototype,{_init:function(){var e=this;We.prototype._init.call(this),this._stars=this._getStars(this._session.cache.score),this._kernel.log("results "+this._stars);this._session.sponsor.isEnabled&&this._session.sponsor.getIsMoreGamesEnabled();this.addEntity(new Ge(this._kernel,this._assets.getAsset("assets/gui/MenuBg.jpg")),null,!0,0),this.addEntity(new Ye(this._kernel),null,!0,2),this.addEntity(this._starsImage=new Ge(this._kernel,this._assets.getAsset("assets/gui/Results0.png")),null,!0,3),this._starsImage.set_y(270);var t=Ms(this,this._pressPlay),i=function(){t(!0)};this.addEntity(this._buttonPlay=new Fe(this._kernel,Ne.RESTART,!0,(this._kernel.factory.width-110)/2,480,this._kernel.factory.keyNext,i),null,!0,4),this._buttonInstructions=new Fe(this._kernel,Ne.INSTRUCTIONS,null,this._buttonPlay.x+this._buttonPlay.width+5,this._buttonPlay.y+3,null,Ms(this,this._pressInstructions)),this.addEntity(this._buttonInstructions,null,!0,10);var s,n,r,o=this._session.cache.score>this._session.highScore;o&&(this._session.highScore=this._session.cache.score,(s=this._session).saveCount++,s._setter(),s._savedData._____VERSION=s._version,s._savedData[s.id]=s._data,s._driverSave(),this._session.sponsor.isEnabled&&(n=Ms(_=this._session.sponsor,_.submitScore),r=this._session.cache.score,i=function(){n(r)},this.addEntity(new zt(this._kernel,i,4e3))));var a=new ze(this._kernel,200,100,M.string(this._kernel.getConfig("gui.scenes.results.message")).toUpperCase(),this._kernel.factory.createTextStyle(this._factory.TEXTSTYLE_RESULTS_MESSAGE),!0);a.setPosition((this._kernel.factory.width-a.width)/2,40),this.addEntity(a,null,!0,20);var l=new ze(this._kernel,200,100,M.string(this._session.cache.score).toUpperCase(),this._kernel.factory.createTextStyle(this._factory.TEXTSTYLE_RESULTS_SCORE),!0);l.setPosition((this._kernel.factory.width-l.width)/2,a.y+55),this.addEntity(l,null,!0,20);var h=new ze(this._kernel,200,100,c.replace(this._kernel.getConfig(o?"gui.scenes.results.win":"gui.scenes.results.lose"),"__HIGH_SCORE__",M.string(this._session.highScore)).toUpperCase(),this._kernel.factory.createTextStyle(this._factory.TEXTSTYLE_RESULTS_MESSAGE),!0);h.setPosition((this._kernel.factory.width-h.width)/2,l.y+55),this.addEntity(h,null,!0,20),this._kernel.audio.start("MusicMenu",qt.MUSIC,-1,0,.5,0,!0),this.addEntity(new ys(this._kernel,function(t){e._starsImage.set_y(t)},-150,this._starsImage.y,0,3e3,null,gs.EASE_OUT,fs.ELASTIC())),this.addEntity(new ys(this._kernel,function(t){e._buttonPlay.set_y(t)},this._factory.height,this._buttonPlay.y,2200,2e3,null,gs.EASE_OUT,fs.ELASTIC())),this.addEntity(new ys(this._kernel,function(t){e._buttonInstructions.set_y(t)},this._factory.height,this._buttonInstructions.y,2400,2e3,null,gs.EASE_OUT,fs.ELASTIC())),this._applyStageClickListener(!0),this._session.get_poki().happyTime(this._stars/3)},_getStars:function(t){return 1e5<t?3:2e4<t?2:2e3<t?1:0},_updater:function(t){null==t&&(t=0),We.prototype._updater.call(this,t);var e=this._factory.targetFramerate;this._updates==e&&1<=this._stars&&(this._starsImage.configure(this._assets.getAsset("assets/gui/Results1.png")),this._kernel.audio.start("Star1",qt.EFFECTS,1,0,.5,null,!1),this._kernel.overlay.flash(200,!0,.35),this._createBurst(1,118,this._starsImage.y+85)),this._updates==(1.5*e|0)&&2<=this._stars&&(this._starsImage.configure(this._assets.getAsset("assets/gui/Results2.png")),this._kernel.audio.start("Star2",qt.EFFECTS,1,0,.7,null,!1),this._kernel.overlay.flash(300,!0,.65),this._createBurst(1,225,this._starsImage.y+75)),this._updates==(2*e|0)&&3<=this._stars&&(this._starsImage.configure(this._assets.getAsset("assets/gui/Results3.png")),this._kernel.audio.start("Star3",qt.EFFECTS,1,0,1,null,!1),this._kernel.overlay.flash(400,!0,1),this._createBurst(1,332,this._starsImage.y+85)),Math.random()<.125&&this._createBurst(.5*Math.random()+.5,.4*this._factory.width+Math.random()*this._factory.width*.2,.15*this._factory.height+Math.random()*this._factory.height*.05)},_outro:function(t){var e=this;if(!this._isOutroCalled){this._applyStageClickListener(!1),this._isOutroCalled=!0;for(var i=0,s=this.getEntitiesByClass(ys);i<s.length;){var n=s[i];++i,n.remove()}this.addEntity(new ys(this._kernel,function(t){e._starsImage.set_y(t)},this._starsImage.y,-150,0,1e3,null,gs.EASE_IN,fs.BACK())),this.addEntity(new ys(this._kernel,function(t){e._buttonPlay.set_y(t)},this._buttonPlay.y,this._factory.height,100,1e3,null,gs.EASE_IN,fs.BACK())),this.addEntity(new ys(this._kernel,function(t){e._buttonInstructions.set_y(t)},this._buttonInstructions.y,this._factory.height+25,150,1e3,null,gs.EASE_IN,fs.BACK(),t)),this._kernel.audio.start("TargetsComplete",qt.INTERFACE,0,0,1)}},__class__:$e});var ti=function(t){Nt.call(this,t,500)};(e["b10rsp.scenes.SceneTransition"]=ti).__name__="b10rsp.scenes.SceneTransition",ti.__super__=Nt,ti.prototype=t(Nt.prototype,{_init:function(){Nt.prototype._init.call(this),this._kernel.audio.start("Transition",qt.INTERFACE,0,0,.5)},__class__:ti});function ei(){}(e["haxe.IMap"]=ei).__name__="haxe.IMap",ei.__isInterface__=!0;var ii=function(t,e,i){Error.call(this,t),this.message=t,this.__previousException=e,this.__nativeException=null!=i?i:this};(e["haxe.Exception"]=ii).__name__="haxe.Exception",ii.caught=function(t){return t instanceof ii?t:t instanceof Error?new ii(t.message,null,t):new hi(t,null,t)},ii.thrown=function(t){return t instanceof ii?t.get_native():t instanceof Error?t:new hi(t)},ii.__super__=Error,ii.prototype=t(Error.prototype,{unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:ii,__properties__:{get_native:"get_native"}});var si=function(){};(e["haxe.Log"]=si).__name__="haxe.Log",si.formatOutput=function(t,e){var i=M.string(t);if(null==e)return i;var s=e.fileName+":"+e.lineNumber;if(null!=e.customParams)for(var n=0,r=e.customParams;n<r.length;){t=r[n];++n,i+=", "+M.string(t)}return s+": "+i},si.trace=function(t,e){var i=si.formatOutput(t,e);"undefined"!=typeof console&&null!=console.log&&console.log(i)};var ni=function(){};(e["haxe.Resource"]=ni).__name__="haxe.Resource",ni.getString=function(t){for(var e=0,i=ni.content;e<i.length;){var s=i[e];if(++e,s.name==t)return null!=s.str?s.str:ui.decode(s.data).toString()}return null};var ri=function(){this.buf=new k,this.cache=[],this.useCache=ri.USE_CACHE,this.useEnumIndex=ri.USE_ENUM_INDEX,this.shash=new Si,this.scount=0};(e["haxe.Serializer"]=ri).__name__="haxe.Serializer",ri.run=function(t){var e=new ri;return e.serialize(t),e.toString()},ri.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash.h[t];if(null!=e)return this.buf.b+="R",void(this.buf.b+=null==e?"null":""+e);this.shash.h[t]=this.scount++,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=M.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,i=0,s=this.cache.length;i<s;){var n=i++,r=this.cache[n];if(typeof r==e&&r==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,i=C.fields(t);e<i.length;){var s=i[e];++e,this.serializeString(s),this.serialize(C.field(t,s))}this.buf.b+="g"},serialize:function(t){switch((w=T.typeof(t))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(e=t))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==e?"null":""+e;break;case 2:var e=t;isNaN(e)?this.buf.b+="k":isFinite(e)?(this.buf.b+="d",this.buf.b+=null==e?"null":""+e):this.buf.b+=e<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(cs.__instanceof(t,Ls)){var i=t.__name__;this.buf.b+="A",this.serializeString(i)}else if(cs.__instanceof(t,Fs))this.buf.b+="B",this.serializeString(t.__ename__);else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw ii.thrown("Cannot serialize function");case 6:var s=w.c;if(s==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(s){case Array:var n=0;this.buf.b+="a";for(var r=0,o=t.length;r<o;){null==t[u=r++]?++n:(0<n&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n),n=0),this.serialize(t[u]))}0<n&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n)),this.buf.b+="h";break;case Date:var a=t;this.buf.b+="v",this.buf.b+=M.string(a.getTime());break;case fi:this.buf.b+="q";for(var l=(e=t).keys();l.hasNext();){var h=l.next();this.buf.b+=":",this.buf.b+=null==h?"null":""+h,this.serialize(e.h[h])}this.buf.b+="h";break;case yi:this.buf.b+="l";for(var _=(e=t).h;null!=_;){var c=_.item,_=_.next,u=c;this.serialize(u)}this.buf.b+="h";break;case bi:this.buf.b+="M";for(l=(e=t).keys();l.hasNext();){var h=l.next(),p=C.field(h,"__id__");C.deleteField(h,"__id__"),this.serialize(h),h.__id__=p,this.serialize(e.h[h.__id__])}this.buf.b+="h";break;case Si:this.buf.b+="b";for(e=t,l=Si.keysIterator(e.h);l.hasNext();){h=l.next();this.serializeString(h),this.serialize(e.h[h])}this.buf.b+="h";break;case _i:e=t;this.buf.b+="s",this.buf.b+=M.string(Math.ceil(8*e.length/6)),this.buf.b+=":";var u=0,d=e.length-2;if(null==(g=ri.BASE64_CODES)){for(var g=new Array(ri.BASE64.length),r=0,o=ri.BASE64.length;r<o;){var f=r++;g[f]=P.cca(ri.BASE64,f)}ri.BASE64_CODES=g}for(;u<d;){var y=e.b[u++],m=e.b[u++],b=e.b[u++];this.buf.b+=String.fromCodePoint(g[y>>2]),this.buf.b+=String.fromCodePoint(g[63&(y<<4|m>>4)]),this.buf.b+=String.fromCodePoint(g[63&(m<<2|b>>6)]),this.buf.b+=String.fromCodePoint(g[63&b])}u==d?(y=e.b[u++],m=e.b[u++],this.buf.b+=String.fromCodePoint(g[y>>2]),this.buf.b+=String.fromCodePoint(g[63&(y<<4|m>>4)]),this.buf.b+=String.fromCodePoint(g[m<<2&63])):u==1+d&&(y=e.b[u++],this.buf.b+=String.fromCodePoint(g[y>>2]),this.buf.b+=String.fromCodePoint(g[y<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(s.__name__),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(s.__name__),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:var S=w.e;if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=M.string(this.useEnumIndex?"j":"w"),this.serializeString(S.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=M.string(t._hx_index)):(S=t,this.serializeString(E[S.__enum__].__constructs__[S._hx_index])),this.buf.b+=":";var v=T.enumParameters(t);this.buf.b+=M.string(v.length);for(var w=0;w<v.length;){var x=v[w];++w,this.serialize(x)}this.useCache&&this.cache.push(t);break;default:throw ii.thrown("Cannot serialize "+M.string(t))}},__class__:ri};var oi=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};(e["haxe.Timer"]=oi).__name__="haxe.Timer",oi.delay=function(t,e){var i=new oi(e);return i.run=function(){i.stop(),t()},i},oi.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:oi};function ai(){}(e["haxe._Unserializer.DefaultResolver"]=ai).__name__="haxe._Unserializer.DefaultResolver",ai.prototype={resolveClass:function(t){return e[t]},resolveEnum:function(t){return E[t]},__class__:ai};var li=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=li.DEFAULT_RESOLVER;null==e&&(e=new ai,li.DEFAULT_RESOLVER=e),this.resolver=e};(e["haxe.Unserializer"]=li).__name__="haxe.Unserializer",li.initCodes=function(){for(var t=[],e=0,i=li.BASE64.length;e<i;){var s=e++;t[li.BASE64.charCodeAt(s)]=s}return t},li.run=function(t){return new li(t).unserialize()},li.prototype={readDigits:function(){for(var t=0,e=!1,i=this.pos;;){var s=this.buf.charCodeAt(this.pos);if(s!=s)break;if(45!=s){if(s<48||57<s)break;t=10*t+(s-48),this.pos++}else{if(this.pos!=i)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(43<=e&&e<58||101==e||69==e))break;this.pos++}return parseFloat(P.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw ii.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw ii.thrown("Invalid object key");var i=this.unserialize();t[e]=i}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw ii.thrown("Invalid enum format");var i=this.readDigits();if(0==i)return T.createEnum(t,e);for(var s=[];0<i--;)s.push(this.unserialize());return T.createEnum(t,e,s)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize();if(null==(a=this.resolver.resolveClass(t)))throw ii.thrown("Class not found "+t);return a;case 66:t=this.unserialize();if(null==(_=this.resolver.resolveEnum(t)))throw ii.thrown("Enum not found "+t);return _;case 67:t=this.unserialize();if(null==(a=this.resolver.resolveClass(t)))throw ii.thrown("Class not found "+t);var e=Object.create(a.prototype);if(this.cache.push(e),e.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw ii.thrown("Invalid custom data");return e;case 77:var i=new bi;this.cache.push(i);for(var s=this.buf;104!=this.buf.charCodeAt(this.pos);){var n=this.unserialize();i.set(n,this.unserialize())}return this.pos++,i;case 82:if((d=this.readDigits())<0||d>=this.scache.length)throw ii.thrown("Invalid string reference");return this.scache[d];case 97:var s=this.buf,r=[];for(this.cache.push(r);;){if(104==(u=this.buf.charCodeAt(this.pos))){this.pos++;break}117==u?(this.pos++,d=this.readDigits(),r[r.length+d-1]=null):r.push(this.unserialize())}return r;case 98:i=new Si;this.cache.push(i);for(s=this.buf;104!=this.buf.charCodeAt(this.pos);){var n=this.unserialize(),o=this.unserialize();i.h[n]=o}return this.pos++,i;case 99:var a,t=this.unserialize();if(null==(a=this.resolver.resolveClass(t)))throw ii.thrown("Class not found "+t);e=Object.create(a.prototype);return this.cache.push(e),this.unserializeObject(e),e;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:t=this.unserialize();if(null==(T=this.resolver.resolveEnum(t)))throw ii.thrown("Enum not found "+t);this.pos++;var l=this.readDigits(),h=T.__constructs__.slice()[l];if(null==h)throw ii.thrown("Unknown enum index "+t+"@"+l);var _=this.unserializeEnum(T,h);return this.cache.push(_),_;case 107:return NaN;case 108:var c=new yi;this.cache.push(c);for(s=this.buf;104!=this.buf.charCodeAt(this.pos);)c.add(this.unserialize());return this.pos++,c;case 109:return-1/0;case 110:return null;case 111:e={};return this.cache.push(e),this.unserializeObject(e),e;case 112:return 1/0;case 113:i=new fi;this.cache.push(i);for(var s=this.buf,u=this.buf.charCodeAt(this.pos++);58==u;){var p=this.readDigits(),o=this.unserialize();i.h[p]=o,u=this.buf.charCodeAt(this.pos++)}if(104!=u)throw ii.thrown("Invalid IntMap format");return i;case 114:var d;if((d=this.readDigits())<0||d>=this.cache.length)throw ii.thrown("Invalid reference");return this.cache[d];case 115:var g=this.readDigits(),s=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<g)throw ii.thrown("Invalid bytes length");var f=li.CODES;null==f&&(f=li.initCodes(),li.CODES=f);for(var y=3&g,m=(p=this.pos)+(g-y),b=new _i(new ArrayBuffer(3*(g>>2)+(2<=y?y-1:0))),S=0;p<m;){var v=f[s.charCodeAt(p++)],w=f[s.charCodeAt(p++)];b.b[S++]=v<<2|w>>4;var x=f[s.charCodeAt(p++)];b.b[S++]=w<<4|x>>2;var E=f[s.charCodeAt(p++)];b.b[S++]=x<<6|E}return 2<=y&&(v=f[s.charCodeAt(p++)],w=f[s.charCodeAt(p++)],b.b[S++]=v<<2|w>>4,3==y&&(x=f[s.charCodeAt(p++)],b.b[S++]=w<<4|x>>2)),this.pos+=g,this.cache.push(b),b;case 116:return!0;case 118:var C;return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(C=P.strDate(P.substr(this.buf,this.pos,19)),this.pos+=19):C=new Date(this.readFloat()),this.cache.push(C),C;case 119:var T,t=this.unserialize();if(null==(T=this.resolver.resolveEnum(t)))throw ii.thrown("Enum not found "+t);_=this.unserializeEnum(T,this.unserialize());return this.cache.push(_),_;case 120:throw ii.thrown(this.unserialize());case 121:g=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<g)throw ii.thrown("Invalid string length");n=P.substr(this.buf,this.pos,g);return this.pos+=g,n=decodeURIComponent(n.split("+").join(" ")),this.scache.push(n),n;case 122:return 0}throw this.pos--,ii.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:li};var hi=function(t,e,i){ii.call(this,String(t),e,i),this.value=t};(e["haxe.ValueException"]=hi).__name__="haxe.ValueException",hi.__super__=ii,hi.prototype=t(ii.prototype,{unwrap:function(){return this.value},__class__:hi});var _i=function(t){this.length=t.byteLength,this.b=new Uint8Array(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(e["haxe.io.Bytes"]=_i).__name__="haxe.io.Bytes",_i.ofString=function(t,e){if(e==ci.RawNative){for(var i=new Uint8Array(t.length<<1),s=0,n=t.length;s<n;){var r=s++,o=t.charCodeAt(r);i[r<<1]=255&o,i[r<<1|1]=o>>8}return new _i(i.buffer)}for(var a=[],r=0;r<t.length;){55296<=(o=t.charCodeAt(r++))&&o<=56319&&(o=o-55232<<10|1023&t.charCodeAt(r++)),o<=127?a.push(o):(o<=2047?a.push(192|o>>6):(o<=65535?a.push(224|o>>12):(a.push(240|o>>18),a.push(128|o>>12&63)),a.push(128|o>>6&63)),a.push(128|63&o))}return new _i(new Uint8Array(a).buffer)},_i.ofData=function(t){var e=t.hxBytes;return null!=e?e:new _i(t)},_i.prototype={getString:function(t,e,i){if(t<0||e<0||t+e>this.length)throw ii.thrown(xi.OutsideBounds);null==i&&(i=ci.UTF8);var s="",n=this.b,r=t,o=t+e;switch(i._hx_index){case 0:for(var a,l,h;r<o;){if((_=n[r++])<128){if(0==_)break;s+=String.fromCodePoint(_)}else{_<224?(a=(63&_)<<6|127&n[r++],s+=String.fromCodePoint(a)):_<240?(l=(31&_)<<12|(127&n[r++])<<6|127&n[r++],s+=String.fromCodePoint(l)):(h=(15&_)<<18|(127&n[r++])<<12|(127&n[r++])<<6|127&n[r++],s+=String.fromCodePoint(h))}}break;case 1:for(;r<o;){var _=n[r++]|n[r++]<<8;s+=String.fromCodePoint(_)}}return s},toString:function(){return this.getString(0,this.length)},__class__:_i};var ci=E["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:i},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:i}},ui=function(){};(e["haxe.crypto.Base64"]=ui).__name__="haxe.crypto.Base64",ui.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==P.cca(t,t.length-1);)t=P.substr(t,0,-1);return new pi(ui.BYTES).decodeBytes(_i.ofString(t))};var pi=function(t){for(var e=t.length,i=1;1<<i<e;)++i;if(8<i||e!=1<<i)throw ii.thrown("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};(e["haxe.crypto.BaseCode"]=pi).__name__="haxe.crypto.BaseCode",pi.prototype={initTable:function(){for(var t=[],e=0;e<256;){t[s=e++]=-1}for(var e=0,i=this.base.length;e<i;){var s=e++;t[this.base.b[s]]=s}this.tbl=t},decodeBytes:function(t){var e=this.nbits;this.base;null==this.tbl&&this.initTable();for(var i=this.tbl,s=t.length*e>>3,n=new _i(new ArrayBuffer(s)),r=0,o=0,a=0,l=0;l<s;){for(;o<8;){o+=e,r<<=e;var h=i[t.b[a++]];if(-1==h)throw ii.thrown("BaseCode : invalid encoded char");r|=h}o-=8,n.b[l++]=r>>o&255}return n},__class__:pi};var di=function(t,e){this.elt=t,this.next=e};(e["haxe.ds.GenericCell"]=di).__name__="haxe.ds.GenericCell",di.prototype={__class__:di};var gi=function(){};(e["haxe.ds.GenericStack"]=gi).__name__="haxe.ds.GenericStack",gi.prototype={remove:function(t){for(var e=null,i=this.head;null!=i;){if(i.elt==t){null==e?this.head=i.next:e.next=i.next;break}i=(e=i).next}return null!=i},iterator:function(){var e=this.head;return{hasNext:function(){return null!=e},next:function(){var t=e;return e=t.next,t.elt}}},__class__:gi};var fi=function(){this.h={}};(e["haxe.ds.IntMap"]=fi).__name__="haxe.ds.IntMap",fi.__interfaces__=[ei],fi.prototype={remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return new Ei(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t]}}},__class__:fi};var yi=function(){this.length=0};(e["haxe.ds.List"]=yi).__name__="haxe.ds.List",yi.prototype={add:function(t){var e=new mi(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(t){var e=new mi(t,this.h);this.h=e,null==this.q&&(this.q=e),this.length++},remove:function(t){for(var e=null,i=this.h;null!=i;){if(i.item==t)return null==e?this.h=i.next:e.next=i.next,this.q==i&&(this.q=e),this.length--,!0;i=(e=i).next}return!1},__class__:yi};var mi=function(t,e){this.item=t,this.next=e};(e["haxe.ds._List.ListNode"]=mi).__name__="haxe.ds._List.ListNode",mi.prototype={__class__:mi};var bi=function(){this.h={__keys__:{}}};(e["haxe.ds.ObjectMap"]=bi).__name__="haxe.ds.ObjectMap",bi.__interfaces__=[ei],bi.prototype={set:function(t,e){var i=t.__id__;null==i&&(i=t.__id__=d.$haxeUID++),this.h[i]=e,this.h.__keys__[i]=t},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return new Ei(t)},__class__:bi};var Si=function(){this.h=Object.create(null)};(e["haxe.ds.StringMap"]=Si).__name__="haxe.ds.StringMap",Si.__interfaces__=[ei],Si.keysIterator=function(t){var e=Object.keys(t),i=e.length,s=0;return{hasNext:function(){return s<i},next:function(){return e[(s+=1)-1]}}},Si.prototype={__class__:Si};function vi(t){this.url=t,this.headers=[],this.params=[],this.emptyOnData=Ms(this,this.onData)}(e["haxe.http.HttpBase"]=vi).__name__="haxe.http.HttpBase",vi.prototype={onData:function(t){},onBytes:function(t){},onError:function(t){},onStatus:function(t){},hasOnData:function(){return!C.compareMethods(Ms(this,this.onData),this.emptyOnData)},success:function(t){this.responseBytes=t,this.responseAsString=null,this.hasOnData()&&this.onData(this.get_responseData()),this.onBytes(this.responseBytes)},get_responseData:function(){return null==this.responseAsString&&null!=this.responseBytes&&(this.responseAsString=this.responseBytes.getString(0,this.responseBytes.length,ci.UTF8)),this.responseAsString},__class__:vi,__properties__:{get_responseData:"get_responseData"}};var wi=function(t){this.async=!0,this.withCredentials=!1,vi.call(this,t)};(e["haxe.http.HttpJs"]=wi).__name__="haxe.http.HttpJs",wi.__super__=vi,wi.prototype=t(vi.prototype,{request:function(t){var n=this;this.responseAsString=null,this.responseBytes=null;function e(t){if(4==r.readyState){var e,i;try{e=r.status}catch(t){e=null}if(0==e&&"undefined"!=typeof window&&null!=d.location&&(i=d.location.protocol.toLowerCase(),new g("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(i)&&(e=null!=r.response?200:404)),null==e&&(e=null),null!=e&&n.onStatus(e),null!=e&&200<=e&&e<400)n.req=null,n.success(_i.ofData(r.response));else if(null==e||0==e&&null==r.response)n.req=null,n.onError("Failed to connect or resolve host");else if(null==e){var s=(n.req=null)!=r.response?_i.ofData(r.response):null;n.responseBytes=s,n.onError("Http Error #"+r.status)}else switch(e){case 12007:n.req=null,n.onError("Unknown host");break;case 12029:n.req=null,n.onError("Failed to connect to host");break;default:s=(n.req=null)!=r.response?_i.ofData(r.response):null;n.responseBytes=s,n.onError("Http Error #"+r.status)}}}var r=this.req=us.createXMLHttpRequest();this.async&&(r.onreadystatechange=e);var i,s,o=this.postBytes;if(null!=(i=null==(a=this.postData)?null==o?null:new Blob([o.b.bufferValue]):null==o?a:null))t=!0;else for(var o=0,a=this.params;o<a.length;){var l=a[o];++o,i=null==i?"":(null==i?"null":M.string(i))+"&";var h=l.name,_=(null==i?"null":M.string(i))+encodeURIComponent(h)+"=",c=l.value;i=_+encodeURIComponent(c)}try{t?r.open("POST",this.url,this.async):null!=i?(s=this.url.split("?").length<=1,r.open("GET",this.url+(s?"?":"&")+(null==i?"null":M.string(i)),this.async),i=null):r.open("GET",this.url,this.async),r.responseType="arraybuffer"}catch(o){var u=ii.caught(o).unwrap();return this.req=null,void this.onError(u.toString())}r.withCredentials=this.withCredentials,!f.exists(this.headers,function(t){return"Content-Type"==t.name})&&t&&null==this.postData&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(o=0,a=this.headers;o<a.length;){var p=a[o];++o,r.setRequestHeader(p.name,p.value)}r.send(i),this.async||e()},__class__:wi});var xi=E["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:i},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:i},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:i},Custom:((_=function(t){return{_hx_index:3,e:t,__enum__:"haxe.io.Error",toString:i}}).__params__=["e"],_)},Ei=function(t){this.current=0,this.array=t};(e["haxe.iterators.ArrayIterator"]=Ei).__name__="haxe.iterators.ArrayIterator",Ei.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:Ei};function Ci(t,e,i){this.xml=e,this.message=t,this.position=i,this.lineNumber=1;for(var s=this.positionAtLine=0,n=i;s<n;){var r=s++,o=e.charCodeAt(r);10==o?(this.lineNumber++,this.positionAtLine=0):13!=o&&this.positionAtLine++}}var Ti={resolve:function(t,e){var i,s=t.elementsNamed(e).next();if(null==s){if(t.nodeType==O.Document)i="Document";else{if(t.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":D.toString(t.nodeType)));i=t.nodeName}throw ii.thrown(i+" is missing element "+e)}if(s.nodeType!=O.Document&&s.nodeType!=O.Element)throw ii.thrown("Invalid nodeType "+(null==s.nodeType?"null":D.toString(s.nodeType)));return t=s}},Ai={resolve:function(t,e){if(t.nodeType==O.Document)throw ii.thrown("Cannot access document attribute "+e);var i=t.get(e);if(null!=i)return i;if(t.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":D.toString(t.nodeType)));throw ii.thrown(t.nodeName+" is missing attribute "+e)}},Ii={resolve:function(t,e){if(t.nodeType==O.Document)throw ii.thrown("Cannot access document attribute "+e);return t.exists(e)}},Pi={resolve:function(t,e){for(var i=[],s=t.elementsNamed(e);s.hasNext();){var n=s.next();if(n.nodeType!=O.Document&&n.nodeType!=O.Element)throw ii.thrown("Invalid nodeType "+(null==n.nodeType?"null":D.toString(n.nodeType)));t=n;i.push(t)}return i}};(e["haxe.xml.XmlParserException"]=Ci).__name__="haxe.xml.XmlParserException",Ci.prototype={toString:function(){return cs.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Ci};var Mi=function(){};(e["haxe.xml.Parser"]=Mi).__name__="haxe.xml.Parser",Mi.parse=function(t,e){null==e&&(e=!1);var i=O.createDocument();return Mi.doParse(t,e,0,i),i},Mi.doParse=function(t,e,i,s){null==i&&(i=0);for(var n,r,o,a,l,h,_,c,u,p=null,d=1,g=1,f=null,y=0,m=0,b=0,S=t.charCodeAt(i),v=new k,w=1,x=-1;S==S;){switch(d){case 0:switch(S){case 9:case 10:case 13:case 32:break;default:d=g;continue}break;case 1:if(60!=S){y=i,d=13;continue}d=0,g=2;break;case 2:switch(S){case 33:if(91==t.charCodeAt(i+1)){if("CDATA["!=P.substr(t,i+=2,6).toUpperCase())throw ii.thrown(new Ci("Expected <![CDATA[",t,i));d=17,y=(i+=5)+1}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=P.substr(t,i+2,6).toUpperCase())throw ii.thrown(new Ci("Expected <!DOCTYPE",t,i));d=16,y=(i+=8)+1}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw ii.thrown(new Ci("Expected \x3c!--",t,i));d=15,y=(i+=2)+1}break;case 47:if(null==s)throw ii.thrown(new Ci("Expected node name",t,i));y=i+1,d=0,g=10;break;case 63:d=14,y=i;break;default:d=3,y=i;continue}break;case 3:if(97<=S&&S<=122||65<=S&&S<=90||48<=S&&S<=57||58==S||46==S||95==S||45==S)break;if(i==y)throw ii.thrown(new Ci("Expected node name",t,i));p=O.createElement(P.substr(t,y,i-y)),s.addChild(p),++m,d=0,g=4;continue;case 4:switch(S){case 47:d=11;break;case 62:d=9;break;default:d=5,y=i;continue}break;case 5:if(97<=S&&S<=122||65<=S&&S<=90||48<=S&&S<=57||58==S||46==S||95==S||45==S)break;if(y==i)throw ii.thrown(new Ci("Expected attribute name",t,i));f=P.substr(t,y,i-y);if(p.exists(f))throw ii.thrown(new Ci("Duplicate attribute ["+f+"]",t,i));d=0,g=6;continue;case 6:if(61!=S)throw ii.thrown(new Ci("Expected =",t,i));d=0,g=7;break;case 7:switch(S){case 34:case 39:v=new k,d=8,y=i+1,x=S;break;default:throw ii.thrown(new Ci('Expected "',t,i))}break;case 8:switch(S){case 38:var E=i-y;v.b+=P.substr(t,y,null==E?null:E),d=18,w=8,y=i+1;break;case 60:case 62:if(e)throw ii.thrown(new Ci("Invalid unescaped "+String.fromCodePoint(S)+" in attribute value",t,i));S==x&&(n=i-y,v.b+=P.substr(t,y,null==n?null:n),r=v.b,v=new k,p.set(f,r),d=0,g=4);break;default:S==x&&(o=i-y,v.b+=P.substr(t,y,null==o?null:o),a=v.b,v=new k,p.set(f,a),d=0,g=4)}break;case 9:y=i=Mi.doParse(t,e,i,p),d=1;break;case 10:if(97<=S&&S<=122||65<=S&&S<=90||48<=S&&S<=57||58==S||46==S||95==S||45==S)break;if(y==i)throw ii.thrown(new Ci("Expected node name",t,i));var C=P.substr(t,y,i-y);if(null==s||0!=s.nodeType)throw ii.thrown(new Ci("Unexpected </"+C+">, tag is not open",t,i));if(s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));if(C!=s.nodeName){if(s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));throw ii.thrown(new Ci("Expected </"+s.nodeName+">",t,i))}d=0,g=12;continue;case 11:if(62!=S)throw ii.thrown(new Ci("Expected >",t,i));d=1;break;case 12:if(62==S)return 0==m&&s.addChild(O.createPCData("")),i;throw ii.thrown(new Ci("Expected >",t,i));case 13:60==S?(l=i-y,v.b+=P.substr(t,y,null==l?null:l),h=O.createPCData(v.b),v=new k,s.addChild(h),++m,d=0,g=2):38==S&&(_=i-y,v.b+=P.substr(t,y,null==_?null:_),d=18,w=13,y=i+1);break;case 14:63==S&&62==t.charCodeAt(i+1)&&(c=P.substr(t,y+1,++i-y-2),s.addChild(O.createProcessingInstruction(c)),++m,d=1);break;case 15:45==S&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(s.addChild(O.createComment(P.substr(t,y,i-y))),++m,i+=2,d=1);break;case 16:91==S?++b:93==S?--b:62==S&&0==b&&(s.addChild(O.createDocType(P.substr(t,y,i-y))),++m,d=1);break;case 17:93==S&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(u=O.createCData(P.substr(t,y,i-y)),s.addChild(u),++m,i+=2,d=1);break;case 18:if(59==S){var T=P.substr(t,y,i-y);if(35==T.charCodeAt(0)){var A=120==T.charCodeAt(1)?M.parseInt("0"+P.substr(T,1,T.length-1)):M.parseInt(P.substr(T,1,T.length-1));v.b+=String.fromCodePoint(A)}else if(Object.prototype.hasOwnProperty.call(Mi.escapes.h,T))v.b+=M.string(Mi.escapes.h[T]);else{if(e)throw ii.thrown(new Ci("Undefined entity: "+T,t,i));v.b+=M.string("&"+T+";")}y=i+1,d=w}else if(!(97<=S&&S<=122||65<=S&&S<=90||48<=S&&S<=57||58==S||46==S||95==S||45==S)&&35!=S){if(e)throw ii.thrown(new Ci("Invalid character in entity: "+String.fromCodePoint(S),t,i));v.b+=String.fromCodePoint(38);var I=i-y;v.b+=P.substr(t,y,null==I?null:I),y=--i+1,d=w}}S=t.charCodeAt(++i)}if(1==d&&(y=i,d=13),13==d){if(0!=s.nodeType)return i==y&&0!=m||(E=i-y,v.b+=P.substr(t,y,null==E?null:E),s.addChild(O.createPCData(v.b)),++m),i;if(s.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":D.toString(s.nodeType)));throw ii.thrown(new Ci("Unclosed node <"+s.nodeName+">",t,i))}if(e||18!=d||13!=w)throw ii.thrown(new Ci("Unexpected end",t,i));v.b+=String.fromCodePoint(38);E=i-y;return v.b+=P.substr(t,y,null==E?null:E),s.addChild(O.createPCData(v.b)),++m,i};var ki=function(t){this.output=new k,this.pretty=t};(e["haxe.xml.Printer"]=ki).__name__="haxe.xml.Printer",ki.print=function(t,e){null==e&&(e=!1);var i=new ki(e);return i.writeNode(t,""),i.output.b},ki.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=M.string(e+"<"),t.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":D.toString(t.nodeType)));this.output.b+=M.string(t.nodeName);for(var i=t.attributes();i.hasNext();){var s=i.next();this.output.b+=M.string(" "+s+'="');var n=c.htmlEscape(t.get(s),!0);this.output.b+=M.string(n),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=O.Document&&t.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":D.toString(t.nodeType)));for(var r=0,o=t.children;r<o.length;){var a=o[r++];this.writeNode(a,this.pretty?e+"\t":e)}if(this.output.b+=M.string(e+"</"),t.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":D.toString(t.nodeType)));this.output.b+=M.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==O.Document||t.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":D.toString(t.nodeType)));var l=t.nodeValue;0!=l.length&&(n=e+c.htmlEscape(l),this.output.b+=M.string(n),this.pretty&&(this.output.b+="\n"));break;case 2:if(this.output.b+=M.string(e+"<![CDATA["),t.nodeType==O.Document||t.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":D.toString(t.nodeType)));this.output.b+=M.string(t.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==O.Document||t.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":D.toString(t.nodeType)));var h=t.nodeValue,_=new RegExp("[\n\r\t]+","g".split("u").join(""));h="\x3c!--"+(h=h.replace(_,""))+"--\x3e",this.output.b+=null==e?"null":""+e;n=c.trim(h);this.output.b+=M.string(n),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==O.Document||t.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":D.toString(t.nodeType)));this.output.b+=M.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==O.Document||t.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":D.toString(t.nodeType)));this.output.b+=M.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=O.Document&&t.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":D.toString(t.nodeType)));for(r=0,o=t.children;r<o.length;){a=o[r++];this.writeNode(a,e)}}},hasChildren:function(t){if(t.nodeType!=O.Document&&t.nodeType!=O.Element)throw ii.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":D.toString(t.nodeType)));for(var e=0,i=t.children;e<i.length;){var s=i[e++];switch(s.nodeType){case 0:case 1:return!0;case 2:case 3:if(s.nodeType==O.Document||s.nodeType==O.Element)throw ii.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":D.toString(s.nodeType)));if(0!=c.ltrim(s.nodeValue).length)return!0}}return!1},__class__:ki};var Oi=function(){this.classString="abstract",this.id=Oi.uid++,this.name="",this.position=new ji(0,0),this.velocity=new ji(0,0),this.rotation=0,this.autoRender=!0,this.isGrouped=!1,this.isGroup=!1,this.broadcaster=new rs};(e["ice.GameObject"]=Oi).__name__="ice.GameObject",Oi.prototype={clone:function(){var t=T.createInstance(cs.getClass(this),[]);return t.name=this.name,t.position=this.position.clone(),t.velocity=this.velocity.clone(),t.rotation=this.rotation,t.autoRender=this.autoRender,t},start:function(){},stop:function(){},compile:function(){},render:function(t){},flipVertical:function(t,e){return this},flipHorizontal:function(t,e){return this},scale:function(t){return this},rotate:function(t){},getBounds:function(){return this},drawShapeAt:function(t,e,i,s){},getRoot:function(){return null!=this.parent?this.parent.getRoot():this},getGlobalPosition:function(){return this.isGrouped?this.position.clone().plus(this.parentGroup.getGlobalPosition()):this.position.clone()},importObject:function(t){_s.importProp(this,"name",t,"String"),_s.importProp(this,"position",t,"Vector"),_s.importProp(this,"rotation",t),_s.importProp(this,"autoRender",t,"Boolean"),this.autoRender=!1},_getLocalBounds:function(){var t=this.getGlobalPosition();return{xMin:this.xMin-t.x,xMax:this.xMax-t.x,yMin:this.yMin-t.y,yMax:this.yMax-t.y}},_getParentBounds:function(){var t=this._getLocalBounds();return t.xMin+=this.position.x,t.xMax+=this.position.x,t.yMin+=this.position.y,t.yMax+=this.position.y,t},_cloneProp:function(t,e){e[t]=C.field(this,t)},sound:function(t){null==this._root&&(this._root=this.getRoot()),this._root.broadcaster.broadcastMessage("onSound",t)},__class__:Oi};function Di(){Oi.call(this),this.removeAll()}(e["ice.Container"]=Di).__name__="ice.Container",Di.__super__=Oi,Di.prototype=t(Oi.prototype,{start:function(){Oi.prototype.start.call(this);for(var t=this._children.iterator();t.hasNext();){t.next().start()}},stop:function(){Oi.prototype.stop.call(this);for(var t=this._children.iterator();t.hasNext();){t.next().stop()}},render:function(t){for(var e=this._children.iterator();e.hasNext();){e.next().render(t)}},addObject:function(t){(t.parent=this)._children.h[t.id]=t;var e=this._depths.length;return(this._depths[e]=t).zIndex=e,t},removeObject:function(t){return this._children.remove(t.id),this._depths=this._depths.splice(t.zIndex,1),t},removeAll:function(){this._children=new fi,this._nameToItem=new Si,this._depths=[]},getObject:function(t){return this._children.h[t]},getObjectById:function(t){return this._children.h[t]},getObjectByDepth:function(t){return this._depths[t]},_copyInstanceNames:function(){for(var t=this._children.iterator();t.hasNext();){var e=t.next();Object.prototype.hasOwnProperty.call(e,"name")&&null!=C.field(e,"name")&&""!=C.field(e,"name")&&(this._nameToItem.h[C.field(e,"name")]=e),Object.prototype.hasOwnProperty.call(e,"isGroup")&&e.isGroup&&cs.__cast(e,Di)._copyInstanceNames()}},getObjectByName:function(t){return this._nameToItem.h[t]},getContainerByName:function(t){return this._nameToItem.h[t]},importObject:function(t){Oi.prototype.importObject.call(this,t),this._importObjects(t)},_importObjects:function(t){for(var e=0,i=Pi.resolve(t,"Objects");e<i.length;){var s=i[e];++e;for(var n=s.elements();n.hasNext();){var r=n.next(),o=Ii.resolve(r,"class")?Ai.resolve(r,"class"):Ai.resolve(r,"classString"),a=this._createInstance(o);a.importObject(r),this.addObject(a)}}},_applyPropertyToChildren:function(t){if(Object.prototype.hasOwnProperty.call(this,t))for(var e=this._children.iterator();e.hasNext();){e.next()[t]=C.field(this,t)}},_createInstance:function(t){switch(t){case"Circle":return new Xi;case"CircleBumper":return new Zi;case"ConvexPolygon":return new zi;case"Decal":return new Ri;case"Flipper":return new Wi;case"Group":return new Ni;case"HideOut":return new $i;case"Light":return new Ki;case"MovableObject":return new Yi;case"MultiShape":return new Gi;case"PinballFlipper":return new es;case"Plunger":return new is;case"PolyBumper":return new ts;case"Ramp":return new ss;case"Rectangle":return new Ji;case"RegularPolygon":return new Qi;case"Ring":return new qi;case"Target":return new ns;case"Tilt":return new Fi;case"Tube":return new Hi;default:throw ii.thrown("Class with name: "+t+" was not found. Invalid xml?")}},clone:function(){for(var t=Oi.prototype.clone.call(this),e=this._children.iterator();e.hasNext();){var i=e.next();t.addObject(i.clone())}return t._copyInstanceNames(),t},__class__:Di});function Bi(){Oi.call(this),this.useSymbol=!1,this.symbolID="",this.symbolXScale=100,this.symbolYScale=100,this.symbolRotation=0,this.symbolAlpha=100,this.fillColor=6710886,this.fillAlpha=100,this.lineWidth=1,this.lineColor=0,this.lineAlpha=100}(e["ice.GraphicsObject"]=Bi).__name__="ice.GraphicsObject",Bi.__super__=Oi,Bi.prototype=t(Oi.prototype,{render:function(t){this.mc=t.createEmptyChild("physicsObject_"+this.id,this.zIndex),this.mc.set_x(this.position.x),this.mc.set_y(this.position.y),this._render(this.mc)},_render:function(t){this.useSymbol?(t.createChild(this.symbolID,"symbol",0),t.set_xScale(this.symbolXScale),t.set_yScale(this.symbolYScale),t.set_rotation(this.symbolRotation/Math.PI*180),t.set_alpha(this.symbolAlpha)):this.autoRender&&this.drawShapeAt(t,0,0,this.rotation)},rotate:function(t){this.symbolRotation+=t},scale:function(t){return this.symbolXScale*=t,this.symbolYScale*=t,this},clone:function(){var t=Oi.prototype.clone.call(this);return t.useSymbol=this.useSymbol,t.symbolID=this.symbolID,t.symbolXScale=this.symbolXScale,t.symbolYScale=this.symbolYScale,t.symbolRotation=this.symbolRotation,t.symbolAlpha=this.symbolAlpha,t.fillColor=this.fillColor,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlpha=this.lineAlpha,t},importObject:function(t){Oi.prototype.importObject.call(this,t),_s.importProp(this,"useSymbol",t,"Boolean"),_s.importProp(this,"symbolID",t,"String"),_s.importProp(this,"symbolXScale",t),_s.importProp(this,"symbolYScale",t),_s.importProp(this,"symbolRotation",t),_s.importProp(this,"symbolAlpha",t),_s.importProp(this,"fillColor",t,"Color"),_s.importProp(this,"fillAlpha",t),_s.importProp(this,"lineWidth",t),_s.importProp(this,"lineColor",t,"Color"),_s.importProp(this,"lineAlpha",t)},__class__:Bi});var Ri=function(t,e){null==e&&(e=0),null==t&&(t=0),Bi.call(this),this.position.x=t,this.position.y=e,this.classString="Decal",this.useSymbol=!0};(e["ice.Decal"]=Ri).__name__="ice.Decal",Ri.__super__=Bi,Ri.prototype=t(Bi.prototype,{flipVertical:function(t,e){return null!=t&&(this.position.y=2*t-this.position.y),this.symbolYScale*=-1,this.symbolRotation*=-1,this},flipHorizontal:function(t,e){return null!=t&&(this.position.x=2*t-this.position.x),this.symbolXScale*=-1,this.symbolRotation*=-1,this},__class__:Ri});function Li(t,e){null==e&&(e=0),null==t&&(t=0),Bi.call(this),this.position.x=t,this.position.y=e,this.isEnabled=!0,this.bounceFriction=.2,this.slidingFriction=.02,this._useDefaultBounds=!0}(e["ice.PhysicsObject"]=Li).__name__="ice.PhysicsObject",Li.__super__=Bi,Li.prototype=t(Bi.prototype,{drawShape:function(t){this.drawShapeAt(t,this.position.x,this.position.y,this.rotation)},drawShapeAt:function(t,e,i,s){t.beginFill(this.fillColor,this.fillAlpha),t.lineStyle(this.lineWidth,this.lineColor,this.lineAlpha),this._drawShapeAt(t,e,i,s),t.endFill()},_drawShapeAt:function(t,e,i,s){null==s&&(s=0)},flipVertical:function(t,e){return null!=t&&(this.position.y=2*t-this.position.y),e||(this.symbolYScale*=-1,this.symbolRotation*=-1),this},flipHorizontal:function(t,e){return null!=t&&(this.position.x=2*t-this.position.x),e||(this.symbolXScale*=-1,this.symbolRotation*=-1),this},detectCollision:function(t){return!1},clone:function(){var t=Bi.prototype.clone.call(this);return t.isEnabled=this.isEnabled,t.bounceFriction=this.bounceFriction,t.slidingFriction=this.slidingFriction,t._useDefaultBounds=this._useDefaultBounds,t},getObjectRef:function(t){for(var e=this.parent,i=0,s=t.split(".");i<s.length;){var n=s[i];++i,e="_parent"==n?e.parent:e.getObjectByName(n)}return e},getBounds:function(){return this._useDefaultBounds&&this.getDefaultBounds(),this},getDefaultBounds:function(t){this._getDefaultBounds(this.getGlobalPosition())},_getDefaultBounds:function(t){},importObject:function(t){Bi.prototype.importObject.call(this,t),_s.importProp(this,"enabled",t,"Boolean"),_s.importProp(this,"bounceFriction",t),_s.importProp(this,"slidingFriction",t),this.autoRender=!1},__class__:Li});var Fi=function(){Oi.call(this),this.classString="Tilt",this.tiltAmount=new ji(0,-3),this.keyCode=os.SPACE,this._hasMoved=!1,this._isDown=!1};(e["ice.Tilt"]=Fi).__name__="ice.Tilt",Fi.__super__=Oi,Fi.prototype=t(Oi.prototype,{start:function(){os.addListener(this)},stop:function(){this._isDown&&this.upHandler(),os.removeListener(this)},downHandler:function(){this._isDown||(this._hasMoved=!1,this.getRoot().broadcaster.addListener(this))},upHandler:function(){this._isDown&&(this._isDown=!1)},onKeyDown:function(t){t==this.keyCode&&this.downHandler()},onKeyUp:function(t){t==this.keyCode&&this.upHandler()},onBeforeStepPhysics:function(t){if(this._hasMoved)this.getRoot().broadcaster.removeListener(this);else{for(var e=0,i=this.getRoot().getMoveableObjects();e<i.length;){var s=i[e];++e,s.velocity.minus(this.tiltAmount)}this._hasMoved=!0}},drawShapeAt:function(t,e,i,s){t.createChild("TiltSymbol","tilt",0)},clone:function(){var t=Oi.prototype.clone.call(this);return t.tiltAmount=this.tiltAmount.clone(),t.keyCode=this.keyCode,t},importObject:function(t){Oi.prototype.importObject.call(this,t),_s.importProp(this,"tiltAmount",t,"Vector"),_s.importProp(this,"keyCode",t)},__class__:Fi});var ji=function(t,e){null==e&&(e=0),null==t&&(t=0),this.reset(t,e)};(e["ice.Vector"]=ji).__name__="ice.Vector",ji.max=function(t,e){return new ji(Math.max(t.x,e.x),Math.max(t.y,e.y))},ji.min=function(t,e){return new ji(Math.min(t.x,e.x),Math.min(t.y,e.y))},ji.prototype={toString:function(){return this.x+","+this.y},reset:function(t,e){return null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this},clone:function(){return new ji(this.x,this.y)},plus:function(t){return this.x+=t.x,this.y+=t.y,this},minus:function(t){return this.x-=t.x,this.y-=t.y,this},scale:function(t){return this.x*=t,this.y*=t,this},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){var e=this.getLength();return 0!=e?this.scale(t/e):this.x=t,this},getAngle:function(){return Math.atan2(this.y,this.x)},setAngle:function(t){var e=this.getLength();return this.x=e*Math.cos(t),this.y=e*Math.sin(t),this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),s=this.x*e-this.y*i;return this.y=this.x*i+this.y*e,this.x=s,this},rotateAround:function(t,e){return this.minus(t),this.rotate(e),this.plus(t),this},reverse:function(){return this.x*=-1,this.y*=-1,this},__class__:ji};var Ui=function(t){this._isStarted=!1,this.airFriction=.01,hs.setSymbolFactoryCallback(t),Di.call(this),this.gravity=new ji(0,1),this.isMovableCollisions=!0};(e["ice.containers.Engine"]=Ui).__name__="ice.containers.Engine",Ui.__super__=Di,Ui.prototype=t(Di.prototype,{render:function(t){this.mc=t,Di.prototype.render.call(this,t)},start:function(){this._isStarted||(this._isStarted=!0,this._isPaused=!1,Di.prototype.start.call(this))},stop:function(){this._isStarted&&(this._isStarted=!1,Di.prototype.stop.call(this))},pause:function(){this._isStarted&&(this._isPaused=!this._isPaused)},compile:function(){this._copyInstanceNames(),this._fixedObjects=new fi,this._movableObjects=[];for(var t=this._children.iterator();t.hasNext();){var e=t.next();this.compileObject(e)}var i=0;this._leftBounds=[],this._rightBounds=[],this._topBounds=[],this._bottomBounds=[];for(t=this._fixedObjects.iterator();t.hasNext();){(e=t.next()).getBounds();var s=this._leftBounds[i]=this._bottomBounds[i]=this._topBounds[i]=e;this._rightBounds[i]=s,++i}this._lastIndex=i-1,this._leftBounds.sort(function(t,e){return t.xMax>e.xMax?-1:1}),this._rightBounds.sort(function(t,e){return t.xMin<e.xMin?-1:1}),this._topBounds.sort(function(t,e){return t.yMax>e.yMax?-1:1}),this._bottomBounds.sort(function(t,e){return t.yMin<e.yMin?-1:1});for(var n=0,r=this._movableObjects;n<r.length;){t=r[n];++n,this.compileMovableObject(t)}this.updateMovableObjects()},renderBounds:function(t){for(var e=this._children.iterator();e.hasNext();){var i=e.next();t.lineStyle(1,1193046),t.moveTo(i.xMin,i.yMin),t.lineTo(i.xMin,i.yMax),t.lineTo(i.xMax,i.yMax),t.lineTo(i.xMax,i.yMin),t.lineTo(i.xMin,i.yMin)}},getGlobalPosition:function(){return new ji(0,0)},getRoot:function(){return this},stepPhysics:function(t){null==t&&(t=0),this.broadcaster.broadcastMessage("onBeforeStepPhysics",{engine:this});for(var e=this._activeMovableObjects,i=e.length,s=0;s<e.length;){var n=e[s];++s,n.velocity.plus(this.gravity),n.velocity.scale(1-this.airFriction),n.position.plus(n.velocity),n.rotationSpeed*=1-n.rotationFriction,n.rotation+=n.rotationSpeed}if(this.isMovableCollisions)for(var s=0,r=i-1;s<r;)for(var o=(n=s++)+1,a=i;o<a;){var l=o++;e[n].level==e[l].level&&e[n].detectCollision(e[l])}for(s=0;s<e.length;){n=e[s];++s;var h=n.position.x-n.radius-n.xMin,_=n.position.x+n.radius-n.xMax,c=n.position.y-n.radius-n.yMin,u=n.position.y+n.radius-n.yMax;h+_<0?(this.moveLeftBound(n,h),this.moveRightBound(n,_)):(this.moveRightBound(n,_),this.moveLeftBound(n,h)),c+u<0?(this.moveTopBound(n,c),this.moveBottomBound(n,u)):(this.moveBottomBound(n,u),this.moveTopBound(n,c));for(var p=new fi,d=new fi,g=n.contacts,f=n.activeObjects.iterator();f.hasNext();){var y,m=f.next();if(m.isEnabled){if(null==m.levels)continue;m.levels[n.level]&&m.detectCollision(n)&&(y=m.id,p.h[y]=m,null==g.h[y]?d.h[y]=m:g.remove(y))}}for(var b=g.keys();b.hasNext();){var S=b.next();g.h[S].broadcaster.broadcastMessage("onExit",{fixedObject:g.h[S],movableObject:n})}for(var v=d.keys();v.hasNext();){var w=v.next();d.h[w].broadcaster.broadcastMessage("onEnter",{fixedObject:d.h[w],movableObject:n})}n.contacts=p}this.broadcaster.broadcastMessage("onAfterStepPhysics",{engine:this})},compileObject:function(t){if(null!=C.field(t,"compile")&&t.compile(),t instanceof Ni)for(var e=t._children.iterator();e.hasNext();){var i=e.next();this.compileObject(i)}else t instanceof Vi?this.addFixedObject(t):t instanceof Yi&&this.addMovableObject(t)},compileMovableObject:function(t){t.xMin=-1e4,t.xMax=1e4,t.yMin=-1e4,t.yMax=1e4,t.activeObjects=new fi,t.rightIndex=-1,t.leftIndex=-1,t.bottomIndex=-1,t.topIndex=-1;for(var e=this._fixedObjects.iterator();e.hasNext();){var i=e.next();i.vActive[t.id]=!0,i.hActive[t.id]=!0,t.activeObjects.h[i.id]=i}},updateMovableObjects:function(){this._activeMovableObjects=[];for(var t=0,e=this._movableObjects;t<e.length;){var i=e[t];++t,i.isEnabled&&this._activeMovableObjects.push(i)}},addMovableObject:function(t){return this._movableObjects.push(t),t},addFixedObject:function(t){return(this._fixedObjects.h[t.id]=t).vActive=[],t.hActive=[],t},moveLeftBound:function(t,e){if(t.xMin+=e,e<0)for(;-1<t.leftIndex;){if(!((i=this._leftBounds[t.leftIndex]).xMax>t.xMin))break;i.hActive[t.id]=!0,--t.leftIndex,i.vActive[t.id]&&(t.activeObjects.h[i.id]=i)}else for(;t.leftIndex<this._lastIndex;){var i;if(!((i=this._leftBounds[t.leftIndex+1]).xMax<t.xMin))break;i.hActive[t.id]=!1,++t.leftIndex,i.vActive[t.id]&&t.activeObjects.remove(i.id)}},moveRightBound:function(t,e){if(t.xMax+=e,e<0)for(;t.rightIndex<this._lastIndex;){if(!((i=this._rightBounds[t.rightIndex+1]).xMin>t.xMax))break;i.hActive[t.id]=!1,++t.rightIndex,i.vActive[t.id]&&t.activeObjects.remove(i.id)}else for(;-1<t.rightIndex;){var i;if(!((i=this._rightBounds[t.rightIndex]).xMin<t.xMax))break;i.hActive[t.id]=!0,--t.rightIndex,i.vActive[t.id]&&(t.activeObjects.h[i.id]=i)}},moveTopBound:function(t,e){if(t.yMin+=e,e<0)for(;-1<t.topIndex;){if(!((i=this._topBounds[t.topIndex]).yMax>t.yMin))break;i.vActive[t.id]=!0,--t.topIndex,i.hActive[t.id]&&(t.activeObjects.h[i.id]=i)}else for(;t.topIndex<this._lastIndex;){var i;if(!((i=this._topBounds[t.topIndex+1]).yMax<t.yMin))break;i.vActive[t.id]=!1,++t.topIndex,i.hActive[t.id]&&t.activeObjects.remove(i.id)}},moveBottomBound:function(t,e){if(t.yMax+=e,e<0)for(;t.bottomIndex<this._lastIndex;){if(!((i=this._bottomBounds[t.bottomIndex+1]).yMin>t.yMax))break;i.vActive[t.id]=!1,++t.bottomIndex,i.hActive[t.id]&&t.activeObjects.remove(i.id)}else for(;-1<t.bottomIndex;){var i;if(!((i=this._bottomBounds[t.bottomIndex]).yMin<t.yMax))break;i.vActive[t.id]=!0,--t.bottomIndex,i.hActive[t.id]&&(t.activeObjects.h[i.id]=i)}},importXml:function(t){var e=t.firstElement();if(e.nodeType!=O.Document&&e.nodeType!=O.Element)throw ii.thrown("Invalid nodeType "+(null==e.nodeType?"null":D.toString(e.nodeType)));var i=e;_s.importProp(this,"gravity",i,"Vector"),_s.importProp(this,"airFriction",i),Vi.defaultBounceFriction=parseFloat(Ai.resolve(i,"bounceFriction")),Vi.defaultSlidingFriction=parseFloat(Ai.resolve(i,"slidingFriction")),this._importObjects(i)},getMoveableObjects:function(){return this._movableObjects},__class__:Ui});var Ni=function(t,e){null==e&&(e=0),null==t&&(t=0),Di.call(this),this.position.x=t,this.position.y=e,this.isGroup=!0,this.isGrouped=!1};(e["ice.containers.Group"]=Ni).__name__="ice.containers.Group",Ni.__super__=Di,Ni.prototype=t(Di.prototype,{addObject:function(t){return t.isGrouped=!0,t.parentGroup=this,Di.prototype.addObject.call(this,t)},removeObject:function(t){return t.isGrouped=!1,t.parentGroup=null,Di.prototype.removeObject.call(this,t)},compile:function(){Di.prototype.compile.call(this);for(var t=this._children.iterator();t.hasNext();){t.next().compile()}},flipVertical:function(t,e){null==t&&(t=this.position.y);for(var i=this._children.iterator();i.hasNext();){i.next().flipVertical(0)}return this.position.y=2*t-this.position.y,this},flipHorizontal:function(t,e){null==t&&(t=this.position.x);for(var i=this._children.iterator();i.hasNext();){i.next().flipHorizontal(0)}return this.position.x=2*t-this.position.x,this},scale:function(t){for(var e=this._children.iterator();e.hasNext();){var i=e.next();i.scale(t),i.position.scale(t)}return this},rotate:function(t){for(var e=this._children.iterator();e.hasNext();){var i=e.next();i.rotate(t),i.position.rotate(t)}},render:function(t){this.mc=t.createEmptyChild("physicsObject_"+this.id,this.zIndex),this.mc.set_x(this.position.x),this.mc.set_y(this.position.y),Di.prototype.render.call(this,this.mc)},getBounds:function(){this.xMin=999999,this.xMax=-999999,this.yMin=999999,this.yMax=-999999;for(var t=this._children.iterator();t.hasNext();){var e=t.next();e.getBounds(),this.xMin=Math.min(this.xMin,e.xMin),this.xMax=Math.max(this.xMax,e.xMax),this.yMin=Math.min(this.yMin,e.yMin),this.yMax=Math.max(this.yMax,e.yMax)}return this},__class__:Ni});var Gi=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),Ni.call(this,t,e),this.rotation=i,this.isGroup=!1};(e["ice.containers.groups.MultiShape"]=Gi).__name__="ice.containers.groups.MultiShape",Gi.__super__=Ni,Gi.prototype=t(Ni.prototype,{clone:function(){var t=cs.__cast(Ni.prototype.clone.call(this),Gi);return t.bounceFriction=this.bounceFriction,t.slidingFriction=this.slidingFriction,t.useSymbol=this.useSymbol,t.symbolID=this.symbolID,t.symbolXScale=this.symbolXScale,t.symbolYScale=this.symbolYScale,t.symbolRotation=this.symbolRotation,t.symbolAlpha=this.symbolAlpha,t.fillColor=this.fillColor,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlpha=this.lineAlpha,t.startLevel=this.startLevel,t.endLevel=this.endLevel,t.enabled=this.enabled,t.transparent=this.transparent,t},compile:function(){this._applyPropertyToChildren("bounceFriction"),this._applyPropertyToChildren("slidingFriction"),this._applyPropertyToChildren("fillColor"),this._applyPropertyToChildren("fillAlpha"),this._applyPropertyToChildren("lineWidth"),this._applyPropertyToChildren("lineColor"),this._applyPropertyToChildren("lineAlpha"),this._applyPropertyToChildren("startLevel"),this._applyPropertyToChildren("endLevel"),this._applyPropertyToChildren("enabled"),this._applyPropertyToChildren("transparent"),Ni.prototype.compile.call(this)},render:function(t){this.mc=t.createEmptyChild("physicsObject_"+this.id,this.zIndex),this.mc.set_x(this.position.x),this.mc.set_y(this.position.y),this.useSymbol?this.mc.createChild(this.symbolID,"symbol",0):this.autoRender&&this.drawShapeAt(this.mc,0,0,0)},scale:function(t){return this.symbolXScale*=t,this.symbolYScale*=t,this},rotate:function(t){this.symbolRotation+=t},flipVertical:function(t,e){return null!=t&&(this.position.y=2*t-this.position.y),this.symbolYScale*=-1,this},flipHorizontal:function(t,e){return null!=t&&(this.position.x=2*t-this.position.x),this.symbolXScale*=-1,this},drawShape:function(t){this.drawShapeAt(t,this.position.x,this.position.y,0)},drawShapeAt:function(t,e,i,s){for(var n=this._children.iterator();n.hasNext();){var r=n.next();r.drawShapeAt(t,e+r.position.x,i+r.position.y,r.rotation)}},importObject:function(t){Ni.prototype.importObject.call(this,t),_s.importProp(this,"useSymbol",t,"Boolean"),_s.importProp(this,"symbolID",t),_s.importProp(this,"symbolXScale",t),_s.importProp(this,"symbolYScale",t),_s.importProp(this,"symbolRotation",t),_s.importProp(this,"symbolAlpha",t),_s.importProp(this,"autoRender",t,"Boolean"),_s.importProp(this,"fillColor",t,"Color"),_s.importProp(this,"fillAlpha",t),_s.importProp(this,"lineWidth",t),_s.importProp(this,"lineColor",t,"Color"),_s.importProp(this,"lineAlpha",t),_s.importProp(this,"startLevel",t),_s.importProp(this,"endLevel",t),_s.importProp(this,"enabled",t,"Boolean"),_s.importProp(this,"transparent",t,"Boolean"),_s.importProp(this,"bounceFriction",t),_s.importProp(this,"slidingFriction",t)},__class__:Gi});var Hi=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.wallWidth=10,this.width=50,Gi.call(this,t,e,i),this.width=50,this.wallWidth=10,this._segments=[],this._appendSegment(),this._appendSegment().type=1,this.classString="Tube"};(e["ice.containers.groups.multishapes.Tube"]=Hi).__name__="ice.containers.groups.multishapes.Tube",Hi.__super__=Gi,Hi.prototype=t(Gi.prototype,{clone:function(){var t=cs.__cast(Gi.prototype.clone.call(this),Hi);t._segments=[];for(var e=0,i=this._segments;e<i.length;){var s=i[e];++e;var n={};t._segments.push(n);for(var r=0,o=C.fields(n);r<o.length;){var a=o[r];++r,n[a]=C.field(s,a)}}return this._cloneProp("rotation",t),this._cloneProp("width",t),this._cloneProp("wallWidth",t),t},_insertSegment:function(t){var e={type:0,len:100,radius:100,angle:Math.PI/4,left:!0,right:!0,leftWall:null,rightWall:null};return this._segments.splice(t,0,e),e},_appendSegment:function(){return this._insertSegment(this._segments.length)},_removeSegment:function(t){this._segments.splice(t,1)},flipVertical:function(t,e){return Gi.prototype.flipVertical.call(this,t),this.rotation=Math.PI-this.rotation,this._mirror(),this},flipHorizontal:function(t,e){return Gi.prototype.flipHorizontal.call(this,t),this.rotation*=-1,this._mirror(),this},_mirror:function(){for(var t=0,e=this._segments;t<e.length;){var i=e[t];++t,i.radius*=-1;var s=i.left;i.left=i.right,i.right=s}},scale:function(t){Gi.prototype.scale.call(this,t);for(var e=0,i=this._segments;e<i.length;){var s=i[e];++e,0==s.type?s.len*=t:s.radius*=t}return this.width*=t,this.wallWidth*=t,this},rotate:function(t){Gi.prototype.rotate.call(this,t),this.rotation+=t},compile:function(){this.removeAll(),this._renderPieces=[];for(var t=new ji(0,0),e=this.rotation,i=this.width,s=this.wallWidth,n=0,r=this._segments;n<r.length;){var o,a,l,h,_,c,u,p,d,g,f,y=r[n];++n,y.leftWall=null,y.rightWall=null,t=0==y.type?(o=new ji(i/2+s/2,y.len/2).rotate(e).plus(t),a=new ji(-i/2-s/2,y.len/2).rotate(e).plus(t),l=new ji(0,y.len/2).rotate(e).plus(t),y.left&&(h=new Ji(o.x,o.y,e,s,y.len),this.addObject(h),y.leftWall=h),y.right&&(_=new Ji(a.x,a.y,e,s,y.len),this.addObject(_),y.rightWall=_),this._renderPieces.push(new Ji(l.x,l.y,e,i,y.len)),new ji(0,y.len).rotate(e).plus(t)):(c=new ji(y.radius,0).rotate(e).plus(t),u=e+(0<y.radius?Math.PI-y.angle:0),p=Math.abs(y.radius),y.left&&(d=new qi(c.x,c.y,u,y.angle,p-i/2-s,p-i/2,!1),this.addObject(d),y.leftWall=d),y.right&&(g=new qi(c.x,c.y,u,y.angle,p+i/2,p+i/2+s,!1),this.addObject(g),y.rightWall=g),this._renderPieces.push(new qi(c.x,c.y,u,y.angle,p-i/2,p+i/2)),e+=(y.radius<0?1:-1)*y.angle,f=0<y.radius?Math.PI+e:e,c.plus(new ji(p,0).setAngle(f)))}Gi.prototype.compile.call(this)},drawShapeAt:function(t,e,i,s){Gi.prototype.drawShapeAt.call(this,t,e,i,s);for(var n=0,r=this._renderPieces;n<r.length;){var o=r[n];++n;var a=o.clone();a.fillColor=this.fillColor,a.fillAlpha=this.fillAlpha/5,a.drawShapeAt(t,e+a.position.x,i+a.position.y,a.rotation)}},importObject:function(t){Gi.prototype.importObject.call(this,t),_s.importProp(this,"width",t),_s.importProp(this,"wallWidth",t);var e=Ti.resolve(t,"Segments").elements();this._segments=[];for(var i=e;i.hasNext();){var s=i.next(),n=this._appendSegment();n.type=M.parseInt(Ai.resolve(s,"type")),n.left="true"==Ai.resolve(s,"left"),n.right="true"==Ai.resolve(s,"right"),n.len=parseFloat(Ai.resolve(s,"len")),n.radius=parseFloat(Ai.resolve(s,"radius")),n.angle=parseFloat(Ai.resolve(s,"angle"))}},__class__:Hi});var Ki=function(t,e){null==e&&(e=0),null==t&&(t=0),Ri.call(this,t,e),this.classString="Light",this.symbolID="Light",this.state=!0};(e["ice.decals.Light"]=Ki).__name__="ice.decals.Light",Ki.__super__=Ri,Ki.prototype=t(Ri.prototype,{setState:function(t){this.state=t,null!=this.mc&&(this.useSymbol?this.mc.gotoAndPlay(t?"on":"off"):this.mc.set_alpha(t?100:25))},start:function(){this._initState=this.state},stop:function(){this.setState(this._initState)},clone:function(){var t=Ri.prototype.clone.call(this);return t.state=this.state,t},importObject:function(t){Ri.prototype.importObject.call(this,t),_s.importProp(this,"state",t,"Boolean")},__class__:Ki});var Vi=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.endLevel=0,this.startLevel=0,this.forceMultiplier=1,this.rotationSpeed=0,this.transparent=!1,this.nested=!1,Li.call(this,t,e),this.bounceFriction=Vi.defaultBounceFriction,this.slidingFriction=Vi.defaultSlidingFriction,null!=i&&(this.rotation=i)};(e["ice.physicobjects.FixedObject"]=Vi).__name__="ice.physicobjects.FixedObject",Vi.__super__=Li,Vi.prototype=t(Li.prototype,{clone:function(){var t=cs.__cast(Li.prototype.clone.call(this),Vi);return this._cloneProp("enabled",t),this._cloneProp("nested",t),this._cloneProp("transparent",t),this._cloneProp("rotation",t),this._cloneProp("rotationSpeed",t),this._cloneProp("forceMultiplier",t),this._cloneProp("startLevel",t),this._cloneProp("endLevel",t),this._cloneProp("zIndex",t),this._cloneProp("useDefaultBounds",t),this._cloneProp("xMin",t),this._cloneProp("xMax",t),this._cloneProp("yMin",t),this._cloneProp("yMax",t),t},rotate:function(t){Li.prototype.rotate.call(this,t),this.rotation+=t},compile:function(){this.levels=[];for(var t=0,e=this.endLevel+1;t<e;){var i=t++;this.levels[i]=i>=this.startLevel}},detectCollision:function(t){return this._detectCollision(t,this.getGlobalPosition())},_detectCollision:function(t,e){return!1},resolveCollision:function(t,e,i){if(this.nested)return this.parent.resolveCollision(t,e,i);if(this.transparent)return!0;var s,n,r,o,a,l,h=t.velocity.rotate(-e),_=this.velocity.clone().plus(this.getRoot().velocity.clone().scale(1/this.forceMultiplier));h.x;h.x*=(h.x<0?-1:1)*(1-this.bounceFriction),null!=i&&(t.position=i.clone().plus(new ji(0,t.radius).setAngle(e)),0!=this.rotationSpeed&&(s=as.getDistance(i,this.position)*this.rotationSpeed,n=as.getAngle(this.position,i)-Math.PI/2,_.x+=Math.cos(n)*s,_.y+=Math.sin(n)*s)),0==_.x&&0==_.y||(_.rotate(-e),0<_.x&&(h.x+=_.x*this.forceMultiplier*(1-this.bounceFriction))),t.isRollingEnabled?(r=h.y-t.rotationSpeed*t.radius-_.y,o=t.mass*r,a=.7*t.mass,l=Math.abs(o)>a?.6*t.mass*(r<0?1:-1):-o,h.y+=l/t.mass,t.rotationSpeed-=l/t.mass/t.radius):h.y-=(h.y-_.y)*this.slidingFriction;var c={angle:e,bounceSpeed:h.x,slidingSpeed:h.y,fixedObject:this,movableObject:t};return h.rotate(e),t.contactAngle=e,this.broadcaster.broadcastMessage("onCollision",c),!0},importObject:function(t){Li.prototype.importObject.call(this,t),_s.importProp(this,"enabled",t,"Boolean"),_s.importProp(this,"transparent",t,"Boolean"),_s.importProp(this,"forceMultiplier",t),_s.importProp(this,"rotation",t),_s.importProp(this,"startLevel",t),_s.importProp(this,"endLevel",t)},__class__:Vi});var Yi=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.isStarted=!1,this.rotationFriction=.02,this.rotationSpeed=0,this.rollingGrip=.5,this.isRollingEnabled=!1,this.mass=1,this.contactAngle=0,this.level=0,this.maxSpeed=30,this.radius=20,Li.call(this,t,e),null!=i&&(this.radius=i),this.contacts=new fi,this.fillColor=0,this.bounceFriction=.3,this.rotation=0,this.classString="MovableObject"};(e["ice.physicobjects.MovableObject"]=Yi).__name__="ice.physicobjects.MovableObject",Yi.__super__=Li,Yi.prototype=t(Li.prototype,{setEnabled:function(t){this.isEnabled=t,this.parent.updateMovableObjects(),this.isStarted&&(t?this.parent.broadcaster.addListener(this):this.parent.broadcaster.removeListener(this))},start:function(){this.isStarted||(this.isStarted=!0,this._initVelocity=this.velocity.clone(),this._initPosition=this.position.clone(),this._initLevel=this.level,this.isEnabled&&this.parent.broadcaster.addListener(this))},stop:function(){this.isStarted&&(this.isStarted=!1,this.velocity=this._initVelocity,this.position=this._initPosition,this.level=this._initLevel,this.mc.set_x(this.position.x),this.mc.set_y(this.position.y),this.getDefaultBounds(),this.isEnabled&&this.parent.broadcaster.removeListener(this))},clone:function(){var t=cs.__cast(Li.prototype.clone.call(this),Yi);return t.radius=this.radius,t.fillColor=this.fillColor,t.level=this.level,t.contactAngle=this.contactAngle,t.mass=this.mass,t},scale:function(t){return Li.prototype.scale.call(this,t),this.radius*=t,this},hasContactWith:function(t){return this.contacts.h.hasOwnProperty(t.id)},hasContact:function(){for(var t=this.contacts.iterator();t.hasNext();){t.next();return!0}return!1},_getDefaultBounds:function(t){this.xMin=t.x-this.radius,this.xMax=t.x+this.radius,this.yMin=t.y-this.radius,this.yMax=t.y+this.radius},_drawShapeAt:function(t,e,i,s){null==s&&(s=0),t.drawCircle(e,i,this.radius)},onAfterStepPhysics:function(t){this.mc.set_x(this.position.x),this.mc.set_y(this.position.y),this.mc.set_rotation(this.rotation/Math.PI*180),this.velocity.getLength()>this.maxSpeed&&this.velocity.setLength(this.maxSpeed)},detectCollision:function(t){var e=t,i=this.radius+e.radius-as.getDistance(this.position,e.position);if(i<=0)return!1;var s=Math.PI/2-as.getAngle(e.position,this.position);this.velocity.rotate(s),this.position.rotate(s),e.velocity.rotate(s),e.position.rotate(s);var n,r=Math.abs(this.mass*this.velocity.y-e.mass*e.velocity.y),o=this.mass/(this.mass+e.mass),a={bounceSpeed:this.velocity.y-e.velocity.y,angle:s,movableObject1:this,movableObject2:e};return this.position.y-=i*(1-o),this.velocity.y-=r/this.mass*(1-this.bounceFriction),this.velocity.x*=1-this.slidingFriction,e.position.y+=i*o,e.velocity.y+=r/e.mass*(1-this.bounceFriction),e.velocity.x*=1-this.slidingFriction,this.isRollingEnabled&&(0,n=-(e.rotationSpeed*e.radius-this.rotationSpeed*this.radius)/5,this.velocity.x+=n,this.rotationSpeed-=n/this.radius,e.velocity.x-=n,e.rotationSpeed+=n/e.radius),this.velocity.rotate(-s),this.position.rotate(-s),e.velocity.rotate(-s),e.position.rotate(-s),this.getRoot().broadcaster.broadcastMessage("onMovableCollision",a),!0},importObject:function(t){Li.prototype.importObject.call(this,t),_s.importProp(this,"radius",t),_s.importProp(this,"velocity",t,"Vector"),_s.importProp(this,"maxSpeed",t),_s.importProp(this,"dragForce",t),_s.importProp(this,"dragFriction",t),_s.importProp(this,"level",t),_s.importProp(this,"mass",t)},__class__:Yi});var Xi=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.radius=40,Vi.call(this,t,e),null!=i&&(this.radius=i),this.classString="Circle"};(e["ice.physicobjects.fixedobjects.Circle"]=Xi).__name__="ice.physicobjects.fixedobjects.Circle",Xi.__super__=Vi,Xi.prototype=t(Vi.prototype,{clone:function(){var t=cs.__cast(Vi.prototype.clone.call(this),Xi);return this._cloneProp("radius",t),t},scale:function(t){return Vi.prototype.scale.call(this,t),this.radius*=t,this},_getDefaultBounds:function(t){this.xMin=t.x-this.radius,this.xMax=t.x+this.radius,this.yMin=t.y-this.radius,this.yMax=t.y+this.radius},_detectCollision:function(t,e){if(t.radius+this.radius-as.getDistance(t.position,e)<0)return!1;var i=as.getAngle(t.position,e),s=e.clone().plus(new ji(0,this.radius).setAngle(i));return this.resolveCollision(t,i,s)},_drawShapeAt:function(t,e,i,s){null==s&&(s=0),t.drawCircle(e,i,this.radius)},importObject:function(t){Vi.prototype.importObject.call(this,t),_s.importProp(this,"radius",t)},__class__:Xi});var zi=function(t,e,i,s,n){null==e&&(e=0),null==t&&(t=0),this.border=10,Vi.call(this,t,e,i),null!=s&&(this.border=s),this.points=n,null==this.points&&(this.points=[new ji(-30,-30),new ji(-30,30),new ji(30,-30),new ji(30,30)]),this.compile(),this.classString="ConvexPolygon"};(e["ice.physicobjects.fixedobjects.ConvexPolygon"]=zi).__name__="ice.physicobjects.fixedobjects.ConvexPolygon",zi.__super__=Vi,zi.prototype=t(Vi.prototype,{clone:function(){var t=cs.__cast(Vi.prototype.clone.call(this),zi);this._cloneProp("border",t),t.points=[];for(var e=0,i=this.points;e<i.length;){var s=i[e];++e,t.points.push(s.clone())}return t},scale:function(t){Vi.prototype.scale.call(this,t);for(var e=0,i=this.points;e<i.length;){var s=i[e];++e,s.scale(t)}return this.border*=t,this},flipVertical:function(t,e){Vi.prototype.flipVertical.call(this,t);for(var i=0,s=this.points;i<s.length;){var n=s[i];++i,n.y*=-1}return this.rotation*=-1,this},flipHorizontal:function(t,e){Vi.prototype.flipHorizontal.call(this,t),si.trace("h",{fileName:"src/ice/physicobjects/fixedobjects/ConvexPolygon.hx",lineNumber:72,className:"ice.physicobjects.fixedobjects.ConvexPolygon",methodName:"flipHorizontal"});for(var i=0,s=this.points;i<s.length;){var n=s[i];++i,n.x*=-1}return this.rotation*=-1,this},compile:function(){Vi.prototype.compile.call(this);for(var t=this.points.length,e=new ji(0,0),i=0,s=t;i<s;){var n=i++;e.plus(this.points[n])}var r=this.middle=e.scale(1/t);this.points.sort(function(t,e){var i=as.fixAngle(t.clone().minus(r).getAngle());return as.fixAngle(e.clone().minus(r).getAngle())<i?1:-1}),this.segments=[];for(i=0,s=t;i<s;){var n=i++,o=this.segments[n]={};o.p1=this.points[n],o.p2=this.points[(n+1)%t];var a=o.p1.clone().minus(r),l=o.p2.clone().minus(r);for(o.startAngle=a.getAngle(),o.endAngle=l.getAngle();o.startAngle<0;)o.startAngle+=2*Math.PI;for(;o.endAngle<o.startAngle;)o.endAngle+=2*Math.PI;o.lineAngle=as.getAngle(l,a);var h=a.clone().rotate(-o.lineAngle),_=l.clone().rotate(-o.lineAngle);o.y=h.y,o.x1=h.x,o.x2=_.x}},_getDefaultBounds:function(t){for(var e=new ji(-99999,-99999),i=new ji(99999,99999),s=0,n=this.points;s<n.length;){var r=n[s];++s;ji.max(e,r.clone().rotate(this.rotation)),ji.min(i,r.clone().rotate(this.rotation))}e.plus(t),i.plus(t),this.xMin=i.x-this.border,this.xMax=e.x+this.border,this.yMin=i.y-this.border,this.yMax=e.y+this.border},_detectCollision:function(t,e){for(var i=t,s=i.position.clone().minus(e).rotate(-this.rotation).minus(this.middle),n=as.fixAngle(s.getAngle()),r=0,o=this.segments;r<o.length;){var a=o[r];++r;var l=n<a.startAngle?n+2*Math.PI:n;if(a.startAngle<=l&&a.endAngle>=l){if(s.rotate(-a.lineAngle),s.y+i.radius>a.y-this.border){if(s.x>a.x1&&s.x<a.x2){s.y=a.y-this.border;var h=a.lineAngle-Math.PI/2+this.rotation,_=s.rotate(a.lineAngle).plus(this.middle).rotate(this.rotation).plus(e);return this.resolveCollision(i,h,_)}if(s.x>a.x1-i.radius-this.border&&s.x<a.x2+i.radius+this.border){var c=new ji(s.x<0?a.x1:a.x2,a.y);c.rotate(a.lineAngle).plus(this.middle).rotate(this.rotation).plus(e);var u=new Xi(c.x,c.y,this.border);return u.parent=this,u.nested=!0,u.detectCollision(i)}}return!1}}return!1},_drawShapeAt:function(t,e,i,s){null==s&&(s=0),this.compile();this.middle.clone().rotate(this.rotation);var n=this.points[0].clone().plus(new ji(0,this.border).setAngle(this.segments[0].lineAngle-Math.PI/2)).rotate(this.rotation);t.moveTo(n.x+e,n.y+i);for(var r=this.points.length,o=0,a=r;o<a;){for(var l=o++,h=this.segments[l],_=this.segments[(1+l)%r],n=this.points[(1+l)%r].clone().plus(new ji(0,this.border).setAngle(h.lineAngle-Math.PI/2)).rotate(this.rotation),c=h.lineAngle-Math.PI/2+this.rotation,u=_.lineAngle-Math.PI/2+this.rotation;u<c;)u+=2*Math.PI;t.lineTo(n.x+e,n.y+i),t.arcTo(c,u,this.border)}},importObject:function(t){Vi.prototype.importObject.call(this,t),_s.importProp(this,"border",t),this.points=[];for(var e=Ai.resolve(t,"points").split("|"),i=0;i<e.length;){var s=e[i];++i;var n=s.split(",");this.points.push(new ji(parseFloat(n[0]),parseFloat(n[1])))}},__class__:zi});var Wi=function(t,e,i,s,n,r){null==e&&(e=0),null==t&&(t=0),this.flatLength=80,this.radius2=15,this.radius1=30,Vi.call(this,t,e,i),null!=s&&(this.radius1=s),null!=n&&(this.radius2=n),null!=r&&(this.flatLength=r),this.classString="Flipper"};(e["ice.physicobjects.fixedobjects.Flipper"]=Wi).__name__="ice.physicobjects.fixedobjects.Flipper",Wi.__super__=Vi,Wi.prototype=t(Vi.prototype,{clone:function(){var t=cs.__cast(Vi.prototype.clone.call(this),Wi);return this._cloneProp("radius1",t),this._cloneProp("radius2",t),this._cloneProp("flatLength",t),t},scale:function(t){return Vi.prototype.scale.call(this,t),this.radius1*=t,this.radius2*=t,this.flatLength*=t,this},flipVertical:function(t,e){return Vi.prototype.flipVertical.call(this,t,e),this.rotation*=-1,this},flipHorizontal:function(t,e){return Vi.prototype.flipHorizontal.call(this,t,e),this.rotation=Math.PI-this.rotation,this},_getDefaultBounds:function(t){var e=new ji(this.flatLength,0).setAngle(this.rotation).plus(t);this.xMin=Math.min(t.x-this.radius1,e.x-this.radius2),this.xMax=Math.max(t.x+this.radius1,e.x+this.radius2),this.yMin=Math.min(t.y-this.radius1,e.y-this.radius2),this.yMax=Math.max(t.y+this.radius1,e.y+this.radius2)},_detectCollision:function(t,e){var i=e.x,s=this.radius1,n=this.radius2,r=t.radius,o=t.position.clone().rotateAround(e,-this.rotation);if(o.x+r>i-s&&o.x-r<i+this.flatLength+n){var a=Math.max(s,n),l=e.y;if(o.y+r>l-a&&o.y-r<l+a){var h,_,c,u,p=n-s,d=Math.sqrt(this.flatLength*this.flatLength-p*p),g=Math.atan2(p,Math.abs(d));if(null!=this.tweak&&this.tweak(o,l),u=o.y<l?(h=g-this.rotation,c=(_=i)+d,1):(h=Math.PI-g-this.rotation,_=(c=i)-d,-1),o.rotateAround(e,this.rotation),o.rotateAround(e,h),o.y+r>l-s){if(!(o.x>_&&o.x<c)){var f=0<(i-o.x)*u;t.position=o.rotateAround(e,-h);var y=new Xi(0,0,0);return y.nested=!0,y.parent=this,f?(y.position=new ji(i,l),y.radius=s):(y.position=new ji(i+this.flatLength*Math.cos(this.rotation),l+this.flatLength*Math.sin(this.rotation)),y.radius=n),y.detectCollision(t)}if(o.y+r>l-s){var m=new ji(o.x,l-s).rotateAround(e,-h);return this.resolveCollision(t,-h-Math.PI/2,m)}}}}return!1},_drawShapeAt:function(t,e,i,s){null==s&&(s=0);var n=new ji(e,i),r=new ji(0,this.flatLength).setAngle(s).plus(n),o=this.radius2-this.radius1,a=Math.atan2(o,Math.sqrt(Math.abs(this.flatLength*this.flatLength-o*o))),l=Math.PI/2+a,h=new ji(0,this.radius1).rotate(s+a).plus(n),_=new ji(0,-this.radius2).rotate(s-a).plus(r);t.moveTo(h.x,h.y),t.arcTo(s+l,s-l+2*Math.PI,this.radius1),t.lineTo(_.x,_.y),t.arcTo(s-l,s+l,this.radius2),t.lineTo(h.x,h.y)},importObject:function(t){Vi.prototype.importObject.call(this,t),_s.importProp(this,"radius1",t),_s.importProp(this,"radius2",t),_s.importProp(this,"flatLength",t)},__class__:Wi});var Ji=function(t,e,i,s,n){null==e&&(e=0),null==t&&(t=0),this.height=80,this.width=80,Vi.call(this,t,e,i),null!=n&&(this.height=n),null!=s&&(this.width=s),this.classString="Rectangle"};(e["ice.physicobjects.fixedobjects.Rectangle"]=Ji).__name__="ice.physicobjects.fixedobjects.Rectangle",Ji.__super__=Vi,Ji.prototype=t(Vi.prototype,{clone:function(){var t=cs.__cast(Vi.prototype.clone.call(this),Ji);return this._cloneProp("width",t),this._cloneProp("height",t),t},scale:function(t){return Vi.prototype.scale.call(this,t),this.width*=t,this.height*=t,this},flipVertical:function(t,e){return Vi.prototype.flipVertical.call(this,t),this.rotation=Math.PI-this.rotation,this},flipHorizontal:function(t,e){return Vi.prototype.flipHorizontal.call(this,t),this.rotation*=-1,this},_getDefaultBounds:function(t){var e=new ji(this.width/2,this.height/2);e.rotate(this.rotation);var i=new ji(this.width/2,-this.height/2);i.rotate(this.rotation);var s=Math.max(Math.abs(e.x),Math.abs(i.x)),n=Math.max(Math.abs(e.y),Math.abs(i.y));this.xMin=t.x-s,this.xMax=t.x+s,this.yMin=t.y-n,this.yMax=t.y+n},_detectCollision:function(t,e){var i=t.position.clone().rotateAround(e,-this.rotation),s=t.radius,n=e.x-this.width/2-s,r=e.x+this.width/2+s;if(i.x<r&&i.x>n){var o=e.y-this.height/2-s,a=e.y+this.height/2+s;if(i.y<a&&i.y>o){var l=new ji,h=new ji,_=(new ji,i.y<e.y?(h.y=o-i.y,l.y=o+s,this.rotation-.5*Math.PI):(h.y=i.y-a,l.y=a-s,this.rotation+.5*Math.PI)),c=i.x<e.x?(h.x=n-i.x,l.x=n+s,this.rotation+Math.PI):(h.x=i.x-r,l.x=r-s,this.rotation);if(!(-h.x<s&&-h.y<s)){if(h.x>h.y){p=new ji(l.x,i.y).rotateAround(e,this.rotation);return this.resolveCollision(t,c,p)}p=new ji(i.x,l.y).rotateAround(e,this.rotation);return this.resolveCollision(t,_,p)}if(0<s-as.getDistance(l,i)){var u=this.rotation+as.getAngle(i,l),p=l.rotateAround(e,this.rotation);return this.resolveCollision(t,u,p)}}}return!1},_drawShapeAt:function(t,e,i,s){null==s&&(s=0);var n=[],r=this.width/2,o=this.height/2,a=new ji(e,i);n[0]=new ji(-r,-o).rotate(s).plus(a),n[1]=new ji(r,-o).rotate(s).plus(a),n[2]=new ji(r,o).rotate(s).plus(a),n[3]=new ji(-r,o).rotate(s).plus(a),t.drawPoly(n)},importObject:function(t){Vi.prototype.importObject.call(this,t),_s.importProp(this,"width",t),_s.importProp(this,"height",t)},__class__:Ji});var Qi=function(t,e,i,s,n){null==n&&(n=5),null==s&&(s=100),null==e&&(e=0),null==t&&(t=0),Vi.call(this,t,e,i),this.radius=s,this.sides=n,this.classString="RegularPolygon"};(e["ice.physicobjects.fixedobjects.RegularPolygon"]=Qi).__name__="ice.physicobjects.fixedobjects.RegularPolygon",Qi.__super__=Vi,Qi.prototype=t(Vi.prototype,{clone:function(){var t=cs.__cast(Vi.prototype.clone.call(this),Qi);return this._cloneProp("radius",t),this._cloneProp("sides",t),t},scale:function(t){return Vi.prototype.scale.call(this,t),this.radius*=t,this},flipVertical:function(t,e){return Vi.prototype.flipVertical.call(this,t),this.rotation*=-1,this},flipHorizontal:function(t,e){return Vi.prototype.flipHorizontal.call(this,t),this.rotation=Math.PI-this.rotation,this},_getDefaultBounds:function(t){var e=2*Math.PI/this.sides;this.xMax=t.x+Math.cos(Math.round((0-this.rotation)/e)*e+this.rotation)*this.radius,this.xMin=t.x+Math.cos(Math.round((Math.PI-this.rotation)/e)*e+this.rotation)*this.radius,this.yMax=t.y+Math.sin(Math.round((Math.PI/2-this.rotation)/e)*e+this.rotation)*this.radius,this.yMin=t.y+Math.sin(Math.round((1.5*Math.PI-this.rotation)/e)*e+this.rotation)*this.radius},_detectCollision:function(t,e){var i=Math.PI/this.sides,s=Math.cos(i)*this.radius,n=Math.sin(i)*this.radius,r=t.position.clone().minus(e),i=as.fixAngle(r.getAngle()-this.rotation),o=Math.floor(i/(2*Math.PI/this.sides)),a=2*Math.PI*((o+.5)/this.sides)+this.rotation;if(r.rotate(-a),0<s+t.radius-r.x){if(Math.abs(r.y)<n)return r.x=s,this.resolveCollision(t,a,r.rotate(a).plus(e));var l=new ji(s,n*(r.y<0?-1:1));if(0<t.radius-as.getDistance(r,l)){var h=as.getAngle(r,l);return this.resolveCollision(t,a+h,l.rotate(a).plus(e))}}return!1},_drawShapeAt:function(t,e,i,s){null==s&&(s=0),t.drawRegPoly(e,i,this.radius,this.sides,s)},importObject:function(t){Vi.prototype.importObject.call(this,t),_s.importProp(this,"radius",t),_s.importProp(this,"sides",t)},__class__:Qi});var qi=function(t,e,i,s,n,r,o){null==e&&(e=0),null==t&&(t=0),this.detectCorners=!0,this.fillAngle=Math.PI,this.outerRadius=40,this.innerRadius=20,Vi.call(this,t,e,i),null!=r&&(this.outerRadius=r),null!=n&&(this.innerRadius=n),null!=s&&(this.fillAngle=s),null!=o&&(this.detectCorners=o),this.classString="Ring"};(e["ice.physicobjects.fixedobjects.Ring"]=qi).__name__="ice.physicobjects.fixedobjects.Ring",qi.__super__=Vi,qi.prototype=t(Vi.prototype,{clone:function(){var t=cs.__cast(Vi.prototype.clone.call(this),qi);return this._cloneProp("innerRadius",t),this._cloneProp("outerRadius",t),this._cloneProp("fillAngle",t),this._cloneProp("detectCorners",t),t},scale:function(t){return Vi.prototype.scale.call(this,t),this.innerRadius*=t,this.outerRadius*=t,this},flipVertical:function(t,e){return Vi.prototype.flipVertical.call(this,t),this.rotation=-(this.rotation+this.fillAngle),this},flipHorizontal:function(t,e){return Vi.prototype.flipHorizontal.call(this,t),this.rotation=Math.PI-(this.rotation+this.fillAngle),this},_getDefaultBounds:function(t){var e=new ji(0,this.innerRadius).setAngle(this.rotation),i=new ji(0,this.innerRadius).setAngle(this.rotation+this.fillAngle),s=new ji(0,this.outerRadius).setAngle(this.rotation),n=new ji(0,this.outerRadius).setAngle(this.rotation+this.fillAngle);this.isAngleBetween(Math.PI)?this.xMin=t.x-this.outerRadius:this.xMin=t.x+Math.min(e.x,Math.min(i.x,Math.min(s.x,n.x))),this.isAngleBetween(0)?this.xMax=t.x+this.outerRadius:this.xMax=t.x+Math.max(e.x,Math.max(i.x,Math.max(s.x,n.x))),this.isAngleBetween(1.5*Math.PI)?this.yMin=t.y-this.outerRadius:this.yMin=t.y+Math.min(e.y,Math.min(i.y,Math.min(s.y,n.y))),this.isAngleBetween(.5*Math.PI)?this.yMax=t.y+this.outerRadius:this.yMax=t.y+Math.max(e.y,Math.max(i.y,Math.max(s.y,n.y)))},isAngleBetween:function(t){for(;t<this.rotation;)t+=2*Math.PI;for(;t>this.rotation+2*Math.PI;)t-=2*Math.PI;return t<=this.rotation+this.fillAngle},_detectCollision:function(t,e){var i=t.radius;if((c=as.getDistance(e,t.position))+i>this.innerRadius&&c-i<this.outerRadius){var s=as.getAngle(t.position,e);if(this.isAngleBetween(s)){var n=c>(this.outerRadius+this.innerRadius)/2?(a=s,this.outerRadius):(a=s-Math.PI,this.innerRadius),r=e.clone().plus(new ji(0,n).setAngle(s));return this.resolveCollision(t,a,r)}if(this.detectCorners){for(;s<this.rotation;)s+=2*Math.PI;var o,a,l,h=(2*this.rotation+this.fillAngle)/2+Math.PI>s?(o=1.5*Math.PI-(this.rotation+this.fillAngle),a=this.rotation+this.fillAngle+.5*Math.PI,l=e.y-this.outerRadius,e.y-this.innerRadius):(o=.5*Math.PI-this.rotation,a=this.rotation-.5*Math.PI,l=e.y+this.innerRadius,e.y+this.outerRadius),_=t.position.clone().rotateAround(e,o);if(_.x-i>e.x)return!1;if(_.y>l&&_.y<h){r=new ji(e.x,_.y).rotateAround(e,-o);return this.resolveCollision(t,a,r)}var c,u=e.clone();if(u.y=_.y<l?l:h,0<i-(c=as.getDistance(_,u))){var p=as.getAngle(_,u),d=u.rotateAround(e,-o);return this.resolveCollision(t,p-o,d)}}}return!1},_drawShapeAt:function(t,e,i,s){null==s&&(s=0);var n=new ji(Math.cos(s)*this.outerRadius+e,Math.sin(s)*this.outerRadius+i);t.moveTo(n.x,n.y),t.arcTo(s,s+this.fillAngle,this.outerRadius),t.lineTo(Math.cos(s+this.fillAngle)*this.innerRadius+e,Math.sin(s+this.fillAngle)*this.innerRadius+i),t.arcTo(s+this.fillAngle,s,this.innerRadius),t.lineTo(n.x,n.y)},importObject:function(t){Vi.prototype.importObject.call(this,t),_s.importProp(this,"innerRadius",t),_s.importProp(this,"outerRadius",t),_s.importProp(this,"fillAngle",t),_s.importProp(this,"detectCorners",t,"Boolean")},__class__:qi});var Zi=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.playSymbol=!1,this.hitSoundID="",this.hitThreshold=0,this.hitForce=5,Xi.call(this,t,e,i),this.classString="CircleBumper",this.fillColor=3355443,this.radius=50};(e["ice.physicobjects.fixedobjects.circles.CircleBumper"]=Zi).__name__="ice.physicobjects.fixedobjects.circles.CircleBumper",Zi.__super__=Xi,Zi.prototype=t(Xi.prototype,{clone:function(){var t=cs.__cast(Xi.prototype.clone.call(this),Zi);return this._cloneProp("hitForce",t),this._cloneProp("hitThreshold",t),this._cloneProp("hitSoundID",t),this._cloneProp("playSymbol",t),t},start:function(){this.broadcaster.addListener(this)},stop:function(){this.broadcaster.removeListener(this)},compile:function(){Xi.prototype.compile.call(this)},onCollision:function(t){var e,i;Math.abs(t.bounceSpeed)>=this.hitThreshold&&(e=t.movableObject.velocity,i=new ji(0,this.hitForce).setAngle(t.angle),e.plus(i),this.sound(this.hitSoundID),this.playSymbol&&this.mc.gotoAndPlay("bumper"),this.broadcaster.broadcastMessage("onBump",t))},_drawShapeAt:function(t,e,i,s){null==s&&(s=0),t.drawCircle(e,i,this.radius)},importObject:function(t){Xi.prototype.importObject.call(this,t),_s.importProp(this,"hitForce",t),_s.importProp(this,"hitThreshold",t),_s.importProp(this,"hitSoundID",t,"String"),_s.importProp(this,"playSymbol",t,"Boolean")},__class__:Zi});var $i=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.releaseSoundID="",this.holdSoundID="",this.randomFactor=1,this.outerRadius=20,this.targetRadius=2,Xi.call(this,t,e,i),this.classString="HideOut",this.fillColor=10066329,this.lineWidth=2,this.releaseVelocity=new ji(0,0)};(e["ice.physicobjects.fixedobjects.circles.HideOut"]=$i).__name__="ice.physicobjects.fixedobjects.circles.HideOut",$i.__super__=Xi,$i.prototype=t(Xi.prototype,{clone:function(){var t=cs.__cast(Xi.prototype.clone.call(this),$i);return this._cloneProp("targetRadius",t),this._cloneProp("outerRadius",t),this._cloneProp("holdSoundID",t),this._cloneProp("releaseSoundID",t),this._cloneProp("releaseVelocity",t),this._cloneProp("randomFactor",t),t},start:function(){this.broadcaster.addListener(this),this.onEnter=Ms(this,this._onEnter),this.onExit=null,this.radius=this.targetRadius,this.occupied=!1,this.transparent=!0},stop:function(){this.broadcaster.removeListener(this)},compile:function(){Xi.prototype.compile.call(this)},holdBall:function(t){this.occupied=!0,(this.ball=t).position=this.position.clone(),t.onAfterStepPhysics(),t.setEnabled(!1),this.transparent=!1,this.radius=t.radius,this.onExit=null,this.onEnter=null,this.sound(this.holdSoundID)},releaseBall:function(){if(!this.occupied)return null;this.occupied=!1;var t=this.ball.velocity=this.releaseVelocity.clone();return t.x+=(Math.random()-.5)*this.randomFactor,t.y+=(Math.random()-.5)*this.randomFactor,this.radius=this.targetRadius,this.transparent=!0,this.onExit=Ms(this,this._onExit),this.ball.setEnabled(!0),this.sound(this.releaseSoundID),this.ball},_getDefaultBounds:function(t){this.xMin=t.x-this.outerRadius,this.xMax=t.x+this.outerRadius,this.yMin=t.y-this.outerRadius,this.yMax=t.y+this.outerRadius},_drawShapeAt:function(t,e,i,s){null==s&&(s=0),t.drawCircle(e,i,this.outerRadius),t.drawCircle(e,i,this.targetRadius)},_onEnter:function(t){this.occupied||(this.holdBall(t.movableObject),this.broadcaster.broadcastMessage("onHoldBall",t))},_onExit:function(t){this.occupied||(this.onExit=null,this.onEnter=Ms(this,this._onEnter))},importObject:function(t){Xi.prototype.importObject.call(this,t),_s.importProp(this,"targetRadius",t),_s.importProp(this,"outerRadius",t),_s.importProp(this,"holdSoundID",t,"String"),_s.importProp(this,"releaseSoundID",t,"String"),_s.importProp(this,"releaseVelocity",t,"Vector"),_s.importProp(this,"randomFactor",t)},__class__:$i});var ts=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.playSymbol=!1,this.hitSoundID="",this.hitThreshold=0,this.hitForce=5,this.hitSegment=0,zi.call(this,t,e,i),this.classString="PolyBumper",this.fillColor=3355443};(e["ice.physicobjects.fixedobjects.convexpolygons.PolyBumper"]=ts).__name__="ice.physicobjects.fixedobjects.convexpolygons.PolyBumper",ts.__super__=zi,ts.prototype=t(zi.prototype,{clone:function(){var t=cs.__cast(zi.prototype.clone.call(this),ts);return this._cloneProp("hitSegment",t),this._cloneProp("hitForce",t),this._cloneProp("hitThreshold",t),this._cloneProp("hitSoundID",t),this._cloneProp("playSymbol",t),t},start:function(){this.broadcaster.addListener(this)},stop:function(){this.broadcaster.removeListener(this)},compile:function(){zi.prototype.compile.call(this),this.bumpAngle=this.segments[this.hitSegment].lineAngle-Math.PI/2+this.rotation},onCollision:function(t){t.angle==this.bumpAngle&&Math.abs(t.bounceSpeed)>=this.hitThreshold&&(t.movableObject.velocity.plus(new ji(0,this.hitForce).setAngle(t.angle)),this.sound(this.hitSoundID),this.playSymbol&&this.mc.gotoAndPlay("bumper"),this.broadcaster.broadcastMessage("onBump",t))},_drawShapeAt:function(t,e,i,s){null==s&&(s=0),zi.prototype._drawShapeAt.call(this,t,e,i,s);for(var n=[],r=0,o=this.points;r<o.length;){var a=o[r];++r,n.push(a.clone().rotate(s).plus(new ji(e,i)))}var l=t.createEmptyChild("mid",1);l.beginFill(16777215,this.fillAlpha/5),l.drawPoly(n),l.endFill();var h=this.segments[this.hitSegment],a=new ji(0,this.border).setAngle(h.lineAngle+s-Math.PI/2),_=h.p1.clone().rotate(s).plus(new ji(e,i)),c=h.p2.clone().rotate(s).plus(new ji(e,i)),u=_.clone().plus(a),p=c.clone().plus(a),d=t.createEmptyChild("bmp",2);d.beginFill(0,this.fillAlpha/2),d.drawPoly([u,_,c,p]),d.endFill()},importObject:function(t){zi.prototype.importObject.call(this,t),_s.importProp(this,"hitSegment",t),_s.importProp(this,"hitForce",t),_s.importProp(this,"hitThreshold",t),_s.importProp(this,"hitSoundID",t,"String"),_s.importProp(this,"playSymbol",t,"Boolean")},__class__:ts});var es=function(t,e,i,s,n,r,o,a){null==e&&(e=0),null==t&&(t=0),this.useCustomDetection=!1,this.direction=0,this.isDown=!1,this.downSoundID="",this.upSoundID="",this.hitSoundID="",this.keyCode=null,this.stepPosition=1,this.steps=5,this.endAngle=-.5,this.startAngle=.4,this.flipType=0,Wi.call(this,t,e,0,i,s,n),this.classString="PinballFlipper",this.radius1=13,this.radius2=6,this.flatLength=70,this.fillColor=3355443,this.forceMultiplier=2.5,null!=r&&(this.startAngle=r),null!=o&&(this.endAngle=o),null!=a&&(this.steps=a),this.rotation=this.startAngle};(e["ice.physicobjects.fixedobjects.flippers.PinballFlipper"]=es).__name__="ice.physicobjects.fixedobjects.flippers.PinballFlipper",es.__super__=Wi,es.prototype=t(Wi.prototype,{clone:function(){var t=cs.__cast(Wi.prototype.clone.call(this),es);return this._cloneProp("flipType",t),this._cloneProp("startAngle",t),this._cloneProp("endAngle",t),this._cloneProp("steps",t),this._cloneProp("keyCode",t),this._cloneProp("hitSoundID",t),this._cloneProp("upSoundID",t),this._cloneProp("downSoundID",t),t},flipVertical:function(t,e){return Wi.prototype.flipVertical.call(this,t,!0),this.startAngle*=-1,this.rotation=this.startAngle,this.endAngle*=-1,this.symbolYscale*=-1,this},flipHorizontal:function(t,e){return Wi.prototype.flipHorizontal.call(this,t,!0),this.startAngle=Math.PI-this.startAngle,this.rotation=this.startAngle,this.endAngle=Math.PI-this.endAngle,this.symbolYscale*=-1,this},rotate:function(t){this.startAngle+=t,this.rotation=this.startAngle,this.endAngle+=t},_render:function(t){this.useSymbol?t.createChild(this.symbolID,"symbol",0):this.autoRender&&this.drawShapeAt(t,0,0,0),this.onRender()},onRender:function(){this.mc.set_rotation(this.rotation/Math.PI*180)},moveToEnd:function(){this.direction=1,this.moving||this.getRoot().broadcaster.addListener(this),this.moving=!0,this.sound(this.upSoundID),this.broadcaster.broadcastMessage("onFlipperUp",{fixedObject:this})},moveToStart:function(){this.direction=-1,this.moving||this.getRoot().broadcaster.addListener(this),this.moving=!0,this.sound(this.downSoundID),this.broadcaster.broadcastMessage("onFlipperDown",{fixedObject:this})},start:function(){null!=this.keyCode&&os.addListener(this),this.broadcaster.addListener(this)},stop:function(){os.removeListener(this),this.broadcaster.removeListener(this)},compile:function(){Wi.prototype.compile.call(this),this.rotation=this.startAngle,0==this.flipType?(this.onBeforeStepPhysics=Ms(this,this.onBeforeStepPhysics_type0),this.useCustomDetection=!0,this.onCollision=null,this.tweak=null):(this.onBeforeStepPhysics=Ms(this,this.onBeforeStepPhysics_type1),this.onCollision=Ms(this,this._onCollision),this.tweak=Ms(this,this._tweak))},_getDefaultBounds:function(t){var e=new ji(this.flatLength,0).setAngle(this.startAngle).plus(t),i=new ji(this.flatLength,0).setAngle(this.endAngle).plus(t);this.isAngleBetween(Math.PI)?this.xMin=t.x-this.flatLength-this.radius2:this.xMin=Math.min(Math.min(t.x-this.radius1,e.x-this.radius2),i.x-this.radius2),this.isAngleBetween(0)?this.xMax=t.x+this.flatLength+this.radius2:this.xMax=Math.max(Math.max(t.x+this.radius1,e.x+this.radius2),i.x+this.radius2),this.isAngleBetween(1.5*Math.PI)?this.yMin=t.y-this.flatLength-this.radius2:this.yMin=Math.min(Math.min(t.y-this.radius1,e.y-this.radius2),i.y-this.radius2),this.isAngleBetween(.5*Math.PI)?this.yMax=t.y+this.flatLength+this.radius2:this.yMax=Math.max(Math.max(t.y+this.radius1,e.y+this.radius2),i.y+this.radius2)},isAngleBetween:function(t){for(var e=Math.min(this.startAngle,this.endAngle),i=Math.max(this.startAngle,this.endAngle);t<e;)t+=2*Math.PI;return t<i},onBeforeStepPhysics_type0:function(t){var e=!1;1==this.direction&&-1==this.stepPosition&&(e=!0),-1==this.direction&&1==this.stepPosition&&(e=!0),e?(this.getRoot().broadcaster.removeListener(this),this.moving=!1,this.direction=0):(this.stepPosition=-this.direction,this.rotation=-1==this.direction?this.startAngle:this.endAngle),this.onRender()},_detectCollision:function(t,e){if(this.useCustomDetection){if(this.moving){this.rotationSpeed=(this.endAngle-this.startAngle)*this.direction;for(var i=this.rotationSpeed/this.steps,s=1==this.direction?this.startAngle:this.endAngle,n=!1,r=0,o=this.steps+1;r<o;){var a=r++;this.rotation=s+i*a,Wi.prototype._detectCollision.call(this,t,e)&&(t.position.plus(t.velocity.clone().scale(1/this.steps)),n=!0)}return this.rotationSpeed=0,n&&this.sound(this.hitSoundID),n}return Wi.prototype._detectCollision.call(this,t,e)}return Wi.prototype._detectCollision.call(this,t,e)},onBeforeStepPhysics_type1:function(t){var e=!1;if(1==this.direction&&this.stepPosition==this.steps&&(e=!0),-1==this.direction&&0==this.stepPosition&&(e=!0),e)return this.parent.broadcaster.removeListener(this),this.moving=!1,void(this.rotationSpeed=0);this.stepPosition+=this.direction,this.rotationSpeed=(this.endAngle-this.startAngle)/this.steps*this.direction,this.rotation=this.startAngle+(this.endAngle-this.startAngle)/this.steps*this.stepPosition,this.onRender()},_onCollision:function(t){this.moving&&this.sound(this.hitSoundID)},_tweak:function(t,e){this.moving&&1==this.direction&&(0<this.rotationSpeed?e>t.y&&(t.y+=this.radius2):e<t.y&&(t.y-=this.radius2))},downHandler:function(){this.isDown||(this.isDown=!0,this.moveToEnd())},upHandler:function(){this.isDown&&(this.isDown=!1,this.moveToStart())},onKeyDown:function(t){t==this.keyCode&&this.downHandler()},onKeyUp:function(t){t==this.keyCode&&this.upHandler()},importObject:function(t){Wi.prototype.importObject.call(this,t),_s.importProp(this,"flipType",t),_s.importProp(this,"startAngle",t),_s.importProp(this,"endAngle",t),_s.importProp(this,"steps",t),_s.importProp(this,"keyCode",t),_s.importProp(this,"hitSoundID",t,"String"),_s.importProp(this,"upSoundID",t,"String"),_s.importProp(this,"downSoundID",t,"String")},__class__:es});var is=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.keyCode=os.ENTER,this.hitSoundID="",this.randomFactor=1,this.plungerSpeed=0,this.pullPos=0,this.pullAmount=40,this.pullSpeed=3,Ji.call(this,t,e,i),this.classString="Plunger",this.fillColor=3355443,this.width=30,this.height=80};(e["ice.physicobjects.fixedobjects.rectangles.Plunger"]=is).__name__="ice.physicobjects.fixedobjects.rectangles.Plunger",is.__super__=Ji,is.prototype=t(Ji.prototype,{clone:function(){var t=cs.__cast(Ji.prototype.clone.call(this),is);return this._cloneProp("pullSpeed",t),this._cloneProp("pullAmount",t),this._cloneProp("randomFactor",t),this._cloneProp("hitSoundID",t),this._cloneProp("keyCode",t),t},compile:function(){Ji.prototype.compile.call(this)},start:function(){os.addListener(this)},stop:function(){os.removeListener(this)},_render:function(t){this._centerMovieClip=t.createEmptyChild("cnt",0),this.useSymbol?this._centerMovieClip.createChild(this.symbolID,"symbol",0):this.autoRender&&this.drawShapeAt(this._centerMovieClip,0,0,this.rotation)},_detectCollision:function(t,e){var i=t.position.clone().minus(e).rotate(-this.rotation);if(i.x>-this.width/2&&i.x<this.width/2&&i.y<this.height/2){var s=-this.height/2+this.pullPos;if(i.y>s-t.radius){i.y=s,i.rotate(this.rotation).plus(e),this.velocity=new ji(0,this.plungerSpeed).rotate(this.rotation);var n=this.rotation-Math.PI/2;return-1==this._direction&&(""!=this.hitSoundID&&this.sound(this.hitSoundID),t.velocity.x+=(Math.random()-.5)*this.randomFactor,t.velocity.y+=(Math.random()-.5)*this.randomFactor,this.broadcaster.broadcastMessage("onShoot",{fixedObject:this,movableObject:t})),this.resolveCollision(t,n,i)}}return!1},downHandler:function(){this._isDown||(this._isDown=!0,this.pull())},upHandler:function(){this._isDown&&(this._isDown=!1,this.release())},onKeyDown:function(t){t==this.keyCode&&this.downHandler()},onKeyUp:function(t){t==this.keyCode&&this.upHandler()},pull:function(){this._isMoving||this.getRoot().broadcaster.addListener(this),this._isMoving=!0,this._direction=1,this.broadcaster.broadcastMessage("onPull",{fixedObject:this})},release:function(){this._isMoving||this.getRoot().broadcaster.addListener(this),this._isMoving=!0,this._direction=-1,this.broadcaster.broadcastMessage("onRelease",{fixedObject:this})},onBeforeStepPhysics:function(t){var e=this.pullPos;1==this._direction&&(this.pullPos>=this.pullAmount?(this.pullPos=this.pullAmount,this.getRoot().broadcaster.removeListener(this),this._isMoving=!1,this._direction=0):(this.pullPos+=this.pullSpeed,this.pullPos=Math.min(this.pullPos,this.pullAmount))),-1==this._direction&&(this.pullPos<=0?(this.pullPos=0,this.getRoot().broadcaster.removeListener(this),this._isMoving=!1,this._direction=0):this.pullPos=0),this.plungerSpeed=this.pullPos-e;var i=new ji(0,this.pullPos).rotate(this.rotation);this._centerMovieClip.set_x(i.x),this._centerMovieClip.set_y(i.y)},importObject:function(t){Ji.prototype.importObject.call(this,t),_s.importProp(this,"pullSpeed",t),_s.importProp(this,"pullAmount",t),_s.importProp(this,"randomFactor",t),_s.importProp(this,"hitSoundID",t,"String"),_s.importProp(this,"keyCode",t)},__class__:is});var ss=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.upperLevel=1,this.lowerLevel=0,Ji.call(this,t,e,i),this.classString="Ramp",this.transparent=!0,this.autoRender=!1,this.width=100,this.height=10};(e["ice.physicobjects.fixedobjects.rectangles.Ramp"]=ss).__name__="ice.physicobjects.fixedobjects.rectangles.Ramp",ss.__super__=Ji,ss.prototype=t(Ji.prototype,{clone:function(){var t=cs.__cast(Ji.prototype.clone.call(this),ss);return this._cloneProp("lowerLevel",t),this._cloneProp("upperLevel",t),t},compile:function(){Ji.prototype.compile.call(this),this.transparent=!0},start:function(){this.broadcaster.addListener(this)},stop:function(){this.broadcaster.removeListener(this)},onExit:function(t){var e=t.movableObject,i=e.position.clone(),s=this.getGlobalPosition(),n=i.minus(s).rotate(-this.rotation);n.x>-this.width/2&&n.x<this.width/2&&(0<n.y?(e.level=this.lowerLevel,this.broadcaster.broadcastMessage("onLowerLevel",t)):(e.level=this.upperLevel,this.broadcaster.broadcastMessage("onUpperLevel",t)))},importObject:function(t){Ji.prototype.importObject.call(this,t),_s.importProp(this,"lowerLevel",t),_s.importProp(this,"upperLevel",t)},__class__:ss});var ns=function(t,e,i){null==e&&(e=0),null==t&&(t=0),this.switchSoundID="",this.state=!0,this.light="",Ji.call(this,t,e,i),this.classString="Target",this.transparent=!0,this.fillColor=0,this.width=40,this.height=3};(e["ice.physicobjects.fixedobjects.rectangles.Target"]=ns).__name__="ice.physicobjects.fixedobjects.rectangles.Target",ns.__super__=Ji,ns.prototype=t(Ji.prototype,{setState:function(t){this.state=t,this.lightRef.setState(t),this.broadcaster.broadcastMessage("onStateChanged",{target:this,state:t})},clone:function(){var t=cs.__cast(Ji.prototype.clone.call(this),ns);return this._cloneProp("light",t),this._cloneProp("state",t),this._cloneProp("switchSoundID",t),t},compile:function(){Ji.prototype.compile.call(this),this.lightRef=this.getObjectRef(this.light),this.setState(this.state)},start:function(){this.broadcaster.addListener(this),this.initState=this.state},stop:function(){this.broadcaster.removeListener(this),this.state=this.initState},onEnter:function(t){this.state&&(this.setState(!1),this.sound(this.switchSoundID),this.broadcaster.broadcastMessage("onSwitch",t))},importObject:function(t){Ji.prototype.importObject.call(this,t),_s.importProp(this,"light",t,"String"),_s.importProp(this,"state",t,"Boolean"),_s.importProp(this,"switchSoundID",t,"String")},__class__:ns});var rs=function(){this._listeners=[]};(e["ice.utils.Broadcaster"]=rs).__name__="ice.utils.Broadcaster",rs.prototype={addListener:function(t){return-1==this._listeners.indexOf(t)&&(this._listeners.unshift(t),!0)},removeListener:function(t){return P.remove(this._listeners,t)},broadcastMessage:function(t,e){for(var i=0,s=this._listeners;i<s.length;){var n=s[i];++i;try{var r=C.field(n,t);null!=r&&r.apply(n,null==e?[]:[e])}catch(t){}}},__class__:rs};var os=function(){};(e["ice.utils.KeyboardHelper"]=os).__name__="ice.utils.KeyboardHelper",os._init=function(){os._isInitialized||(os._isInitialized=!0,os._listeners=[])},os.addListener=function(t){os._init(),-1==os._listeners.indexOf(t)&&os._listeners.push(t)},os.removeListener=function(t){os._init(),P.remove(os._listeners,t)},os.keyUp=function(t){for(var e=0,i=os._listeners;e<i.length;){var s=i[e];++e;try{s.onKeyUp(t)}catch(t){}}},os.keyDown=function(t){for(var e=0,i=os._listeners;e<i.length;){var s=i[e];++e;try{s.onKeyDown(t)}catch(t){}}},os.prototype={__class__:os};var as=function(){};(e["ice.utils.MathHelper"]=as).__name__="ice.utils.MathHelper",as.getDistance=function(t,e){return t.clone().minus(e).getLength()},as.getAngle=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)},as.fixAngle=function(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t};var ls=function(t,e){null==e&&(e=0),null==t&&(t=new createjs.Container),t.mouseEnabled=!1,t.mouseChildren=!1,this._context=t,this._shape=new createjs.Shape,this._graphics=this._shape.graphics,this._penX=0,this._penY=0,this._graphics.beginFill("#00FF00"),this._graphics.beginStroke("#0000FF"),this._graphics.setStrokeStyle(1),this._depth=e};(e["ice.utils.MovieClip"]=ls).__name__="ice.utils.MovieClip",ls.prototype={createEmptyChild:function(t,e){var i=new ls(null,e);return i._context.name=t,this._context.addChild(i._context),i},createChild:function(t,e,i){var s=hs.getSymbol(t);null==s?(this._graphics.beginFill("#ff0000"),this._graphics.drawCircle(0,0,15)):(this._context.addChild(s),this._symbol=s)},gotoAndStop:function(t){null==t&&(t=1),null!=this._symbol&&this._symbol instanceof createjs.Sprite&&this._symbol.gotoAndStop(t)},gotoAndPlay:function(t){null==t&&(t=""),null!=this._symbol&&this._symbol instanceof createjs.Sprite&&this._symbol.gotoAndPlay(t)},stop:function(){null!=this._symbol&&this._symbol instanceof createjs.Sprite&&this._symbol.stop()},play:function(){null!=this._symbol&&this._symbol instanceof createjs.Sprite&&this._symbol.play()},get_x:function(){return this._context.x},get_y:function(){return this._context.y},get_xScale:function(){return 100*this._context.scaleX},get_yScale:function(){return 100*this._context.scaleY},get_alpha:function(){return 100*this._context.alpha},get_rotation:function(){return this._context.rotation},set_x:function(t){return this._context.x=Math.round(t)},set_y:function(t){return this._context.y=Math.round(t)},set_xScale:function(t){return this._context.scaleX=t/100},set_yScale:function(t){return this._context.scaleY=t/100},set_alpha:function(t){return this._context.alpha=t/100},set_rotation:function(t){return this._context.rotation=t},get_visible:function(){return this._context.visible},set_visible:function(t){return this._context.visible=t},_colorIntToString:function(t){return"#"+c.hex(t,6)},beginFill:function(t,e){null==e&&(e=100),this._graphics.beginFill(this._colorIntToString(t))},lineStyle:function(t,e,i){null==i&&(i=100),this._graphics.setStrokeStyle(t),this._graphics.beginStroke(this._colorIntToString(e))},endFill:function(){this._graphics.endFill()},moveTo:function(t,e){this._graphics.moveTo(t,e),this._penX=t,this._penY=e},lineTo:function(t,e){this._graphics.lineTo(t,e),this._penX=t,this._penY=e},arcTo:function(t,e,i){for(var s=e-t,n=Math.abs(Math.ceil(s/6.283185307179586/10))+1|0,r=s/n,o=i/Math.cos(r/2),a=this._penX-Math.cos(t)*i,l=this._penY-Math.sin(t)*i,h=(Math.PI,1),_=1+n;h<_;){var c=t+h++*r;this._graphics.curveTo(Math.cos(c-r/2)*o+a,Math.sin(c-r/2)*o+l,Math.cos(c)*i+a,Math.sin(c)*i+l)}},drawPoly:function(t){this.moveTo(t[0].x,t[0].y);for(var e=0,i=t.length;e<i;){var s=e++;this.lineTo(t[s].x,t[s].y)}},drawCircle:function(t,e,i){this._graphics.drawCircle(t,e,i)},drawRegPoly:function(t,e,i,s,n){for(var r,o,a=n,l=[],h=6.283185307179586/s,_=Math.cos,c=Math.sin;0<s--;)r=i*_(a+=h)+t,o=i*c(a)+e,l.push(new ji(r,o));this.drawPoly(l)},__class__:ls,__properties__:{set_visible:"set_visible",get_visible:"get_visible",set_rotation:"set_rotation",get_rotation:"get_rotation",set_alpha:"set_alpha",get_alpha:"get_alpha",set_yScale:"set_yScale",get_yScale:"get_yScale",set_xScale:"set_xScale",get_xScale:"get_xScale",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}};var hs=function(){};(e["ice.utils.SymbolHelper"]=hs).__name__="ice.utils.SymbolHelper",hs.setSymbolFactoryCallback=function(t){hs._symbolFactoryCallback=t},hs.getSymbol=function(t){return null==hs._symbolFactoryCallback?null:hs._symbolFactoryCallback(t)};var _s=function(){};(e["ice.utils.XmlHelper"]=_s).__name__="ice.utils.XmlHelper",_s.importProp=function(t,e,i,s){if(Ii.resolve(i,e)){var n=Ai.resolve(i,e);if(null==s)o=parseFloat(n);else switch(s){case"Boolean":o="true"==n;break;case"Color":o=M.parseInt(n);break;case"String":o=null==n?"null":""+n;break;case"Vector":var r=n.split(","),o=new ji(parseFloat(r[0]),parseFloat(r[1]));break;default:o=parseFloat(n)}t[e]=o}};var cs=function(){};(e["js.Boot"]=cs).__name__="js.Boot",cs.getClass=function(t){if(null==t)return null;if(t instanceof Array)return Array;var e=t.__class__;if(null!=e)return e;var i=cs.__nativeClassName(t);return null!=i?cs.__resolveNativeClass(i):null},cs.__string_rec=function(n,r){if(null==n)return"null";if(5<=r.length)return"<...>";var t,e=typeof n;switch("function"==e&&(n.__name__||n.__ename__)&&(e="object"),e){case"function":return"<function>";case"object":if(n.__enum__){var i=E[n.__enum__],s=i.__constructs__[n._hx_index],o=i[s];return o.__params__?(r+="\t",s+"("+function(){for(var t=[],e=0,i=o.__params__;e<i.length;){var s=i[e];e+=1,t.push(cs.__string_rec(n[s],r))}return t}().join(",")+")"):s}if(n instanceof Array){var a="[";r+="\t";for(var l=0,h=n.length;l<h;){var _=l++;a+=(0<_?",":"")+cs.__string_rec(n[_],r)}return a+="]"}try{t=n.toString}catch(l){return"???"}if(null!=t&&t!=Object.toString&&"function"==typeof t){var c=n.toString();if("[object Object]"!=c)return c}a="{\n";r+="\t";var u=null!=n.hasOwnProperty,p=null;for(p in n)u&&!n.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=a.length&&(a+=", \n"),a+=r+p+" : "+cs.__string_rec(n[p],r));return a+="\n"+(r=r.substring(1))+"}";case"string":return n;default:return String(n)}},cs.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var s=0,n=i.length;s<n;){var r=i[s++];if(r==e||cs.__interfLoop(r,e))return!0}return cs.__interfLoop(t.__super__,e)},cs.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array;case Rs:return"boolean"==typeof t;case Ds:return null!=t;case Bs:return"number"==typeof t;case Os:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(cs.__downcastCheck(t,e))return!0}else if("object"==typeof e&&cs.__isNativeObj(e)&&t instanceof e)return!0;return e==Ls&&null!=t.__name__?!0:e==Fs&&null!=t.__ename__||null!=t.__enum__&&E[t.__enum__]==e}},cs.__downcastCheck=function(t,e){return t instanceof e||!!e.__isInterface__&&cs.__interfLoop(cs.getClass(t),e)},cs.__implements=function(t,e){return cs.__interfLoop(cs.getClass(t),e)},cs.__cast=function(t,e){if(null==t||cs.__instanceof(t,e))return t;throw ii.thrown("Cannot cast "+M.string(t)+" to "+M.string(e))},cs.__nativeClassName=function(t){var e=cs.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},cs.__isNativeObj=function(t){return null!=cs.__nativeClassName(t)},cs.__resolveNativeClass=function(t){return d[t]};var us=function(){};(e["js.Browser"]=us).__name__="js.Browser",us.getLocalStorage=function(){try{var t,e=window.localStorage;return e.getItem(""),0==e.length&&(t="_hx_"+Math.random(),e.setItem(t,t),e.removeItem(t)),e}catch(t){return null}},us.getSessionStorage=function(){try{var t,e=window.sessionStorage;return e.getItem(""),0==e.length&&(t="_hx_"+Math.random(),e.setItem(t,t),e.removeItem(t)),e}catch(t){return null}},us.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw ii.thrown("Unable to create XMLHttpRequest object.")};var ps=function(){};(e["js.Cookie"]=ps).__name__="js.Cookie",ps.set=function(t,e,i,s,n){var r=t+"="+encodeURIComponent(e);null!=i&&(r+=";expires="+new Date((new Date).getTime()+1e3*i).toGMTString()),null!=s&&(r+=";path="+s),null!=n&&(r+=";domain="+n),window.document.cookie=r},ps.all=function(){for(var t=new Si,e=window.document.cookie.split(";"),i=0;i<e.length;){var s=e[i];++i;var n,r=(s=c.ltrim(s)).split("=");r.length<2||(n=decodeURIComponent(r[1].split("+").join(" ")),t.h[r[0]]=n)}return t},ps.get=function(t){return ps.all().h[t]},ps.exists=function(t){var e=ps.all();return Object.prototype.hasOwnProperty.call(e.h,t)},ps.remove=function(t,e,i){ps.set(t,"",-10,e,i)};function ds(){}var gs=E["tweezer.EEase"]={__ename__:"tweezer.EEase",__constructs__:["EASE_IN","EASE_IN_OUT","EASE_OUT","EASE_OUT_IN"],EASE_IN:{_hx_index:0,__enum__:"tweezer.EEase",toString:i},EASE_IN_OUT:{_hx_index:1,__enum__:"tweezer.EEase",toString:i},EASE_OUT:{_hx_index:2,__enum__:"tweezer.EEase",toString:i},EASE_OUT_IN:{_hx_index:3,__enum__:"tweezer.EEase",toString:i}},fs=E["tweezer.ETween"]={__ename__:"tweezer.ETween",__constructs__:["BACK","BOUNCE","CIRCULAR","CUBIC","ELASTIC","EXPONENTIAL","LINEAR","QUADRATIC","QUARTIC","QUINTIC","SINE"],BACK:((_=function(t){return{_hx_index:0,p_overshoot:t,__enum__:"tweezer.ETween",toString:i}}).__params__=["p_overshoot"],_),BOUNCE:{_hx_index:1,__enum__:"tweezer.ETween",toString:i},CIRCULAR:{_hx_index:2,__enum__:"tweezer.ETween",toString:i},CUBIC:{_hx_index:3,__enum__:"tweezer.ETween",toString:i},ELASTIC:((_=function(t,e){return{_hx_index:4,p_period:t,p_amplitude:e,__enum__:"tweezer.ETween",toString:i}}).__params__=["p_period","p_amplitude"],_),EXPONENTIAL:{_hx_index:5,__enum__:"tweezer.ETween",toString:i},LINEAR:{_hx_index:6,__enum__:"tweezer.ETween",toString:i},QUADRATIC:{_hx_index:7,__enum__:"tweezer.ETween",toString:i},QUARTIC:{_hx_index:8,__enum__:"tweezer.ETween",toString:i},QUINTIC:{_hx_index:9,__enum__:"tweezer.ETween",toString:i},SINE:{_hx_index:10,__enum__:"tweezer.ETween",toString:i}};(e["tweezer.TweenFactory"]=ds).__name__="tweezer.TweenFactory",ds.createTweenFunction=function(e,i,s,t,n){switch(null==t&&(t=gs.EASE_IN),null==n&&(n=fs.LINEAR),n._hx_index){case 0:var r=n.p_overshoot;switch(null==r&&(r=1.70158),t._hx_index){case 0:return function(t){return ms.easeIn(t,e,i,s,r)};case 1:return function(t){return ms.easeInOut(t,e,i,s,r)};case 2:return function(t){return ms.easeOut(t,e,i,s,r)};case 3:return function(t){return ms.easeOutIn(t,e,i,s,r)}}break;case 1:switch(t._hx_index){case 0:return function(t){return bs.easeIn(t,e,i,s)};case 1:return function(t){return bs.easeInOut(t,e,i,s)};case 2:return function(t){return bs.easeOut(t,e,i,s)};case 3:return function(t){return bs.easeOutIn(t,e,i,s)}}break;case 2:switch(t._hx_index){case 0:return function(t){return Ss.easeIn(t,e,i,s)};case 1:return function(t){return Ss.easeInOut(t,e,i,s)};case 2:return function(t){return Ss.easeOut(t,e,i,s)};case 3:return function(t){return Ss.easeOutIn(t,e,i,s)}}break;case 3:switch(t._hx_index){case 0:return function(t){return vs.easeIn(t,e,i,s)};case 1:return function(t){return vs.easeInOut(t,e,i,s)};case 2:return function(t){return vs.easeOut(t,e,i,s)};case 3:return function(t){return vs.easeOutIn(t,e,i,s)}}break;case 4:var o=n.p_amplitude,a=n.p_period;switch(null==a&&(a=.3*s*(t==gs.EASE_IN_OUT?1.5:1)),null==o&&(o=0),t._hx_index){case 0:return function(t){return ws.easeIn(t,e,i,s,a,o)};case 1:return function(t){return ws.easeInOut(t,e,i,s,a,o)};case 2:return function(t){return ws.easeOut(t,e,i,s,a,o)};case 3:return function(t){return ws.easeOutIn(t,e,i,s,a,o)}}break;case 5:switch(t._hx_index){case 0:return function(t){return xs.easeIn(t,e,i,s)};case 1:return function(t){return xs.easeInOut(t,e,i,s)};case 2:return function(t){return xs.easeOut(t,e,i,s)};case 3:return function(t){return xs.easeOutIn(t,e,i,s)}}break;case 6:return function(t){return Es.ease(t,e,i,s)};case 7:switch(t._hx_index){case 0:return function(t){return Cs.easeIn(t,e,i,s)};case 1:return function(t){return Cs.easeInOut(t,e,i,s)};case 2:return function(t){return Cs.easeOut(t,e,i,s)};case 3:return function(t){return Cs.easeOutIn(t,e,i,s)}}break;case 8:switch(t._hx_index){case 0:return function(t){return Ts.easeIn(t,e,i,s)};case 1:return function(t){return Ts.easeInOut(t,e,i,s)};case 2:return function(t){return Ts.easeOut(t,e,i,s)};case 3:return function(t){return Ts.easeOutIn(t,e,i,s)}}break;case 9:switch(t._hx_index){case 0:return function(t){return As.easeIn(t,e,i,s)};case 1:return function(t){return As.easeInOut(t,e,i,s)};case 2:return function(t){return As.easeOut(t,e,i,s)};case 3:return function(t){return As.easeOutIn(t,e,i,s)}}break;case 10:switch(t._hx_index){case 0:return function(t){return Is.easeIn(t,e,i,s)};case 1:return function(t){return Is.easeInOut(t,e,i,s)};case 2:return function(t){return Is.easeOut(t,e,i,s)};case 3:return function(t){return Is.easeOutIn(t,e,i,s)}}}};var ys=function(t,e,i,s,n,r,o,a,l,h,_){null==o&&(o=0),null==r&&(r=1e3),null==n&&(n=0),this._updateCallback=e,this._startValue=i,this._endValue=s,this._startDelay=n,this._duration=r,this._endDelay=o,this._easeType=a,this._tweenType=l,this._completeCallback=h,this._isSnap=_,m.call(this,t),this._updater(),this._updates=0};(e["tweezer.Tweezer"]=ys).__name__="tweezer.Tweezer",ys.__super__=m,ys.prototype=t(m.prototype,{_init:function(){m.prototype._init.call(this),this._tweenFunction=ds.createTweenFunction(this._startValue,this._endValue-this._startValue,this._duration,this._easeType,this._tweenType)},_updater:function(t){var e;null==t&&(t=0),m.prototype._updater.call(this,t),null!=this._updateCallback&&(e=this._tweenFunction(Math.min(Math.max(0,this._age-this._startDelay),this._duration)),this._updateCallback(this._isSnap?Math.round(e):e)),this._age>=this._startDelay+this._duration+this._endDelay&&(null!=this._completeCallback&&this._completeCallback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:ys});var ms=function(){};(e["tweezer.tweens.Back"]=ms).__name__="tweezer.tweens.Back",ms.easeIn=function(t,e,i,s,n){return i*(t/=s)*t*((n+1)*t-n)+e},ms.easeOut=function(t,e,i,s,n){return i*((t=t/s-1)*t*((n+1)*t+n)+1)+e},ms.easeInOut=function(t,e,i,s,n){return(t/=s/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},ms.easeOutIn=function(t,e,i,s,n){return t<s/2?ms.easeOut(2*t,e,i/2,s,n):ms.easeIn(2*t-s,e+i/2,i/2,s,n)};var bs=function(){};(e["tweezer.tweens.Bounce"]=bs).__name__="tweezer.tweens.Bounce",bs.easeIn=function(t,e,i,s){return i-bs.easeOut(s-t,0,i,s)+e},bs.easeOut=function(t,e,i,s){return(t/=s)<.36363636363636365?i*(7.5625*t*t)+e:t<.7272727272727273?i*(7.5625*(t-=.5454545454545454)*t+.75)+e:t<.9090909090909091?i*(7.5625*(t-=.8181818181818182)*t+.9375)+e:i*(7.5625*(t-=.9545454545454546)*t+.984375)+e},bs.easeInOut=function(t,e,i,s){return t<s/2?.5*bs.easeIn(2*t,0,i,s)+e:.5*bs.easeOut(2*t-s,0,i,s)+.5*i+e},bs.easeOutIn=function(t,e,i,s){return t<s/2?bs.easeOut(2*t,e,i/2,s):bs.easeIn(2*t-s,e+i/2,i/2,s)};var Ss=function(){};(e["tweezer.tweens.Circular"]=Ss).__name__="tweezer.tweens.Circular",Ss.easeIn=function(t,e,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+e},Ss.easeOut=function(t,e,i,s){return t=t/s-1,i*Math.sqrt(1-t*t)+e},Ss.easeInOut=function(t,e,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},Ss.easeOutIn=function(t,e,i,s){return t<s/2?Ss.easeOut(2*t,e,i/2,s):Ss.easeIn(2*t-s,e+i/2,i/2,s)};var vs=function(){};(e["tweezer.tweens.Cubic"]=vs).__name__="tweezer.tweens.Cubic",vs.easeIn=function(t,e,i,s){return i*(t/=s)*t*t+e},vs.easeOut=function(t,e,i,s){return i*((t=t/s-1)*t*t+1)+e},vs.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},vs.easeOutIn=function(t,e,i,s){return t<s/2?vs.easeOut(2*t,e,i/2,s):vs.easeIn(2*t-s,e+i/2,i/2,s)};var ws=function(){};(e["tweezer.tweens.Elastic"]=ws).__name__="tweezer.tweens.Elastic",ws.easeIn=function(t,e,i,s,n,r){if(0==t)return e;if(1==(t/=s))return e+i;var o=0==r||r<Math.abs(i)?(r=i,n/4):n/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*--t)*Math.sin((t*s-o)*(2*Math.PI)/n))+e},ws.easeOut=function(t,e,i,s,n,r){if(0==t)return e;if(1==(t/=s))return e+i;var o=0==r||r<Math.abs(i)?(r=i,n/4):n/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin((t*s-o)*(2*Math.PI)/n)+i+e},ws.easeInOut=function(t,e,i,s,n,r){if(0==t)return e;if(2==(t/=s/2))return e+i;var o=0==r||r<Math.abs(i)?(r=i,n/4):n/(2*Math.PI)*Math.asin(i/r);return t<1?r*Math.pow(2,10*--t)*Math.sin((t*s-o)*(2*Math.PI)/n)*-.5+e:r*Math.pow(2,-10*--t)*Math.sin((t*s-o)*(2*Math.PI)/n)*.5+i+e},ws.easeOutIn=function(t,e,i,s,n,r){return t<s/2?ws.easeOut(2*t,e,i/2,s,n,r):ws.easeIn(2*t-s,e+i/2,i/2,s,n,r)};var xs=function(){};(e["tweezer.tweens.Exponential"]=xs).__name__="tweezer.tweens.Exponential",xs.easeIn=function(t,e,i,s){return 0==t?e:i*Math.pow(2,10*(t/s-1))+e-.001*i},xs.easeOut=function(t,e,i,s){return t==s?e+i:1.001*i*(1-Math.pow(2,-10*t/s))+e},xs.easeInOut=function(t,e,i,s){return 0==t?e:t==s?e+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e-5e-4*i:i/2*1.0005*(2-Math.pow(2,-10*--t))+e},xs.easeOutIn=function(t,e,i,s){return t<s/2?xs.easeOut(2*t,e,i/2,s):xs.easeIn(2*t-s,e+i/2,i/2,s)};var Es=function(){};(e["tweezer.tweens.Linear"]=Es).__name__="tweezer.tweens.Linear",Es.ease=function(t,e,i,s){return i*t/s+e};var Cs=function(){};(e["tweezer.tweens.Quadratic"]=Cs).__name__="tweezer.tweens.Quadratic",Cs.easeIn=function(t,e,i,s){return i*(t/=s)*t+e},Cs.easeOut=function(t,e,i,s){return-i*(t/=s)*(t-2)+e},Cs.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},Cs.easeOutIn=function(t,e,i,s){return t<s/2?Cs.easeOut(2*t,e,i/2,s):Cs.easeIn(2*t-s,e+i/2,i/2,s)};var Ts=function(){};(e["tweezer.tweens.Quartic"]=Ts).__name__="tweezer.tweens.Quartic",Ts.easeIn=function(t,e,i,s){return i*(t/=s)*t*t*t+e},Ts.easeOut=function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},Ts.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},Ts.easeOutIn=function(t,e,i,s){return t<s/2?Ts.easeOut(2*t,e,i/2,s):Ts.easeIn(2*t-s,e+i/2,i/2,s)};var As=function(){};(e["tweezer.tweens.Quintic"]=As).__name__="tweezer.tweens.Quintic",As.easeIn=function(t,e,i,s){return i*(t/=s)*t*t*t*t+e},As.easeOut=function(t,e,i,s){return i*((t=t/s-1)*t*t*t*t+1)+e},As.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},As.easeOutIn=function(t,e,i,s){return t<s/2?As.easeOut(2*t,e,i/2,s):As.easeIn(2*t-s,e+i/2,i/2,s)};var Is=function(){};function Ps(t){return t instanceof Array?new Ei(t):t.iterator()}function Ms(t,e){return null==e?null:(null==e.__id__&&(e.__id__=d.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&(i=e.bind(t),t.hx__closures__[e.__id__]=i),i);var i}(e["tweezer.tweens.Sine"]=Is).__name__="tweezer.tweens.Sine",Is.easeIn=function(t,e,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+e},Is.easeOut=function(t,e,i,s){return i*Math.sin(t/s*(Math.PI/2))+e},Is.easeInOut=function(t,e,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+e},Is.easeOutIn=function(t,e,i,s){return t<s/2?Is.easeOut(2*t,e,i/2,s):Is.easeIn(2*t-s,e+i/2,i/2,s)},d.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(P.now=performance.now.bind(performance)),e.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.prototype.__class__=e.String=String,String.__name__="String",e.Array=Array,Array.__name__="Array",Date.prototype.__class__=e.Date=Date,Date.__name__="Date";var ks,Os={},Ds={},Bs=Number,Rs=Boolean,Ls={},Fs={};ni.content=[{name:"revision",data:"MTgwDQoyMDIwLzEyLzA0IDA5OjAwOjUyDQo"},{name:"config",data:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxkYXRhPg0KCTxzZXR0aW5ncz4NCgkJPGZvbnQgbmFtZT0icG9ldHNlbi13ZWJmb250IiAvPg0KCQk8YXNjaWlBcnQ+DQogX19fX19fICAgICAgICAgX18gICAgICAgICBfXyAgICAgICAgICAgICAgICAgICAgIF9fX19fX18gX18gICAgICAgICAgICAgIA0KfCAgIF9fIFwuLS0tLi0ufF9ffC4tLS0tLS58ICB8LS0uLS0tLS0uLS0uLS0uLS0uIHwgICAgIF9ffCAgfF8uLS0tLi0uLS0tLS4NCnwgICAgICB8fCAgXyAgfHwgIHx8ICAgICB8fCAgXyAgfCAgXyAgfCAgfCAgfCAgfCB8X18gICAgIHwgICBffCAgXyAgfCAgIF98DQp8X19ffF9ffHxfX18uX3x8X198fF9ffF9ffHxfX19fX3xfX19fX3xfX19fX19fX3wgfF9fX19fX198X19fX3xfX18uX3xfX3wgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KCQk8L2FzY2lpQXJ0Pg0KCQk8dXJscyBibGFuaz0iZmFsc2UiPg0KCQkJPGF1dGhvcj5odHRwczovL2IxMGIuY29tPC9hdXRob3I+DQoJCQk8d2Vic2l0ZT5odHRwczovL2IxMGIuY29tPC93ZWJzaXRlPg0KCQk8L3VybHM+DQoJCTxnb29nbGVBbmFseXRpY3MgaWQ9IlVBLTIyNDA2MzM3LTE3IiBlbmFibGVkPSJmYWxzZSIgLz4NCgkJPGF1ZGlvSG9sZERlbGF5PjUwMDA8L2F1ZGlvSG9sZERlbGF5Pg0KCTwvc2V0dGluZ3M+DQoJPGd1aT4NCgkJPHByZWxvYWRlckNvbXBsZXRlPlBSRVNTIFRPIENPTlRJTlVFPC9wcmVsb2FkZXJDb21wbGV0ZT4NCgkJPGJ1dHRvbnM+DQoJCQk8dGVzdE1vZGU+DQoJCQkJPHNraXA+U2tpcDwvc2tpcD4NCgkJCTwvdGVzdE1vZGU+DQoJCTwvYnV0dG9ucz4NCgkJPHNjZW5lcz4NCgkJCTxnYW1lPg0KCQkJCTxhY2hpZXZlbWVudHM+DQoJCQkJCTxtaXNzaW9uMSB0aXRsZT0iVHJ1ZSBMb3ZlIiAvPg0KCQkJCQk8bWlzc2lvbjIgdGl0bGU9IkhpZGRlbiBUcmVhc3VyZSIgLz4NCgkJCQkJPG1pc3Npb24zIHRpdGxlPSJNeXN0ZXJpb3VzIEZvcmVzdCIgLz4NCgkJCQkJPG1pc3Npb240IHRpdGxlPSJGcmllbmRzIEZvcmV2ZXIiIC8+DQoJCQkJCTxib251cyB0aXRsZT0iVW5pY29ybiBDaGFsaWNlIiAvPg0KCQkJCTwvYWNoaWV2ZW1lbnRzPg0KCQkJPC9nYW1lPg0KCQkJPGluc3RydWN0aW9ucz4NCgkJCQk8dGl0bGU+SG93IFRvIFBsYXk8L3RpdGxlPg0KCQkJCTxwYWdlMT48IVtDREFUQVtUYXAgZG93biB0byBzaG9vdCB5b3VyIGJhbGwuIFRhcCBsZWZ0IG9yIHJpZ2h0IHRvIHVzZSB5b3VyIGZsaXBwZXJzLiBUYXAgdXAgdG8gdGlsdCB0aGUgdGFibGUuXV0+PC9wYWdlMT4NCgkJCQk8cGFnZTI+PCFbQ0RBVEFbU2hvb3QgdGhlIGJhbGwgYWxvbmcgdGhlIHRyYWluIHRyYWNrIHRvIHN0YXJ0IHlvdXIgbWlzc2lvbiwgdGhlbiBmb2xsb3cgdGhlIGxpZ2h0cy5dXT48L3BhZ2UyPg0KCQkJCTxwYWdlMz48IVtDREFUQVtBY3RpdmF0ZSB0aGUgcmFpbmJvdyB0dW5uZWwgdG8gdW5sb2NrIHRoZSBib251cyB0YWJsZSFdXT48L3BhZ2UzPg0KCQkJPC9pbnN0cnVjdGlvbnM+DQoJCQk8cmVzdWx0cz4NCgkJCQk8bWVzc2FnZT5XZWxsIGRvbmUmbHQ7YnIvJmd0O3lvdSBzY29yZWQ8L21lc3NhZ2U+DQoJCQkJPHdpbj5OZXcgaGlnaCBzY29yZSE8L3dpbj4NCgkJCQk8bG9zZT5IaWdoIHNjb3JlJmx0O2JyLyZndDtfX0hJR0hfU0NPUkVfXzwvbG9zZT4NCgkJCTwvcmVzdWx0cz4NCgkJPC9zY2VuZXM+DQoJPC9ndWk+DQo8L2RhdGE+DQo"}],bi.count=0,cs.__toStr={}.toString,O.Element=0,O.PCData=1,O.CData=2,O.Comment=3,O.DocType=4,O.ProcessingInstruction=5,O.Document=6,ri.USE_CACHE=!1,ri.USE_ENUM_INDEX=!1,ri.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",li.DEFAULT_RESOLVER=new ai,li.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",ui.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ui.BYTES=_i.ofString(ui.CHARS),Mi.escapes=((ks=new Si).h.lt="<",ks.h.gt=">",ks.h.amp="&",ks.h.quot='"',ks.h.apos="'",ks),Oi.uid=0,Ui._DEFAULT_MS=40,os.ENTER=13,os.SPACE=8,os.CONTROL=17,os.SHIFT=16,os._isInitialized=!1,ls.DEBUG_DISABLE_SYMBOL=!1,ls.DEBUG_DISABLE_AUTO_RENDER=!0,ls.DEBUG_FORCE_AUTO_RENDER=!1,de.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);